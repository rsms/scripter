!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([function(e,t,n){"use strict";e.exports=n(6)},function(e,t){e.exports=monaco},function(e,t){e.exports=__resources},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(7)},function(e,t,n){},function(e,t,n){"use strict";
/** @license React v16.9.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(3),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,h=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder");var v="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function _(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}function S(){}function k(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw y(Error(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},S.prototype=_.prototype;var E=k.prototype=new S;E.constructor=k,r(E,_.prototype),E.isPureReactComponent=!0;var C={current:null},x={suspense:null},T={current:null},M=Object.prototype.hasOwnProperty,L={key:!0,ref:!0,__self:!0,__source:!0};function P(e,t,n){var r=void 0,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)M.call(t,r)&&!L.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:T.current}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var I=/\/+/g,N=[];function A(e,t,n,r){if(N.length){var i=N.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function R(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>N.length&&N.push(e)}function D(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return r(i,t,""===n?"."+z(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+z(s=t[u],u);l+=e(s,c,r,i)}else if(c=null===t||"object"!=typeof t?null:"function"==typeof(c=v&&t[v]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=n+z(s,u++),r,i);else if("object"===s)throw r=""+t,y(Error(31),"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return l}(e,"",t,n)}function z(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function U(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j(e,r,n,function(e){return e}):null!=e&&(O(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(I,"$&/")+"/")+n)),r.push(e))}function j(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(I,"$&/")+"/"),D(e,F,t=A(t,o,r,i)),R(t)}function V(){var e=C.current;if(null===e)throw y(Error(321));return e}var B={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return j(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;D(e,U,t=A(null,null,t,n)),R(t)},count:function(e){return D(e,function(){return null},null)},toArray:function(e){var t=[];return j(e,t,null,function(e){return e}),t},only:function(e){if(!O(e))throw y(Error(143));return e}},createRef:function(){return{current:null}},Component:_,PureComponent:k,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:f,render:e}},lazy:function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return V().useCallback(e,t)},useContext:function(e,t){return V().useContext(e,t)},useEffect:function(e,t){return V().useEffect(e,t)},useImperativeHandle:function(e,t,n){return V().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return V().useLayoutEffect(e,t)},useMemo:function(e,t){return V().useMemo(e,t)},useReducer:function(e,t,n){return V().useReducer(e,t,n)},useRef:function(e){return V().useRef(e)},useState:function(e){return V().useState(e)},Fragment:s,Profiler:u,StrictMode:l,Suspense:p,unstable_SuspenseList:h,createElement:P,cloneElement:function(e,t,n){if(null==e)throw y(Error(267),e);var i=void 0,a=r({},e.props),s=e.key,l=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,u=T.current),void 0!==t.key&&(s=""+t.key);var c=void 0;for(i in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)M.call(t,i)&&!L.hasOwnProperty(i)&&(a[i]=void 0===t[i]&&void 0!==c?c[i]:t[i])}if(1===(i=arguments.length-2))a.children=n;else if(1<i){c=Array(i);for(var d=0;d<i;d++)c[d]=arguments[d+2];a.children=c}return{$$typeof:o,type:e.type,key:s,ref:l,props:a,_owner:u}},createFactory:function(e){var t=P.bind(null,e);return t.type=e,t},isValidElement:O,version:"16.9.0",unstable_withSuspenseConfig:function(e,t){var n=x.suspense;x.suspense=void 0===t?null:t;try{e()}finally{x.suspense=n}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:C,ReactCurrentBatchConfig:x,ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r}},W={default:B},$=W&&B||W;e.exports=$.default||$},function(e,t,n){"use strict";
/** @license React v16.9.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),i=n(3),o=n(8);function a(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}if(!r)throw a(Error(227));var s=null,l={};function u(){if(s)for(var e in l){var t=l[e],n=s.indexOf(e);if(!(-1<n))throw a(Error(96),e);if(!d[n]){if(!t.extractEvents)throw a(Error(97),e);for(var r in d[n]=t,n=t.eventTypes){var i=void 0,o=n[r],u=t,p=r;if(f.hasOwnProperty(p))throw a(Error(99),p);f[p]=o;var h=o.phasedRegistrationNames;if(h){for(i in h)h.hasOwnProperty(i)&&c(h[i],u,p);i=!0}else o.registrationName?(c(o.registrationName,u,p),i=!0):i=!1;if(!i)throw a(Error(98),r,e)}}}}function c(e,t,n){if(p[e])throw a(Error(100),e);p[e]=t,h[e]=t.eventTypes[n].dependencies}var d=[],f={},p={},h={};var m=!1,g=null,v=!1,y=null,b={onError:function(e){m=!0,g=e}};function w(e,t,n,r,i,o,a,s,l){m=!1,g=null,function(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}.apply(b,arguments)}var _=null,S=null,k=null;function E(e,t,n){var r=e.type||"unknown-event";e.currentTarget=k(n),function(e,t,n,r,i,o,s,l,u){if(w.apply(this,arguments),m){if(!m)throw a(Error(198));var c=g;m=!1,g=null,v||(v=!0,y=c)}}(r,t,void 0,e),e.currentTarget=null}function C(e,t){if(null==t)throw a(Error(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function x(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var T=null;function M(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)E(e,t[r],n[r]);else t&&E(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function L(e){if(null!==e&&(T=C(T,e)),e=T,T=null,e){if(x(e,M),T)throw a(Error(95));if(v)throw e=y,v=!1,y=null,e}}var P={injectEventPluginOrder:function(e){if(s)throw a(Error(101));s=Array.prototype.slice.call(e),u()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!l.hasOwnProperty(t)||l[t]!==r){if(l[t])throw a(Error(102),t);l[t]=r,n=!0}}n&&u()}};function O(e,t){var n=e.stateNode;if(!n)return null;var r=_(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw a(Error(231),t,typeof n);return n}var I=Math.random().toString(36).slice(2),N="__reactInternalInstance$"+I,A="__reactEventHandlers$"+I;function R(e){if(e[N])return e[N];for(;!e[N];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[N]).tag||6===e.tag?e:null}function D(e){return!(e=e[N])||5!==e.tag&&6!==e.tag?null:e}function z(e){if(5===e.tag||6===e.tag)return e.stateNode;throw a(Error(33))}function U(e){return e[A]||null}function F(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function j(e,t,n){(t=O(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function V(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=F(t);for(t=n.length;0<t--;)j(n[t],"captured",e);for(t=0;t<n.length;t++)j(n[t],"bubbled",e)}}function B(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=O(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function W(e){e&&e.dispatchConfig.registrationName&&B(e._targetInst,null,e)}function $(e){x(e,V)}var q=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement);function G(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var H={animationend:G("Animation","AnimationEnd"),animationiteration:G("Animation","AnimationIteration"),animationstart:G("Animation","AnimationStart"),transitionend:G("Transition","TransitionEnd")},K={},Z={};function Q(e){if(K[e])return K[e];if(!H[e])return e;var t,n=H[e];for(t in n)if(n.hasOwnProperty(t)&&t in Z)return K[e]=n[t];return e}q&&(Z=document.createElement("div").style,"AnimationEvent"in window||(delete H.animationend.animation,delete H.animationiteration.animation,delete H.animationstart.animation),"TransitionEvent"in window||delete H.transitionend.transition);var X=Q("animationend"),J=Q("animationiteration"),Y=Q("animationstart"),ee=Q("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ne=null,re=null,ie=null;function oe(){if(ie)return ie;var e,t,n=re,r=n.length,i="value"in ne?ne.value:ne.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return ie=i.slice(e,1<t?1-t:void 0)}function ae(){return!0}function se(){return!1}function le(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ae:se,this.isPropagationStopped=se,this}function ue(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function ce(e){if(!(e instanceof this))throw a(Error(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function de(e){e.eventPool=[],e.getPooled=ue,e.release=ce}i(le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ae)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ae)},persist:function(){this.isPersistent=ae},isPersistent:se,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=se,this._dispatchInstances=this._dispatchListeners=null}}),le.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},le.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,de(n),n},de(le);var fe=le.extend({data:null}),pe=le.extend({data:null}),he=[9,13,27,32],me=q&&"CompositionEvent"in window,ge=null;q&&"documentMode"in document&&(ge=document.documentMode);var ve=q&&"TextEvent"in window&&!ge,ye=q&&(!me||ge&&8<ge&&11>=ge),be=String.fromCharCode(32),we={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},_e=!1;function Se(e,t){switch(e){case"keyup":return-1!==he.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ke(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ee=!1;var Ce={eventTypes:we,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(me)e:{switch(e){case"compositionstart":i=we.compositionStart;break e;case"compositionend":i=we.compositionEnd;break e;case"compositionupdate":i=we.compositionUpdate;break e}i=void 0}else Ee?Se(e,n)&&(i=we.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=we.compositionStart);return i?(ye&&"ko"!==n.locale&&(Ee||i!==we.compositionStart?i===we.compositionEnd&&Ee&&(o=oe()):(re="value"in(ne=r)?ne.value:ne.textContent,Ee=!0)),i=fe.getPooled(i,t,n,r),o?i.data=o:null!==(o=ke(n))&&(i.data=o),$(i),o=i):o=null,(e=ve?function(e,t){switch(e){case"compositionend":return ke(t);case"keypress":return 32!==t.which?null:(_e=!0,be);case"textInput":return(e=t.data)===be&&_e?null:e;default:return null}}(e,n):function(e,t){if(Ee)return"compositionend"===e||!me&&Se(e,t)?(e=oe(),ie=re=ne=null,Ee=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ye&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=pe.getPooled(we.beforeInput,t,n,r)).data=e,$(t)):t=null,null===o?t:null===t?o:[o,t]}},xe=null,Te=null,Me=null;function Le(e){if(e=S(e)){if("function"!=typeof xe)throw a(Error(280));var t=_(e.stateNode);xe(e.stateNode,e.type,t)}}function Pe(e){Te?Me?Me.push(e):Me=[e]:Te=e}function Oe(){if(Te){var e=Te,t=Me;if(Me=Te=null,Le(e),t)for(e=0;e<t.length;e++)Le(t[e])}}function Ie(e,t){return e(t)}function Ne(e,t,n,r){return e(t,n,r)}function Ae(){}var Re=Ie,De=!1;function ze(){null===Te&&null===Me||(Ae(),Oe())}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ue[e.type]:"textarea"===t}function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Ve(e){if(!q)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function Be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function We(e){e._valueTracker||(e._valueTracker=function(e){var t=Be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var qe=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;qe.hasOwnProperty("ReactCurrentDispatcher")||(qe.ReactCurrentDispatcher={current:null}),qe.hasOwnProperty("ReactCurrentBatchConfig")||(qe.ReactCurrentBatchConfig={suspense:null});var Ge=/^(.*)[\\\/]/,He="function"==typeof Symbol&&Symbol.for,Ke=He?Symbol.for("react.element"):60103,Ze=He?Symbol.for("react.portal"):60106,Qe=He?Symbol.for("react.fragment"):60107,Xe=He?Symbol.for("react.strict_mode"):60108,Je=He?Symbol.for("react.profiler"):60114,Ye=He?Symbol.for("react.provider"):60109,et=He?Symbol.for("react.context"):60110,tt=He?Symbol.for("react.concurrent_mode"):60111,nt=He?Symbol.for("react.forward_ref"):60112,rt=He?Symbol.for("react.suspense"):60113,it=He?Symbol.for("react.suspense_list"):60120,ot=He?Symbol.for("react.memo"):60115,at=He?Symbol.for("react.lazy"):60116;He&&Symbol.for("react.fundamental"),He&&Symbol.for("react.responder");var st="function"==typeof Symbol&&Symbol.iterator;function lt(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=st&&e[st]||e["@@iterator"])?e:null}function ut(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Qe:return"Fragment";case Ze:return"Portal";case Je:return"Profiler";case Xe:return"StrictMode";case rt:return"Suspense";case it:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case et:return"Context.Consumer";case Ye:return"Context.Provider";case nt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ot:return ut(e.type);case at:if(e=1===e._status?e._result:null)return ut(e)}return null}function ct(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ut(e.type);n=null,r&&(n=ut(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Ge,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var dt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ft=Object.prototype.hasOwnProperty,pt={},ht={};function mt(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gt[e]=new mt(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gt[t]=new mt(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){gt[e]=new mt(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gt[e]=new mt(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gt[e]=new mt(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){gt[e]=new mt(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){gt[e]=new mt(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){gt[e]=new mt(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){gt[e]=new mt(e,5,!1,e.toLowerCase(),null,!1)});var vt=/[\-:]([a-z])/g;function yt(e){return e[1].toUpperCase()}function bt(e,t,n,r){var i=gt.hasOwnProperty(t)?gt[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!ft.call(ht,e)||!ft.call(pt,e)&&(dt.test(e)?ht[e]=!0:(pt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function wt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function _t(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function St(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=wt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function kt(e,t){null!=(t=t.checked)&&bt(e,"checked",t,!1)}function Et(e,t){kt(e,t);var n=wt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?xt(e,t.type,n):t.hasOwnProperty("defaultValue")&&xt(e,t.type,wt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ct(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function xt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vt,yt);gt[t]=new mt(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vt,yt);gt[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vt,yt);gt[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){gt[e]=new mt(e,1,!1,e.toLowerCase(),null,!1)}),gt.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){gt[e]=new mt(e,1,!1,e.toLowerCase(),null,!0)});var Tt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Mt(e,t,n){return(e=le.getPooled(Tt.change,e,t,n)).type="change",Pe(n),$(e),e}var Lt=null,Pt=null;function Ot(e){L(e)}function It(e){if($e(z(e)))return e}function Nt(e,t){if("change"===e)return t}var At=!1;function Rt(){Lt&&(Lt.detachEvent("onpropertychange",Dt),Pt=Lt=null)}function Dt(e){if("value"===e.propertyName&&It(Pt))if(e=Mt(Pt,e,je(e)),De)L(e);else{De=!0;try{Ie(Ot,e)}finally{De=!1,ze()}}}function zt(e,t,n){"focus"===e?(Rt(),Pt=n,(Lt=t).attachEvent("onpropertychange",Dt)):"blur"===e&&Rt()}function Ut(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return It(Pt)}function Ft(e,t){if("click"===e)return It(t)}function jt(e,t){if("input"===e||"change"===e)return It(t)}q&&(At=Ve("input")&&(!document.documentMode||9<document.documentMode));var Vt={eventTypes:Tt,_isInputEventSupported:At,extractEvents:function(e,t,n,r){var i=t?z(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=Nt:Fe(i)?At?o=jt:(o=Ut,a=zt):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Ft),o&&(o=o(e,t)))return Mt(o,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&xt(i,"number",i.value)}},Bt=le.extend({view:null,detail:null}),Wt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $t(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Wt[e])&&!!t[e]}function qt(){return $t}var Gt=0,Ht=0,Kt=!1,Zt=!1,Qt=Bt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:qt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Gt;return Gt=e.screenX,Kt?"mousemove"===e.type?e.screenX-t:0:(Kt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ht;return Ht=e.screenY,Zt?"mousemove"===e.type?e.screenY-t:0:(Zt=!0,0)}}),Xt=Qt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Jt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Yt={eventTypes:Jt,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?R(t):null):o=null,o===t)return null;var a=void 0,s=void 0,l=void 0,u=void 0;"mouseout"===e||"mouseover"===e?(a=Qt,s=Jt.mouseLeave,l=Jt.mouseEnter,u="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=Xt,s=Jt.pointerLeave,l=Jt.pointerEnter,u="pointer");var c=null==o?i:z(o);if(i=null==t?i:z(t),(e=a.getPooled(s,o,n,r)).type=u+"leave",e.target=c,e.relatedTarget=i,(n=a.getPooled(l,t,n,r)).type=u+"enter",n.target=i,n.relatedTarget=c,r=t,o&&r)e:{for(i=r,u=0,a=t=o;a;a=F(a))u++;for(a=0,l=i;l;l=F(l))a++;for(;0<u-a;)t=F(t),u--;for(;0<a-u;)i=F(i),a--;for(;u--;){if(t===i||t===i.alternate)break e;t=F(t),i=F(i)}t=null}else t=null;for(i=t,t=[];o&&o!==i&&(null===(u=o.alternate)||u!==i);)t.push(o),o=F(o);for(o=[];r&&r!==i&&(null===(u=r.alternate)||u!==i);)o.push(r),r=F(r);for(r=0;r<t.length;r++)B(t[r],"bubbled",e);for(r=o.length;0<r--;)B(o[r],"captured",n);return[e,n]}};function en(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var tn=Object.prototype.hasOwnProperty;function nn(e,t){if(en(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!tn.call(t,n[r])||!en(e[n[r]],t[n[r]]))return!1;return!0}function rn(e,t){return{responder:e,props:t}}function on(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function an(e){if(2!==on(e))throw a(Error(188))}function sn(e){if(!(e=function(e){var t=e.alternate;if(!t){if(3===(t=on(e)))throw a(Error(188));return 1===t?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return an(i),e;if(o===r)return an(i),t;o=o.sibling}throw a(Error(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw a(Error(189))}}if(n.alternate!==r)throw a(Error(190))}if(3!==n.tag)throw a(Error(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}new Map,new Map,new Set,new Map;var ln=le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),un=le.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cn=Bt.extend({relatedTarget:null});function dn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}for(var fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn=Bt.extend({key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=dn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:qt,charCode:function(e){return"keypress"===e.type?dn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?dn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),mn=Qt.extend({dataTransfer:null}),gn=Bt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:qt}),vn=le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),yn=Qt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),bn=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[X,"animationEnd",2],[J,"animationIteration",2],[Y,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[ee,"transitionEnd",2],["waiting","waiting",2]],wn={},_n={},Sn=0;Sn<bn.length;Sn++){var kn=bn[Sn],En=kn[0],Cn=kn[1],xn=kn[2],Tn="on"+(Cn[0].toUpperCase()+Cn.slice(1)),Mn={phasedRegistrationNames:{bubbled:Tn,captured:Tn+"Capture"},dependencies:[En],eventPriority:xn};wn[Cn]=Mn,_n[En]=Mn}var Ln={eventTypes:wn,getEventPriority:function(e){return void 0!==(e=_n[e])?e.eventPriority:2},extractEvents:function(e,t,n,r){var i=_n[e];if(!i)return null;switch(e){case"keypress":if(0===dn(n))return null;case"keydown":case"keyup":e=hn;break;case"blur":case"focus":e=cn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Qt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=gn;break;case X:case J:case Y:e=ln;break;case ee:e=vn;break;case"scroll":e=Bt;break;case"wheel":e=yn;break;case"copy":case"cut":case"paste":e=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Xt;break;default:e=le}return $(t=e.getPooled(i,t,n,r)),t}},Pn=Ln.getEventPriority,On=[];function In(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=R(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=je(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,a=null,s=0;s<d.length;s++){var l=d[s];l&&(l=l.extractEvents(r,t,o,i))&&(a=C(a,l))}L(a)}}var Nn=!0;function An(e,t){Rn(t,e,!1)}function Rn(e,t,n){switch(Pn(t)){case 0:var r=function(e,t,n){De||Ae();var r=Dn,i=De;De=!0;try{Ne(r,e,t,n)}finally{(De=i)||ze()}}.bind(null,t,1);break;case 1:r=function(e,t,n){Dn(e,t,n)}.bind(null,t,1);break;default:r=Dn.bind(null,t,1)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Dn(e,t,n){if(Nn){if(null===(t=R(t=je(n)))||"number"!=typeof t.tag||2===on(t)||(t=null),On.length){var r=On.pop();r.topLevelType=e,r.nativeEvent=n,r.targetInst=t,e=r}else e={topLevelType:e,nativeEvent:n,targetInst:t,ancestors:[]};try{if(n=e,De)In(n);else{De=!0;try{Re(In,n,void 0)}finally{De=!1,ze()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>On.length&&On.push(e)}}}var zn=new("function"==typeof WeakMap?WeakMap:Map);function Un(e){var t=zn.get(e);return void 0===t&&(t=new Set,zn.set(e,t)),t}function Fn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vn(e,t){var n,r=jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jn(r)}}function Bn(){for(var e=window,t=Fn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Fn((e=t.contentWindow).document)}return t}function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var $n=q&&"documentMode"in document&&11>=document.documentMode,qn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Gn=null,Hn=null,Kn=null,Zn=!1;function Qn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Zn||null==Gn||Gn!==Fn(n)?null:("selectionStart"in(n=Gn)&&Wn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Kn&&nn(Kn,n)?null:(Kn=n,(e=le.getPooled(qn.select,Hn,e,t)).type="select",e.target=Gn,$(e),e))}var Xn={eventTypes:qn,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=Un(o),i=h.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break e}o=!0}i=!o}if(i)return null;switch(o=t?z(t):window,e){case"focus":(Fe(o)||"true"===o.contentEditable)&&(Gn=o,Hn=t,Kn=null);break;case"blur":Kn=Hn=Gn=null;break;case"mousedown":Zn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Zn=!1,Qn(n,r);case"selectionchange":if($n)break;case"keydown":case"keyup":return Qn(n,r)}return null}};function Jn(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Yn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function er(e,t){if(null!=t.dangerouslySetInnerHTML)throw a(Error(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tr(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw a(Error(92));if(Array.isArray(t)){if(!(1>=t.length))throw a(Error(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:wt(n)}}function nr(e,t){var n=wt(t.value),r=wt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function rr(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}P.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_=U,S=D,k=z,P.injectEventPluginsByName({SimpleEventPlugin:Ln,EnterLeaveEventPlugin:Yt,ChangeEventPlugin:Vt,SelectEventPlugin:Xn,BeforeInputEventPlugin:Ce});var ir={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function or(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ar(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?or(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var sr=void 0,lr=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==ir.svg||"innerHTML"in e)e.innerHTML=t;else{for((sr=sr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=sr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ur(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var cr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dr=["Webkit","ms","Moz","O"];function fr(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||cr.hasOwnProperty(e)&&cr[e]?(""+t).trim():t+"px"}function pr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=fr(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(cr).forEach(function(e){dr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cr[t]=cr[e]})});var hr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mr(e,t){if(t){if(hr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw a(Error(137),e,"");if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw a(Error(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw a(Error(61))}if(null!=t.style&&"object"!=typeof t.style)throw a(Error(62),"")}}function gr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function vr(e,t){var n=Un(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=h[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.has(i)){switch(i){case"scroll":Rn(e,"scroll",!0);break;case"focus":case"blur":Rn(e,"focus",!0),Rn(e,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":Ve(i)&&Rn(e,i,!0);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(i)&&An(i,e)}n.add(i)}}}function yr(){}var br=null,wr=null;function _r(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Sr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var kr="function"==typeof setTimeout?setTimeout:void 0,Er="function"==typeof clearTimeout?clearTimeout:void 0;function Cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}new Set;var xr=[],Tr=-1;function Mr(e){0>Tr||(e.current=xr[Tr],xr[Tr]=null,Tr--)}function Lr(e,t){xr[++Tr]=e.current,e.current=t}var Pr={},Or={current:Pr},Ir={current:!1},Nr=Pr;function Ar(e,t){var n=e.type.contextTypes;if(!n)return Pr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Rr(e){return null!=(e=e.childContextTypes)}function Dr(e){Mr(Ir),Mr(Or)}function zr(e){Mr(Ir),Mr(Or)}function Ur(e,t,n){if(Or.current!==Pr)throw a(Error(168));Lr(Or,t),Lr(Ir,n)}function Fr(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw a(Error(108),ut(t)||"Unknown",o);return i({},n,r)}function jr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Pr,Nr=Or.current,Lr(Or,t),Lr(Ir,Ir.current),!0}function Vr(e,t,n){var r=e.stateNode;if(!r)throw a(Error(169));n?(t=Fr(e,t,Nr),r.__reactInternalMemoizedMergedChildContext=t,Mr(Ir),Mr(Or),Lr(Or,t)):Mr(Ir),Lr(Ir,n)}var Br=o.unstable_runWithPriority,Wr=o.unstable_scheduleCallback,$r=o.unstable_cancelCallback,qr=o.unstable_shouldYield,Gr=o.unstable_requestPaint,Hr=o.unstable_now,Kr=o.unstable_getCurrentPriorityLevel,Zr=o.unstable_ImmediatePriority,Qr=o.unstable_UserBlockingPriority,Xr=o.unstable_NormalPriority,Jr=o.unstable_LowPriority,Yr=o.unstable_IdlePriority,ei={},ti=void 0!==Gr?Gr:function(){},ni=null,ri=null,ii=!1,oi=Hr(),ai=1e4>oi?Hr:function(){return Hr()-oi};function si(){switch(Kr()){case Zr:return 99;case Qr:return 98;case Xr:return 97;case Jr:return 96;case Yr:return 95;default:throw a(Error(332))}}function li(e){switch(e){case 99:return Zr;case 98:return Qr;case 97:return Xr;case 96:return Jr;case 95:return Yr;default:throw a(Error(332))}}function ui(e,t){return e=li(e),Br(e,t)}function ci(e,t,n){return e=li(e),Wr(e,t,n)}function di(e){return null===ni?(ni=[e],ri=Wr(Zr,pi)):ni.push(e),ei}function fi(){null!==ri&&$r(ri),pi()}function pi(){if(!ii&&null!==ni){ii=!0;var e=0;try{var t=ni;ui(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),ni=null}catch(t){throw null!==ni&&(ni=ni.slice(e+1)),Wr(Zr,fi),t}finally{ii=!1}}}function hi(e,t){return 1073741823===t?99:1===t?95:0>=(e=10*(1073741821-t)-10*(1073741821-e))?99:250>=e?98:5250>=e?97:95}function mi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var gi={current:null},vi=null,yi=null,bi=null;function wi(){bi=yi=vi=null}function _i(e,t){var n=e.type._context;Lr(gi,n._currentValue),n._currentValue=t}function Si(e){var t=gi.current;Mr(gi),e.type._context._currentValue=t}function ki(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Ei(e,t){vi=e,bi=yi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(la=!0),e.firstContext=null)}function Ci(e,t){if(bi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(bi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===yi){if(null===vi)throw a(Error(308));yi=t,vi.dependencies={expirationTime:0,firstContext:t,responders:null}}else yi=yi.next=t;return e._currentValue}var xi=!1;function Ti(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Mi(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Li(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Pi(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Oi(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=Ti(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=Ti(e.memoizedState),i=n.updateQueue=Ti(n.memoizedState)):r=e.updateQueue=Mi(i):null===i&&(i=n.updateQueue=Mi(r));null===i||r===i?Pi(r,t):null===r.lastUpdate||null===i.lastUpdate?(Pi(r,t),Pi(i,t)):(Pi(r,t),i.lastUpdate=t)}function Ii(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Ti(e.memoizedState):Ni(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Ni(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Mi(t)),t}function Ai(e,t,n,r,o,a){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(a,r,o):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null==(o="function"==typeof(e=n.payload)?e.call(a,r,o):e))break;return i({},r,o);case 2:xi=!0}return r}function Ri(e,t,n,r,i){xi=!1;for(var o=(t=Ni(e,t)).baseState,a=null,s=0,l=t.firstUpdate,u=o;null!==l;){var c=l.expirationTime;c<i?(null===a&&(a=l,o=u),s<c&&(s=c)):(Fs(c,l.suspenseConfig),u=Ai(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(c=null,l=t.firstCapturedUpdate;null!==l;){var d=l.expirationTime;d<i?(null===c&&(c=l,null===a&&(o=u)),s<d&&(s=d)):(u=Ai(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===a&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===c&&(o=u),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=c,e.expirationTime=s,e.memoizedState=u}function Di(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),zi(t.firstEffect,n),t.firstEffect=t.lastEffect=null,zi(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function zi(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if("function"!=typeof n)throw a(Error(191),n);n.call(r)}e=e.nextEffect}}var Ui=qe.ReactCurrentBatchConfig,Fi=(new r.Component).refs;function ji(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var Vi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===on(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=xs(),i=Ui.suspense;(i=Li(r=Ts(r,e,i),i)).payload=t,null!=n&&(i.callback=n),Oi(e,i),Ls(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=xs(),i=Ui.suspense;(i=Li(r=Ts(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),Oi(e,i),Ls(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=xs(),r=Ui.suspense;(r=Li(n=Ts(n,e,r),r)).tag=2,null!=t&&(r.callback=t),Oi(e,r),Ls(e,n)}};function Bi(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!nn(n,r)||!nn(i,o))}function Wi(e,t,n){var r=!1,i=Pr,o=t.contextType;return"object"==typeof o&&null!==o?o=Ci(o):(i=Rr(t)?Nr:Or.current,o=(r=null!=(r=t.contextTypes))?Ar(e,i):Pr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vi,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function $i(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vi.enqueueReplaceState(t,t.state,null)}function qi(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fi;var o=t.contextType;"object"==typeof o&&null!==o?i.context=Ci(o):(o=Rr(t)?Nr:Or.current,i.context=Ar(e,o)),null!==(o=e.updateQueue)&&(Ri(e,o,n,i,r),i.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(ji(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vi.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(Ri(e,o,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var Gi=Array.isArray;function Hi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;if(n){if(1!==n.tag)throw a(Error(309));r=n.stateNode}if(!r)throw a(Error(147),e);var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Fi&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw a(Error(284));if(!n._owner)throw a(Error(290),e)}return e}function Ki(e,t){if("textarea"!==e.type)throw a(Error(31),"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Zi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Ys(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=nl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Hi(e,t,n),r.return=e,r):((r=el(n.type,n.key,n.props,null,e.mode,r)).ref=Hi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=rl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=tl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=nl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ke:return(n=el(t.type,t.key,t.props,null,e.mode,n)).ref=Hi(e,null,t),n.return=e,n;case Ze:return(t=rl(t,e.mode,n)).return=e,t}if(Gi(t)||lt(t))return(t=tl(t,e.mode,n,null)).return=e,t;Ki(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ke:return n.key===i?n.type===Qe?d(e,t,n.props.children,r,i):u(e,t,n,r):null;case Ze:return n.key===i?c(e,t,n,r):null}if(Gi(n)||lt(n))return null!==i?null:d(e,t,n,r,null);Ki(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Ke:return e=e.get(null===r.key?n:r.key)||null,r.type===Qe?d(t,e,r.props.children,i,r.key):u(t,e,r,i);case Ze:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Gi(r)||lt(r))return d(t,e=e.get(n)||null,r,i,null);Ki(t,r)}return null}function m(i,a,s,l){for(var u=null,c=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(i,d),u;if(null===d){for(;m<s.length;m++)null!==(d=f(i,s[m],l))&&(a=o(d,a,m),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(i,d);m<s.length;m++)null!==(g=h(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(i,e)}),u}function g(i,s,l,u){var c=lt(l);if("function"!=typeof c)throw a(Error(150));if(null==(l=c.call(l)))throw a(Error(151));for(var d=c=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(i,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=f(i,y.value,u))&&(s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=h(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),c}return function(e,r,o,l){var u="object"==typeof o&&null!==o&&o.type===Qe&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case Ke:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(7===u.tag?o.type===Qe:u.elementType===o.type){n(e,u.sibling),(r=i(u,o.type===Qe?o.props.children:o.props)).ref=Hi(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===Qe?((r=tl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=el(o.type,o.key,o.props,null,e.mode,l)).ref=Hi(e,r,o),l.return=e,e=l)}return s(e);case Ze:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=rl(o,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=nl(o,e.mode,l)).return=e,e=r),s(e);if(Gi(o))return m(e,r,o,l);if(lt(o))return g(e,r,o,l);if(c&&Ki(e,o),void 0===o&&!u)switch(e.tag){case 1:case 0:throw e=e.type,a(Error(152),e.displayName||e.name||"Component")}return n(e,r)}}var Qi=Zi(!0),Xi=Zi(!1),Ji={},Yi={current:Ji},eo={current:Ji},to={current:Ji};function no(e){if(e===Ji)throw a(Error(174));return e}function ro(e,t){Lr(to,t),Lr(eo,e),Lr(Yi,Ji);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ar(null,"");break;default:t=ar(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Mr(Yi),Lr(Yi,t)}function io(e){Mr(Yi),Mr(eo),Mr(to)}function oo(e){no(to.current);var t=no(Yi.current),n=ar(t,e.type);t!==n&&(Lr(eo,e),Lr(Yi,n))}function ao(e){eo.current===e&&(Mr(Yi),Mr(eo))}var so=1,lo=1,uo=2,co={current:0};function fo(e){for(var t=e;null!==t;){if(13===t.tag){if(null!==t.memoizedState)return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var po=0,ho=2,mo=4,go=8,vo=16,yo=32,bo=64,wo=128,_o=qe.ReactCurrentDispatcher,So=0,ko=null,Eo=null,Co=null,xo=null,To=null,Mo=null,Lo=0,Po=null,Oo=0,Io=!1,No=null,Ao=0;function Ro(){throw a(Error(321))}function Do(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function zo(e,t,n,r,i,o){if(So=o,ko=t,Co=null!==e?e.memoizedState:null,_o.current=null===Co?Qo:Xo,t=n(r,i),Io){do{Io=!1,Ao+=1,Co=null!==e?e.memoizedState:null,Mo=xo,Po=To=Eo=null,_o.current=Xo,t=n(r,i)}while(Io);No=null,Ao=0}if(_o.current=Zo,(e=ko).memoizedState=xo,e.expirationTime=Lo,e.updateQueue=Po,e.effectTag|=Oo,e=null!==Eo&&null!==Eo.next,So=0,Mo=To=xo=Co=Eo=ko=null,Lo=0,Po=null,Oo=0,e)throw a(Error(300));return t}function Uo(){_o.current=Zo,So=0,Mo=To=xo=Co=Eo=ko=null,Lo=0,Po=null,Oo=0,Io=!1,No=null,Ao=0}function Fo(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===To?xo=To=e:To=To.next=e,To}function jo(){if(null!==Mo)Mo=(To=Mo).next,Co=null!==(Eo=Co)?Eo.next:null;else{if(null===Co)throw a(Error(310));var e={memoizedState:(Eo=Co).memoizedState,baseState:Eo.baseState,queue:Eo.queue,baseUpdate:Eo.baseUpdate,next:null};To=null===To?xo=e:To.next=e,Co=Eo.next}return To}function Vo(e,t){return"function"==typeof t?t(e):t}function Bo(e){var t=jo(),n=t.queue;if(null===n)throw a(Error(311));if(n.lastRenderedReducer=e,0<Ao){var r=n.dispatch;if(null!==No){var i=No.get(n);if(void 0!==i){No.delete(n);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return en(o,t.memoizedState)||(la=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var l=i=null,u=r,c=!1;do{var d=u.expirationTime;d<So?(c||(c=!0,l=s,i=o),d>Lo&&(Lo=d)):(Fs(d,u.suspenseConfig),o=u.eagerReducer===e?u.eagerState:e(o,u.action)),s=u,u=u.next}while(null!==u&&u!==r);c||(l=s,i=o),en(o,t.memoizedState)||(la=!0),t.memoizedState=o,t.baseUpdate=l,t.baseState=i,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function Wo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Po?(Po={lastEffect:null}).lastEffect=e.next=e:null===(t=Po.lastEffect)?Po.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Po.lastEffect=e),e}function $o(e,t,n,r){var i=Fo();Oo|=e,i.memoizedState=Wo(t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=jo();r=void 0===r?null:r;var o=void 0;if(null!==Eo){var a=Eo.memoizedState;if(o=a.destroy,null!==r&&Do(r,a.deps))return void Wo(po,n,o,r)}Oo|=e,i.memoizedState=Wo(t,n,o,r)}function Go(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ho(){}function Ko(e,t,n){if(!(25>Ao))throw a(Error(301));var r=e.alternate;if(e===ko||null!==r&&r===ko)if(Io=!0,e={expirationTime:So,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===No&&(No=new Map),void 0===(n=No.get(t)))No.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var i=xs(),o=Ui.suspense;o={expirationTime:i=Ts(i,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)o.next=o;else{var l=s.next;null!==l&&(o.next=l),s.next=o}if(t.last=o,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var u=t.lastRenderedState,c=r(u,n);if(o.eagerReducer=r,o.eagerState=c,en(c,u))return}catch(e){}Ls(e,i)}}var Zo={readContext:Ci,useCallback:Ro,useContext:Ro,useEffect:Ro,useImperativeHandle:Ro,useLayoutEffect:Ro,useMemo:Ro,useReducer:Ro,useRef:Ro,useState:Ro,useDebugValue:Ro,useResponder:Ro},Qo={readContext:Ci,useCallback:function(e,t){return Fo().memoizedState=[e,void 0===t?null:t],e},useContext:Ci,useEffect:function(e,t){return $o(516,wo|bo,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,$o(4,mo|yo,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $o(4,mo|yo,e,t)},useMemo:function(e,t){var n=Fo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Fo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ko.bind(null,ko,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fo().memoizedState=e},useState:function(e){var t=Fo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:e}).dispatch=Ko.bind(null,ko,e),[t.memoizedState,e]},useDebugValue:Ho,useResponder:rn},Xo={readContext:Ci,useCallback:function(e,t){var n=jo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Do(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:Ci,useEffect:function(e,t){return qo(516,wo|bo,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,qo(4,mo|yo,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qo(4,mo|yo,e,t)},useMemo:function(e,t){var n=jo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Do(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:Bo,useRef:function(){return jo().memoizedState},useState:function(e){return Bo(Vo)},useDebugValue:Ho,useResponder:rn},Jo=null,Yo=null,ea=!1;function ta(e,t){var n=Xs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function na(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ra(e){if(ea){var t=Yo;if(t){var n=t;if(!na(e,t)){if(!(t=Cr(n.nextSibling))||!na(e,t))return e.effectTag|=2,ea=!1,void(Jo=e);ta(Jo,n)}Jo=e,Yo=Cr(t.firstChild)}else e.effectTag|=2,ea=!1,Jo=e}}function ia(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;Jo=e}function oa(e){if(e!==Jo)return!1;if(!ea)return ia(e),ea=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Sr(t,e.memoizedProps))for(t=Yo;t;)ta(e,t),t=Cr(t.nextSibling);return ia(e),Yo=Jo?Cr(e.stateNode.nextSibling):null,!0}function aa(){Yo=Jo=null,ea=!1}var sa=qe.ReactCurrentOwner,la=!1;function ua(e,t,n,r){t.child=null===e?Xi(t,null,n,r):Qi(t,e.child,n,r)}function ca(e,t,n,r,i){n=n.render;var o=t.ref;return Ei(t,i),r=zo(e,t,n,r,o,i),null===e||la?(t.effectTag|=1,ua(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Sa(e,t,i))}function da(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Js(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=el(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,fa(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:nn)(i,r)&&e.ref===t.ref)?Sa(e,t,o):(t.effectTag|=1,(e=Ys(a,r)).ref=t.ref,e.return=t,t.child=e)}function fa(e,t,n,r,i,o){return null!==e&&nn(e.memoizedProps,r)&&e.ref===t.ref&&(la=!1,i<o)?Sa(e,t,o):ha(e,t,n,r,o)}function pa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function ha(e,t,n,r,i){var o=Rr(n)?Nr:Or.current;return o=Ar(t,o),Ei(t,i),n=zo(e,t,n,r,o,i),null===e||la?(t.effectTag|=1,ua(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Sa(e,t,i))}function ma(e,t,n,r,i){if(Rr(n)){var o=!0;jr(t)}else o=!1;if(Ei(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Wi(t,n,r),qi(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=Ci(u):u=Ar(t,u=Rr(n)?Nr:Or.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&$i(t,a,r,u),xi=!1;var f=t.memoizedState;l=a.state=f;var p=t.updateQueue;null!==p&&(Ri(t,p,r,a,i),l=t.memoizedState),s!==r||f!==l||Ir.current||xi?("function"==typeof c&&(ji(t,n,c,r),l=t.memoizedState),(s=xi||Bi(t,n,s,r,f,l,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:mi(t.type,s),l=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=Ci(u):u=Ar(t,u=Rr(n)?Nr:Or.current),(d="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&$i(t,a,r,u),xi=!1,l=t.memoizedState,f=a.state=l,null!==(p=t.updateQueue)&&(Ri(t,p,r,a,i),f=t.memoizedState),s!==r||l!==f||Ir.current||xi?("function"==typeof c&&(ji(t,n,c,r),f=t.memoizedState),(c=xi||Bi(t,n,s,r,l,f,u))?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,u)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return ga(e,t,n,r,o,i)}function ga(e,t,n,r,i,o){pa(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&Vr(t,n,!1),Sa(e,t,o);r=t.stateNode,sa.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Qi(t,e.child,null,o),t.child=Qi(t,null,s,o)):ua(e,t,s,o),t.memoizedState=r.state,i&&Vr(t,n,!0),t.child}function va(e){var t=e.stateNode;t.pendingContext?Ur(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ur(0,t.context,!1),ro(e,t.containerInfo)}var ya={};function ba(e,t,n){var r,i=t.mode,o=t.pendingProps,a=co.current,s=null,l=!1;if((r=0!=(64&t.effectTag))||(r=0!=(a&uo)&&(null===e||null!==e.memoizedState)),r?(s=ya,l=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=lo),Lr(co,a&=so),null===e)if(l){if(o=o.fallback,(e=tl(null,i,0,null)).return=t,0==(2&t.mode))for(l=null!==t.memoizedState?t.child.child:t.child,e.child=l;null!==l;)l.return=e,l=l.sibling;(n=tl(o,i,n,null)).return=t,e.sibling=n,i=e}else i=n=Xi(t,null,o.children,n);else{if(null!==e.memoizedState)if(i=(a=e.child).sibling,l){if(o=o.fallback,(n=Ys(a,a.pendingProps)).return=t,0==(2&t.mode)&&(l=null!==t.memoizedState?t.child.child:t.child)!==a.child)for(n.child=l;null!==l;)l.return=n,l=l.sibling;(o=Ys(i,o,i.expirationTime)).return=t,n.sibling=o,i=n,n.childExpirationTime=0,n=o}else i=n=Qi(t,a.child,o.children,n);else if(a=e.child,l){if(l=o.fallback,(o=tl(null,i,0,null)).return=t,o.child=a,null!==a&&(a.return=o),0==(2&t.mode))for(a=null!==t.memoizedState?t.child.child:t.child,o.child=a;null!==a;)a.return=o,a=a.sibling;(n=tl(l,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,i=o,o.childExpirationTime=0}else n=i=Qi(t,a,o.children,n);t.stateNode=e.stateNode}return t.memoizedState=s,t.child=i,n}function wa(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i)}function _a(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ua(e,t,r.children,n),0!=((r=co.current)&uo))r=r&so|uo,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag){if(null!==e.memoizedState){e.expirationTime<n&&(e.expirationTime=n);var a=e.alternate;null!==a&&a.expirationTime<n&&(a.expirationTime=n),ki(e.return,n)}}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=so}if(Lr(co,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(r=n.alternate)&&null===fo(r)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),wa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(r=i.alternate)&&null===fo(r)){t.child=i;break}r=i.sibling,i.sibling=n,n=i,i=r}wa(t,!0,n,null,o);break;case"together":wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw a(Error(153));if(null!==t.child){for(n=Ys(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ys(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function ka(e){e.effectTag|=4}var Ea=void 0,Ca=void 0,xa=void 0,Ta=void 0;function Ma(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function La(e){switch(e.tag){case 1:Rr(e.type)&&Dr();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:if(io(),zr(),0!=(64&(t=e.effectTag)))throw a(Error(285));return e.effectTag=-2049&t|64,e;case 5:return ao(e),null;case 13:return Mr(co),2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 19:return Mr(co),null;case 4:return io(),null;case 10:return Si(e),null;default:return null}}function Pa(e,t){return{value:e,source:t,stack:ct(t)}}Ea=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(20===n.tag)e.appendChild(n.stateNode.instance);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ca=function(){},xa=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s=t.stateNode;switch(no(Yi.current),e=null,n){case"input":a=_t(s,a),r=_t(s,r),e=[];break;case"option":a=Jn(s,a),r=Jn(s,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=er(s,a),r=er(s,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(s.onclick=yr)}mr(n,r),s=n=void 0;var l=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var u=a[n];for(s in u)u.hasOwnProperty(s)&&(l||(l={}),l[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(p.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var c=r[n];if(u=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&c!==u&&(null!=c||null!=u))if("style"===n)if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(l||(l={}),l[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(l||(l={}),l[s]=c[s])}else l||(e||(e=[]),e.push(n,l)),l=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(n,""+c)):"children"===n?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(p.hasOwnProperty(n)?(null!=c&&vr(o,n),e||u===c||(e=[])):(e=e||[]).push(n,c))}l&&(e=e||[]).push("style",l),o=e,(t.updateQueue=o)&&ka(t)}},Ta=function(e,t,n,r){n!==r&&ka(t)};var Oa="function"==typeof WeakSet?WeakSet:Set;function Ia(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ct(n)),null!==n&&ut(n.type),t=t.value,null!==e&&1===e.tag&&ut(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function Na(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){qs(e,t)}else t.current=null}function Aa(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)!==po){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}(r.tag&t)!==po&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function Ra(e,t){switch("function"==typeof Zs&&Zs(e),e.tag){case 0:case 11:case 14:case 15:var n=e.updateQueue;if(null!==n&&null!==(n=n.lastEffect)){var r=n.next;ui(97<t?97:t,function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(e){qs(i,e)}}t=t.next}while(t!==r)})}break;case 1:Na(e),"function"==typeof(t=e.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){qs(e,t)}}(e,t);break;case 5:Na(e);break;case 4:Fa(e,t)}}function Da(e,t){for(var n=e;;)if(Ra(n,t),null!==n.child&&4!==n.tag)n.child.return=n,n=n.child;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function za(e){return 5===e.tag||3===e.tag||4===e.tag}function Ua(e){e:{for(var t=e.return;null!==t;){if(za(t)){var n=t;break e}t=t.return}throw a(Error(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw a(Error(161))}16&n.effectTag&&(ur(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||za(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){var o=5===i.tag||6===i.tag;if(o||20===i.tag){var s=o?i.stateNode:i.stateNode.instance;if(n)if(r){var l=s;s=n,8===(o=t).nodeType?o.parentNode.insertBefore(l,s):o.insertBefore(l,s)}else t.insertBefore(s,n);else r?(8===(l=t).nodeType?(o=l.parentNode).insertBefore(s,l):(o=l).appendChild(s),null!=(l=l._reactRootContainer)||null!==o.onclick||(o.onclick=yr)):t.appendChild(s)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Fa(e,t){for(var n=e,r=!1,i=void 0,o=void 0;;){if(!r){r=n.return;e:for(;;){if(null===r)throw a(Error(160));switch(i=r.stateNode,r.tag){case 5:o=!1;break e;case 3:case 4:i=i.containerInfo,o=!0;break e}r=r.return}r=!0}if(5===n.tag||6===n.tag)if(Da(n,t),o){var s=i,l=n.stateNode;8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)}else i.removeChild(n.stateNode);else if(20===n.tag)l=n.stateNode.instance,Da(n,t),o?8===(s=i).nodeType?s.parentNode.removeChild(l):s.removeChild(l):i.removeChild(l);else if(4===n.tag){if(null!==n.child){i=n.stateNode.containerInfo,o=!0,n.child.return=n,n=n.child;continue}}else if(Ra(n,t),null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;4===(n=n.return).tag&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function ja(e,t){switch(t.tag){case 0:case 11:case 14:case 15:Aa(mo,go,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[A]=r,"input"===e&&"radio"===r.type&&null!=r.name&&kt(n,r),gr(e,i),t=gr(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?pr(n,l):"dangerouslySetInnerHTML"===s?lr(n,l):"children"===s?ur(n,l):bt(n,s,l,t)}switch(e){case"input":Et(n,r);break;case"textarea":nr(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Yn(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Yn(n,!!r.multiple,r.defaultValue,!0):Yn(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw a(Error(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,fs=ai()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=fr("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}Va(t);break;case 19:Va(t);break;case 17:case 20:break;default:throw a(Error(163))}}function Va(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Oa),t.forEach(function(t){var r=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),n=xs(),t=Ts(n,e,null),n=hi(n,t),null!==(e=Ps(e,t))&&Os(e,n,t)}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}var Ba="function"==typeof WeakMap?WeakMap:Map;function Wa(e,t,n){(n=Li(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ms||(ms=!0,gs=r),Ia(e,t)},n}function $a(e,t,n){(n=Li(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return Ia(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===vs?vs=new Set([this]):vs.add(this),Ia(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var qa=Math.ceil,Ga=qe.ReactCurrentDispatcher,Ha=qe.ReactCurrentOwner,Ka=0,Za=8,Qa=16,Xa=32,Ja=0,Ya=1,es=2,ts=3,ns=4,rs=Ka,is=null,os=null,as=0,ss=Ja,ls=1073741823,us=1073741823,cs=null,ds=!1,fs=0,ps=500,hs=null,ms=!1,gs=null,vs=null,ys=!1,bs=null,ws=90,_s=0,Ss=null,ks=0,Es=null,Cs=0;function xs(){return(rs&(Qa|Xa))!==Ka?1073741821-(ai()/10|0):0!==Cs?Cs:Cs=1073741821-(ai()/10|0)}function Ts(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=si();if(0==(4&t))return 99===r?1073741823:1073741822;if((rs&Qa)!==Ka)return as;if(null!==n)e=1073741821-25*(1+((1073741821-e+(0|n.timeoutMs||5e3)/10)/25|0));else switch(r){case 99:e=1073741823;break;case 98:e=1073741821-10*(1+((1073741821-e+15)/10|0));break;case 97:case 96:e=1073741821-25*(1+((1073741821-e+500)/25|0));break;case 95:e=1;break;default:throw a(Error(326))}return null!==is&&e===as&&--e,e}var Ms=0;function Ls(e,t){if(50<ks)throw ks=0,Es=null,a(Error(185));if(null!==(e=Ps(e,t))){e.pingTime=0;var n=si();if(1073741823===t)if((rs&Za)!==Ka&&(rs&(Qa|Xa))===Ka)for(var r=Us(e,1073741823,!0);null!==r;)r=r(!0);else Os(e,99,1073741823),rs===Ka&&fi();else Os(e,n,t);(4&rs)===Ka||98!==n&&99!==n||(null===Ss?Ss=new Map([[e,t]]):(void 0===(n=Ss.get(e))||n>t)&&Ss.set(e,t))}}function Ps(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(t>i.firstPendingTime&&(i.firstPendingTime=t),0===(e=i.lastPendingTime)||t<e)&&(i.lastPendingTime=t),i}function Os(e,t,n){if(e.callbackExpirationTime<n){var r=e.callbackNode;null!==r&&r!==ei&&$r(r),e.callbackExpirationTime=n,1073741823===n?e.callbackNode=di(Is.bind(null,e,Us.bind(null,e,n))):(r=null,1!==n&&(r={timeout:10*(1073741821-n)-ai()}),e.callbackNode=ci(t,Is.bind(null,e,Us.bind(null,e,n)),r))}}function Is(e,t,n){var r=e.callbackNode,i=null;try{return null!==(i=t(n))?Is.bind(null,e,i):null}finally{null===i&&r===e.callbackNode&&(e.callbackNode=null,e.callbackExpirationTime=0)}}function Ns(){(rs&(1|Qa|Xa))===Ka&&(function(){if(null!==Ss){var e=Ss;Ss=null,e.forEach(function(e,t){di(Us.bind(null,t,e))}),fi()}}(),Ws())}function As(e,t){var n=rs;rs|=1;try{return e(t)}finally{(rs=n)===Ka&&fi()}}function Rs(e,t,n,r){var i=rs;rs|=4;try{return ui(98,e.bind(null,t,n,r))}finally{(rs=i)===Ka&&fi()}}function Ds(e,t){var n=rs;rs&=-2,rs|=Za;try{return e(t)}finally{(rs=n)===Ka&&fi()}}function zs(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Er(n)),null!==os)for(n=os.return;null!==n;){var r=n;switch(r.tag){case 1:var i=r.type.childContextTypes;null!=i&&Dr();break;case 3:io(),zr();break;case 5:ao(r);break;case 4:io();break;case 13:case 19:Mr(co);break;case 10:Si(r)}n=n.return}is=e,os=Ys(e.current,null),as=t,ss=Ja,us=ls=1073741823,cs=null,ds=!1}function Us(e,t,n){if((rs&(Qa|Xa))!==Ka)throw a(Error(327));if(e.firstPendingTime<t)return null;if(n&&e.finishedExpirationTime===t)return Bs.bind(null,e);if(Ws(),e!==is||t!==as)zs(e,t);else if(ss===ts)if(ds)zs(e,t);else{var r=e.lastPendingTime;if(r<t)return Us.bind(null,e,r)}if(null!==os){r=rs,rs|=Qa;var i=Ga.current;if(null===i&&(i=Zo),Ga.current=Zo,n){if(1073741823!==t){var o=xs();if(o<t)return rs=r,wi(),Ga.current=i,Us.bind(null,e,o)}}else Cs=0;for(;;)try{if(n)for(;null!==os;)os=js(os);else for(;null!==os&&!qr();)os=js(os);break}catch(n){if(wi(),Uo(),null===(o=os)||null===o.return)throw zs(e,t),rs=r,n;e:{var s=e,l=o.return,u=o,c=n,d=as;if(u.effectTag|=1024,u.firstEffect=u.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var f=c,p=0!=(co.current&lo);c=l;do{var h;if((h=13===c.tag)&&(null!==c.memoizedState?h=!1:h=void 0!==(h=c.memoizedProps).fallback&&(!0!==h.unstable_avoidThisFallback||!p)),h){if(null===(l=c.updateQueue)?((l=new Set).add(f),c.updateQueue=l):l.add(f),0==(2&c.mode)){c.effectTag|=64,u.effectTag&=-1957,1===u.tag&&(null===u.alternate?u.tag=17:((d=Li(1073741823,null)).tag=2,Oi(u,d))),u.expirationTime=1073741823;break e}u=s,s=d,null===(p=u.pingCache)?(p=u.pingCache=new Ba,l=new Set,p.set(f,l)):void 0===(l=p.get(f))&&(l=new Set,p.set(f,l)),l.has(s)||(l.add(s),u=Gs.bind(null,u,f,s),f.then(u,u)),c.effectTag|=2048,c.expirationTime=d;break e}c=c.return}while(null!==c);c=Error((ut(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ct(u))}ss!==ns&&(ss=Ya),c=Pa(c,u),u=l;do{switch(u.tag){case 3:u.effectTag|=2048,u.expirationTime=d,Ii(u,d=Wa(u,c,d));break e;case 1:if(f=c,s=u.type,l=u.stateNode,0==(64&u.effectTag)&&("function"==typeof s.getDerivedStateFromError||null!==l&&"function"==typeof l.componentDidCatch&&(null===vs||!vs.has(l)))){u.effectTag|=2048,u.expirationTime=d,Ii(u,d=$a(u,f,d));break e}}u=u.return}while(null!==u)}os=Vs(o)}if(rs=r,wi(),Ga.current=i,null!==os)return Us.bind(null,e,t)}if(e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,function(e,t){var n=e.firstBatch;return!!(null!==n&&n._defer&&n._expirationTime>=t)&&(ci(97,function(){return n._onComplete(),null}),!0)}(e,t))return null;switch(is=null,ss){case Ja:throw a(Error(328));case Ya:return(r=e.lastPendingTime)<t?Us.bind(null,e,r):n?Bs.bind(null,e):(zs(e,t),di(Us.bind(null,e,t)),null);case es:return 1073741823===ls&&!n&&10<(n=fs+ps-ai())?ds?(zs(e,t),Us.bind(null,e,t)):(r=e.lastPendingTime)<t?Us.bind(null,e,r):(e.timeoutHandle=kr(Bs.bind(null,e),n),null):Bs.bind(null,e);case ts:if(!n){if(ds)return zs(e,t),Us.bind(null,e,t);if((n=e.lastPendingTime)<t)return Us.bind(null,e,n);if(1073741823!==us?n=10*(1073741821-us)-ai():1073741823===ls?n=0:(n=10*(1073741821-ls)-5e3,0>(n=(r=ai())-n)&&(n=0),(t=10*(1073741821-t)-r)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*qa(n/1960))-n)&&(n=t)),10<n)return e.timeoutHandle=kr(Bs.bind(null,e),n),null}return Bs.bind(null,e);case ns:return!n&&1073741823!==ls&&null!==cs&&(r=ls,0>=(t=0|(i=cs).busyMinDurationMs)?t=0:(n=0|i.busyDelayMs,t=(r=ai()-(10*(1073741821-r)-(0|i.timeoutMs||5e3)))<=n?0:n+t-r),10<t)?(e.timeoutHandle=kr(Bs.bind(null,e),t),null):Bs.bind(null,e);default:throw a(Error(329))}}function Fs(e,t){e<ls&&1<e&&(ls=e),null!==t&&e<us&&1<e&&(us=e,cs=t)}function js(e){var t=Hs(e.alternate,e,as);return e.memoizedProps=e.pendingProps,null===t&&(t=Vs(e)),Ha.current=null,t}function Vs(e){os=e;do{var t=os.alternate;if(e=os.return,0==(1024&os.effectTag)){e:{var n=t,r=as,o=(t=os).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Rr(t.type)&&Dr();break;case 3:io(),zr(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==n&&null!==n.child||(oa(t),t.effectTag&=-3),Ca(t);break;case 5:ao(t),r=no(to.current);var s=t.type;if(null!==n&&null!=t.stateNode)xa(n,t,s,o,r),n.ref!==t.ref&&(t.effectTag|=128);else if(o){var l=no(Yi.current);if(oa(t)){o=void 0,s=(n=t).stateNode;var u=n.type,c=n.memoizedProps;switch(s[N]=n,s[A]=c,u){case"iframe":case"object":case"embed":An("load",s);break;case"video":case"audio":for(var d=0;d<te.length;d++)An(te[d],s);break;case"source":An("error",s);break;case"img":case"image":case"link":An("error",s),An("load",s);break;case"form":An("reset",s),An("submit",s);break;case"details":An("toggle",s);break;case"input":St(s,c),An("invalid",s),vr(r,"onChange");break;case"select":s._wrapperState={wasMultiple:!!c.multiple},An("invalid",s),vr(r,"onChange");break;case"textarea":tr(s,c),An("invalid",s),vr(r,"onChange")}for(o in mr(u,c),d=null,c)c.hasOwnProperty(o)&&(l=c[o],"children"===o?"string"==typeof l?s.textContent!==l&&(d=["children",l]):"number"==typeof l&&s.textContent!==""+l&&(d=["children",""+l]):p.hasOwnProperty(o)&&null!=l&&vr(r,o));switch(u){case"input":We(s),Ct(s,c,!0);break;case"textarea":We(s),rr(s);break;case"select":case"option":break;default:"function"==typeof c.onClick&&(s.onclick=yr)}r=d,n.updateQueue=r,null!==r&&ka(t)}else{c=s,n=o,u=t,d=9===r.nodeType?r:r.ownerDocument,l===ir.html&&(l=or(c)),l===ir.html?"script"===c?((c=d.createElement("div")).innerHTML="<script><\/script>",d=c.removeChild(c.firstChild)):"string"==typeof n.is?d=d.createElement(c,{is:n.is}):(d=d.createElement(c),"select"===c&&(c=d,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):d=d.createElementNS(l,c),(c=d)[N]=u,c[A]=n,Ea(n=c,t,!1,!1),u=n;var f=r,h=gr(s,o);switch(s){case"iframe":case"object":case"embed":An("load",u),r=o;break;case"video":case"audio":for(r=0;r<te.length;r++)An(te[r],u);r=o;break;case"source":An("error",u),r=o;break;case"img":case"image":case"link":An("error",u),An("load",u),r=o;break;case"form":An("reset",u),An("submit",u),r=o;break;case"details":An("toggle",u),r=o;break;case"input":St(u,o),r=_t(u,o),An("invalid",u),vr(f,"onChange");break;case"option":r=Jn(u,o);break;case"select":u._wrapperState={wasMultiple:!!o.multiple},r=i({},o,{value:void 0}),An("invalid",u),vr(f,"onChange");break;case"textarea":tr(u,o),r=er(u,o),An("invalid",u),vr(f,"onChange");break;default:r=o}mr(s,r),c=void 0,d=s,l=u;var m=r;for(c in m)if(m.hasOwnProperty(c)){var g=m[c];"style"===c?pr(l,g):"dangerouslySetInnerHTML"===c?null!=(g=g?g.__html:void 0)&&lr(l,g):"children"===c?"string"==typeof g?("textarea"!==d||""!==g)&&ur(l,g):"number"==typeof g&&ur(l,""+g):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(p.hasOwnProperty(c)?null!=g&&vr(f,c):null!=g&&bt(l,c,g,h))}switch(s){case"input":We(u),Ct(u,o,!1);break;case"textarea":We(u),rr(u);break;case"option":null!=o.value&&u.setAttribute("value",""+wt(o.value));break;case"select":r=u,u=o,r.multiple=!!u.multiple,null!=(c=u.value)?Yn(r,!!u.multiple,c,!1):null!=u.defaultValue&&Yn(r,!!u.multiple,u.defaultValue,!0);break;default:"function"==typeof r.onClick&&(u.onclick=yr)}_r(s,o)&&ka(t),t.stateNode=n}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw a(Error(166));break;case 6:if(n&&null!=t.stateNode)Ta(n,t,n.memoizedProps,o);else{if("string"!=typeof o&&null===t.stateNode)throw a(Error(166));n=no(to.current),no(Yi.current),oa(t)?(r=t.stateNode,n=t.memoizedProps,r[N]=t,r.nodeValue!==n&&ka(t)):(r=t,(n=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[N]=t,r.stateNode=n)}break;case 11:break;case 13:if(Mr(co),o=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=r;break e}r=null!==o,o=!1,null===n?oa(t):(o=null!==(s=n.memoizedState),r||null===s||null!==(s=n.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=s,s.nextEffect=u):(t.firstEffect=t.lastEffect=s,s.nextEffect=null),s.effectTag=8)),r&&!o&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(co.current&lo)?ss===Ja&&(ss=es):ss!==Ja&&ss!==es||(ss=ts)),(r||o)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:io(),Ca(t);break;case 10:Si(t);break;case 9:case 14:break;case 17:Rr(t.type)&&Dr();break;case 18:break;case 19:if(Mr(co),null===(o=t.memoizedState))break;if(s=0!=(64&t.effectTag),null===(u=o.rendering)){if(s)Ma(o,!1);else if(ss!==Ja||null!==n&&0!=(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(u=fo(n))){for(t.effectTag|=64,Ma(o,!1),null!==(n=u.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),t.firstEffect=t.lastEffect=null,n=t.child;null!==n;)s=r,(o=n).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(u=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=u.childExpirationTime,o.expirationTime=u.expirationTime,o.child=u.child,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,s=u.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),n=n.sibling;Lr(co,co.current&so|uo),t=t.child;break e}n=n.sibling}}else{if(!s)if(null!==(n=fo(u))){if(t.effectTag|=64,s=!0,Ma(o,!0),null===o.tail&&"hidden"===o.tailMode){null!==(r=n.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),null!==(t=t.lastEffect=o.lastEffect)&&(t.nextEffect=null);break}}else ai()>o.tailExpiration&&1<r&&(t.effectTag|=64,s=!0,Ma(o,!1),t.expirationTime=t.childExpirationTime=r-1);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(r=o.last)?r.sibling=u:t.child=u,o.last=u)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=ai()+500),r=o.tail,o.rendering=r,o.tail=r.sibling,o.lastEffect=t.lastEffect,r.sibling=null,n=co.current,Lr(co,n=s?n&so|uo:n&so),t=r;break e}break;case 20:break;default:throw a(Error(156))}t=null}if(r=os,1===as||1!==r.childExpirationTime){for(n=0,o=r.child;null!==o;)(s=o.expirationTime)>n&&(n=s),(u=o.childExpirationTime)>n&&(n=u),o=o.sibling;r.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(1024&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=os.firstEffect),null!==os.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=os.firstEffect),e.lastEffect=os.lastEffect),1<os.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=os:e.firstEffect=os,e.lastEffect=os))}else{if(null!==(t=La(os)))return t.effectTag&=1023,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=1024)}if(null!==(t=os.sibling))return t;os=e}while(null!==os);return ss===Ja&&(ss=ns),null}function Bs(e){var t=si();return ui(99,function(e,t){if(Ws(),(rs&(Qa|Xa))!==Ka)throw a(Error(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw a(Error(177));e.callbackNode=null,e.callbackExpirationTime=0;var i=n.expirationTime,o=n.childExpirationTime;if(i=o>i?o:i,e.firstPendingTime=i,i<e.lastPendingTime&&(e.lastPendingTime=i),e===is&&(os=is=null,as=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){o=rs,rs|=Xa,Ha.current=null,br=Nn;var s=Bn();if(Wn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{l.nodeType,d.nodeType}catch(e){l=null;break e}var f=0,p=-1,h=-1,m=0,g=0,v=s,y=null;t:for(;;){for(var b;v!==l||0!==c&&3!==v.nodeType||(p=f+c),v!==d||0!==u&&3!==v.nodeType||(h=f+u),3===v.nodeType&&(f+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===s)break t;if(y===l&&++m===c&&(p=f),y===d&&++g===u&&(h=f),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}l=-1===p||-1===h?null:{start:p,end:h}}else l=null}l=l||{start:0,end:0}}else l=null;wr={focusedElem:s,selectionRange:l},Nn=!1,hs=i;do{try{for(;null!==hs;){if(0!=(256&hs.effectTag)){var w=hs.alternate;switch((s=hs).tag){case 0:case 11:case 15:Aa(ho,po,s);break;case 1:if(256&s.effectTag&&null!==w){var _=w.memoizedProps,S=w.memoizedState,k=s.stateNode,E=k.getSnapshotBeforeUpdate(s.elementType===s.type?_:mi(s.type,_),S);k.__reactInternalSnapshotBeforeUpdate=E}break;case 3:case 5:case 6:case 4:case 17:break;default:throw a(Error(163))}}hs=hs.nextEffect}}catch(e){if(null===hs)throw a(Error(330));qs(hs,e),hs=hs.nextEffect}}while(null!==hs);hs=i;do{try{for(w=t;null!==hs;){var C=hs.effectTag;if(16&C&&ur(hs.stateNode,""),128&C){var x=hs.alternate;if(null!==x){var T=x.ref;null!==T&&("function"==typeof T?T(null):T.current=null)}}switch(14&C){case 2:Ua(hs),hs.effectTag&=-3;break;case 6:Ua(hs),hs.effectTag&=-3,ja(hs.alternate,hs);break;case 4:ja(hs.alternate,hs);break;case 8:Fa(_=hs,w),_.return=null,_.child=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null;var M=_.alternate;null!==M&&(M.return=null,M.child=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null)}hs=hs.nextEffect}}catch(e){if(null===hs)throw a(Error(330));qs(hs,e),hs=hs.nextEffect}}while(null!==hs);if(T=wr,x=Bn(),C=T.focusedElem,w=T.selectionRange,x!==C&&C&&C.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(C.ownerDocument.documentElement,C)){null!==w&&Wn(C)&&(x=w.start,void 0===(T=w.end)&&(T=x),"selectionStart"in C?(C.selectionStart=x,C.selectionEnd=Math.min(T,C.value.length)):(T=(x=C.ownerDocument||document)&&x.defaultView||window).getSelection&&(T=T.getSelection(),_=C.textContent.length,M=Math.min(w.start,_),w=void 0===w.end?M:Math.min(w.end,_),!T.extend&&M>w&&(_=w,w=M,M=_),_=Vn(C,M),S=Vn(C,w),_&&S&&(1!==T.rangeCount||T.anchorNode!==_.node||T.anchorOffset!==_.offset||T.focusNode!==S.node||T.focusOffset!==S.offset)&&((x=x.createRange()).setStart(_.node,_.offset),T.removeAllRanges(),M>w?(T.addRange(x),T.extend(S.node,S.offset)):(x.setEnd(S.node,S.offset),T.addRange(x))))),x=[];for(T=C;T=T.parentNode;)1===T.nodeType&&x.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"==typeof C.focus&&C.focus(),C=0;C<x.length;C++)(T=x[C]).element.scrollLeft=T.left,T.element.scrollTop=T.top}wr=null,Nn=!!br,br=null,e.current=n,hs=i;do{try{for(C=r;null!==hs;){var L=hs.effectTag;if(36&L){var P=hs.alternate;switch(T=C,(x=hs).tag){case 0:case 11:case 15:Aa(vo,yo,x);break;case 1:var O=x.stateNode;if(4&x.effectTag)if(null===P)O.componentDidMount();else{var I=x.elementType===x.type?P.memoizedProps:mi(x.type,P.memoizedProps);O.componentDidUpdate(I,P.memoizedState,O.__reactInternalSnapshotBeforeUpdate)}var N=x.updateQueue;null!==N&&Di(0,N,O);break;case 3:var A=x.updateQueue;if(null!==A){if(M=null,null!==x.child)switch(x.child.tag){case 5:M=x.child.stateNode;break;case 1:M=x.child.stateNode}Di(0,A,M)}break;case 5:var R=x.stateNode;null===P&&4&x.effectTag&&(T=R,_r(x.type,x.memoizedProps)&&T.focus());break;case 6:case 4:case 12:break;case 13:case 19:case 17:case 20:break;default:throw a(Error(163))}}if(128&L){var D=hs.ref;if(null!==D){var z=hs.stateNode;switch(hs.tag){case 5:var U=z;break;default:U=z}"function"==typeof D?D(U):D.current=U}}512&L&&(ys=!0),hs=hs.nextEffect}}catch(e){if(null===hs)throw a(Error(330));qs(hs,e),hs=hs.nextEffect}}while(null!==hs);hs=null,ti(),rs=o}else e.current=n;if(ys)ys=!1,bs=e,_s=r,ws=t;else for(hs=i;null!==hs;)t=hs.nextEffect,hs.nextEffect=null,hs=t;if(0!==(t=e.firstPendingTime)?(L=hi(L=xs(),t),Os(e,L,t)):vs=null,"function"==typeof Ks&&Ks(n.stateNode,r),1073741823===t?e===Es?ks++:(ks=0,Es=e):ks=0,ms)throw ms=!1,e=gs,gs=null,e;return(rs&Za)!==Ka?null:(fi(),null)}.bind(null,e,t)),null!==bs&&ci(97,function(){return Ws(),null}),null}function Ws(){if(null===bs)return!1;var e=bs,t=_s,n=ws;return bs=null,_s=0,ws=90,ui(97<n?97:n,function(e){if((rs&(Qa|Xa))!==Ka)throw a(Error(331));var t=rs;for(rs|=Xa,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:Aa(wo,po,n),Aa(po,bo,n)}}catch(t){if(null===e)throw a(Error(330));qs(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return rs=t,fi(),!0}.bind(null,e,t))}function $s(e,t,n){Oi(e,t=Wa(e,t=Pa(n,t),1073741823)),null!==(e=Ps(e,1073741823))&&Os(e,99,1073741823)}function qs(e,t){if(3===e.tag)$s(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){$s(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===vs||!vs.has(r))){Oi(n,e=$a(n,e=Pa(t,e),1073741823)),null!==(n=Ps(n,1073741823))&&Os(n,99,1073741823);break}}n=n.return}}function Gs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),is===e&&as===n?ss===ts||ss===es&&1073741823===ls&&ai()-fs<ps?zs(e,as):ds=!0:e.lastPendingTime<n||(0!==(t=e.pingTime)&&t<n||(e.pingTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),Os(e,t=hi(t=xs(),n),n)))}var Hs=void 0;Hs=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||Ir.current)la=!0;else if(r<n){switch(la=!1,t.tag){case 3:va(t),aa();break;case 5:if(oo(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Rr(t.type)&&jr(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:_i(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?ba(e,t,n):(Lr(co,co.current&so),null!==(t=Sa(e,t,n))?t.sibling:null);Lr(co,co.current&so);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return _a(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),Lr(co,co.current),!r)return null}return Sa(e,t,n)}}else la=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=Ar(t,Or.current),Ei(t,n),i=zo(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,Uo(),Rr(r)){var o=!0;jr(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&ji(t,r,s,e),i.updater=Vi,t.stateNode=i,i._reactInternalFiber=t,qi(t,r,e,n),t=ga(null,t,r,!0,o,n)}else t.tag=0,ua(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(i),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Js(e)?1:0;if(null!=e){if((e=e.$$typeof)===nt)return 11;if(e===ot)return 14}return 2}(i),e=mi(i,e),o){case 0:t=ha(null,t,i,e,n);break;case 1:t=ma(null,t,i,e,n);break;case 11:t=ca(null,t,i,e,n);break;case 14:t=da(null,t,i,mi(i.type,e),r,n);break;default:throw a(Error(306),i,"")}return t;case 0:return r=t.type,i=t.pendingProps,ha(e,t,r,i=t.elementType===r?i:mi(r,i),n);case 1:return r=t.type,i=t.pendingProps,ma(e,t,r,i=t.elementType===r?i:mi(r,i),n);case 3:if(va(t),null===(r=t.updateQueue))throw a(Error(282));return i=null!==(i=t.memoizedState)?i.element:null,Ri(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?(aa(),t=Sa(e,t,n)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(Yo=Cr(t.stateNode.containerInfo.firstChild),Jo=t,i=ea=!0),i?(t.effectTag|=2,t.child=Xi(t,null,r,n)):(ua(e,t,r,n),aa()),t=t.child),t;case 5:return oo(t),null===e&&ra(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Sr(r,i)?s=null:null!==o&&Sr(r,o)&&(t.effectTag|=16),pa(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(ua(e,t,s,n),t=t.child),t;case 6:return null===e&&ra(t),null;case 13:return ba(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qi(t,null,r,n):ua(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ca(e,t,r,i=t.elementType===r?i:mi(r,i),n);case 7:return ua(e,t,t.pendingProps,n),t.child;case 8:case 12:return ua(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,_i(t,o=i.value),null!==s){var l=s.value;if(0===(o=en(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!Ir.current){t=Sa(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===l.tag&&((c=Li(n,null)).tag=2,Oi(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),ki(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}ua(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Ei(t,n),r=r(i=Ci(i,o.unstable_observedBits)),t.effectTag|=1,ua(e,t,r,n),t.child;case 14:return o=mi(i=t.type,t.pendingProps),da(e,t,i,o=mi(i.type,o),r,n);case 15:return fa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Rr(r)?(e=!0,jr(t)):e=!1,Ei(t,n),Wi(t,r,i),qi(t,r,i,n),ga(null,t,r,!0,e,n);case 19:return _a(e,t,n)}throw a(Error(156))};var Ks=null,Zs=null;function Qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Xs(e,t,n,r){return new Qs(e,t,n,r)}function Js(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ys(e,t){var n=e.alternate;return null===n?((n=Xs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function el(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Js(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case Qe:return tl(n.children,i,o,t);case tt:s=8,i|=7;break;case Xe:s=8,i|=1;break;case Je:return(e=Xs(12,n,t,8|i)).elementType=Je,e.type=Je,e.expirationTime=o,e;case rt:return(e=Xs(13,n,t,i)).type=rt,e.elementType=rt,e.expirationTime=o,e;case it:return(e=Xs(19,n,t,i)).elementType=it,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Ye:s=10;break e;case et:s=9;break e;case nt:s=11;break e;case ot:s=14;break e;case at:s=16,r=null;break e}throw a(Error(130),null==e?e:typeof e,"")}return(t=Xs(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function tl(e,t,n,r){return(e=Xs(7,e,r,t)).expirationTime=n,e}function nl(e,t,n){return(e=Xs(6,e,null,t)).expirationTime=n,e}function rl(e,t,n){return(t=Xs(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function il(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=this.firstBatch=null,this.pingTime=this.lastPendingTime=this.firstPendingTime=this.callbackExpirationTime=0}function ol(e,t,n){return e=new il(e,t,n),t=Xs(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e}function al(e,t,n,r,i,o){var s=t.current;e:if(n){t:{if(2!==on(n=n._reactInternalFiber)||1!==n.tag)throw a(Error(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Rr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw a(Error(171))}if(1===n.tag){var u=n.type;if(Rr(u)){n=Fr(n,u,l);break e}}n=l}else n=Pr;return null===t.context?t.context=n:t.pendingContext=n,t=o,(i=Li(r,i)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),Oi(s,i),Ls(s,r),r}function sl(e,t,n,r){var i=t.current,o=xs(),a=Ui.suspense;return al(e,t,n,i=Ts(o,i,a),a,r)}function ll(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function ul(e){var t=1073741821-25*(1+((1073741821-xs()+500)/25|0));t<=Ms&&--t,this._expirationTime=Ms=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function cl(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function dl(e,t,n){this._internalRoot=ol(e,t,n)}function fl(e,t){this._internalRoot=ol(e,2,t)}function pl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function hl(e,t,n,r,i){var o=n._reactRootContainer,a=void 0;if(o){if(a=o._internalRoot,"function"==typeof i){var s=i;i=function(){var e=ll(a);s.call(e)}}sl(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new dl(e,0,t)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=ll(a);l.call(e)}}Ds(function(){sl(t,a,e,i)})}return ll(a)}function ml(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!pl(t))throw a(Error(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ze,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}xe=function(e,t,n){switch(t){case"input":if(Et(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=U(r);if(!i)throw a(Error(90));$e(r),Et(r,i)}}}break;case"textarea":nr(e,n);break;case"select":null!=(t=n.value)&&Yn(e,!!n.multiple,t,!1)}},ul.prototype.render=function(e){if(!this._defer)throw a(Error(250));this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new cl;return al(e,t,null,n,null,r._onCommit),r},ul.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},ul.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(!this._defer||null===t)throw a(Error(251));if(this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;if(null===r)throw a(Error(251));r._next=i._next,this._next=t,e.firstBatch=this}if(this._defer=!1,t=n,(rs&(Qa|Xa))!==Ka)throw a(Error(253));di(Us.bind(null,e,t)),fi(),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},ul.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},cl.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},cl.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)throw a(Error(191),n);n()}}},fl.prototype.render=dl.prototype.render=function(e,t){var n=this._internalRoot,r=new cl;return null!==(t=void 0===t?null:t)&&r.then(t),sl(e,n,null,r._onCommit),r},fl.prototype.unmount=dl.prototype.unmount=function(e){var t=this._internalRoot,n=new cl;return null!==(e=void 0===e?null:e)&&n.then(e),sl(null,t,null,n._onCommit),n},fl.prototype.createBatch=function(){var e=new ul(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Ie=As,Ne=Rs,Ae=Ns,Re=function(e,t){var n=rs;rs|=2;try{return e(t)}finally{(rs=n)===Ka&&fi()}};var gl,vl,yl={createPortal:ml,findDOMNode:function(e){if(null==e)e=null;else if(1!==e.nodeType){var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw a(Error(188));throw a(Error(268),Object.keys(e))}e=null===(e=sn(t))?null:e.stateNode}return e},hydrate:function(e,t,n){if(!pl(t))throw a(Error(200));return hl(null,e,t,!0,n)},render:function(e,t,n){if(!pl(t))throw a(Error(200));return hl(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!pl(n))throw a(Error(200));if(null==e||void 0===e._reactInternalFiber)throw a(Error(38));return hl(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(!pl(e))throw a(Error(40));return!!e._reactRootContainer&&(Ds(function(){hl(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return ml.apply(void 0,arguments)},unstable_batchedUpdates:As,unstable_interactiveUpdates:function(e,t,n,r){return Ns(),Rs(e,t,n,r)},unstable_discreteUpdates:Rs,unstable_flushDiscreteUpdates:Ns,flushSync:function(e,t){if((rs&(Qa|Xa))!==Ka)throw a(Error(187));var n=rs;rs|=1;try{return ui(99,e.bind(null,t))}finally{rs=n,fi()}},unstable_createRoot:function(e,t){if(!pl(e))throw a(Error(299),"unstable_createRoot");return new fl(e,null!=t&&!0===t.hydrate)},unstable_createSyncRoot:function(e,t){if(!pl(e))throw a(Error(299),"unstable_createRoot");return new dl(e,1,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=rs;rs|=1;try{ui(99,e)}finally{(rs=t)===Ka&&fi()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[D,z,U,P.injectEventPluginsByName,f,$,function(e){x(e,W)},Pe,Oe,Dn,L,Ws,{current:!1}]}};vl=(gl={findFiberByHostInstance:R,bundleType:0,version:"16.9.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Ks=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Zs=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(i({},gl,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qe.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=sn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return vl?vl(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));var bl={default:yl},wl=bl&&yl||bl;e.exports=wl.default||wl},function(e,t,n){"use strict";e.exports=n(9)},function(e,t,n){"use strict";
/** @license React v0.15.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r=void 0,i=void 0,o=void 0,a=void 0,s=void 0;if(t.unstable_now=void 0,t.unstable_forceFrameRate=void 0,"undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(c,0),e}};t.unstable_now=function(){return Date.now()},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(c,0))},i=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,f=window.Date,p=window.setTimeout,h=window.clearTimeout,m=window.requestAnimationFrame,g=window.cancelAnimationFrame;"undefined"!=typeof console&&("function"!=typeof m&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),t.unstable_now="object"==typeof d&&"function"==typeof d.now?function(){return d.now()}:function(){return f.now()};var v=!1,y=null,b=-1,w=-1,_=33.33,S=-1,k=-1,E=0,C=!1;a=function(){return t.unstable_now()>=E},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):0<e?(_=Math.floor(1e3/e),C=!0):(_=33.33,C=!1)};var x=function(){if(null!==y){var e=t.unstable_now(),n=0<E-e;try{y(n,e)||(y=null)}catch(e){throw M.postMessage(null),e}}},T=new MessageChannel,M=T.port2;T.port1.onmessage=x;var L=function(e){if(null===y)k=S=-1,v=!1;else{v=!0,m(function(e){h(b),L(e)});var n=function(){E=t.unstable_now()+_/2,x(),b=p(n,3*_)};if(b=p(n,3*_),-1!==S&&.1<e-S){var r=e-S;!C&&-1!==k&&r<_&&k<_&&(8.33>(_=r<k?k:r)&&(_=8.33)),k=r}S=e,E=e+_,M.postMessage(null)}};r=function(e){y=e,v||(v=!0,m(function(e){L(e)}))},i=function(e,n){w=p(function(){e(t.unstable_now())},n)},o=function(){h(w),w=-1}}var P=null,O=null,I=null,N=3,A=!1,R=!1,D=!1;function z(e,t){var n=e.next;if(n===e)P=null;else{e===P&&(P=n);var r=e.previous;r.next=n,n.previous=r}e.next=e.previous=null,n=e.callback,r=N;var i=I;N=e.priorityLevel,I=e;try{var o=e.expirationTime<=t;switch(N){case 1:var a=n(o);break;case 2:case 3:case 4:a=n(o);break;case 5:a=n(o)}}catch(e){throw e}finally{N=r,I=i}if("function"==typeof a)if(t=e.expirationTime,e.callback=a,null===P)P=e.next=e.previous=e;else{a=null,o=P;do{if(t<=o.expirationTime){a=o;break}o=o.next}while(o!==P);null===a?a=P:a===P&&(P=e),(t=a.previous).next=a.previous=e,e.next=a,e.previous=t}}function U(e){if(null!==O&&O.startTime<=e)do{var t=O,n=t.next;if(t===n)O=null;else{O=n;var r=t.previous;r.next=n,n.previous=r}t.next=t.previous=null,B(t,t.expirationTime)}while(null!==O&&O.startTime<=e)}function F(e){D=!1,U(e),R||(null!==P?(R=!0,r(j)):null!==O&&i(F,O.startTime-e))}function j(e,n){R=!1,D&&(D=!1,o()),U(n),A=!0;try{if(e){if(null!==P)do{z(P,n),U(n=t.unstable_now())}while(null!==P&&!a())}else for(;null!==P&&P.expirationTime<=n;)z(P,n),U(n=t.unstable_now());return null!==P||(null!==O&&i(F,O.startTime-n),!1)}finally{A=!1}}function V(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}function B(e,t){if(null===P)P=e.next=e.previous=e;else{var n=null,r=P;do{if(t<r.expirationTime){n=r;break}r=r.next}while(r!==P);null===n?n=P:n===P&&(P=e),(t=n.previous).next=n.previous=e,e.next=n,e.previous=t}}var W=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:V(e)}else a=V(e),l=s;if(e={callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,next:null,previous:null},l>s){if(a=l,null===O)O=e.next=e.previous=e;else{n=null;var u=O;do{if(a<u.startTime){n=u;break}u=u.next}while(u!==O);null===n?n=O:n===O&&(O=e),(a=n.previous).next=n.previous=e,e.next=n,e.previous=a}null===P&&O===e&&(D?o():D=!0,i(F,l-s))}else B(e,a),R||A||(R=!0,r(j));return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(e===t)e===P?P=null:e===O&&(O=null);else{e===P?P=t:e===O&&(O=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_shouldYield=function(){var e=t.unstable_now();return U(e),null!==I&&null!==P&&P.startTime<=e&&P.expirationTime<I.expirationTime||a()},t.unstable_requestPaint=W,t.unstable_continueExecution=function(){R||A||(R=!0,r(j))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return P}},function(e,t){(function(t){e.exports=t}).call(this,{})},,function(e,t,n){"use strict";n.r(t);var r;n(5);!function(e){e[e.SMALL=100]="SMALL",e[e.MEDIUM=200]="MEDIUM",e[e.LARGE=300]="LARGE"}(r||(r={}));class i{constructor(){this._events=new Map}addListener(e,t){let n=this._events.get(e);n?n.add(t):this._events.set(e,new Set([t]))}on(e,t){return this.addListener(e,t)}removeListener(e,t){let n=this._events.get(e);n&&(n.delete(t),0==n.size&&this._events.delete(e))}removeListeners(e){this._events.delete(e)}removeAllListeners(){this._events.clear()}triggerEvent(e,t){let n=this._events.get(e);if(n)for(let e of n)e(t)}}i.prototype.on=i.prototype.addListener;console.log.bind(console);const o=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;class a extends i{constructor(e,t){super(),this.autoReopenOnClose=!0,this.isOpen=!1,this.name=e,this.version=t}open(e){return h(this,e).then(()=>(this._setupCoordination(),this._onopen(e)))}_reopen(e){if(!this.autoReopenOnClose)return;let t=this,n=[];return this.transaction=function(e,...r){let i,o,a=new d((e,t)=>{i=e,o=t});return a._resolve=i,a._reject=o,a._db=t,a._stores=r,a._mode=e,n.push(a),a},h(this,e).then(t=>{delete this.transaction;for(let e of n)e._flushDelayed();return this._onopen(e)})}async _onopen(e){this._snapshot(),this.db.onclose=()=>{this.isOpen=!1,this._reopen(e)},this.isOpen=!0,this.triggerEvent("open")}_snapshot(){let e=this.storeNames,t=new Map;if(e.length>0){let n=this.db.transaction(e,"readonly");for(let r of e){let e=n.objectStore(r);t.set(r,{autoIncrement:e.autoIncrement,indexNames:e.indexNames,keyPath:e.keyPath})}}this._lastSnapshot={storeNames:e,storeInfo:t}}_setupCoordination(){"undefined"!=typeof BroadcastChannel&&(this._broadcastChannel=new BroadcastChannel(`xdb:${this.name}.${this.version}`),this._broadcastChannel.onmessage=e=>{this.triggerEvent("remotechange",e.data)})}_broadcastChange(e){this._broadcastChannel&&this._broadcastChannel.postMessage(e),this.triggerEvent("change",e)}close(){this.isOpen=!1,this.db.close()}get storeNames(){return Array.from(this.db.objectStoreNames)}getStore(e,t){return this.transaction(t,e).objectStore(e)}transaction(e,...t){return p(this,this.db.transaction(t,e))}modify(e,...t){let n=this.transaction("readwrite",...e),r=e.map(e=>n.objectStore(e));return Promise.all([n,...t.map(e=>e(...r))]).then(e=>(e.shift(),e))}read(e,...t){let n=this.transaction("readonly",...e),r=e.map(e=>n.objectStore(e));return Promise.all(t.map(e=>e(...r)))}get(e,t){return this.getStore(e,"readonly").get(t)}getAll(e,t,n){return this.getStore(e,"readonly").getAll(t,n)}add(e,t,n){let r=this.getStore(e,"readwrite");return Promise.all([r.add(t,n),r.transaction]).then(e=>e[0])}put(e,t,n){let r=this.getStore(e,"readwrite");return Promise.all([r.put(t,n),r.transaction]).then(e=>e[0])}delete(e,t){let n=this.getStore(e,"readwrite");return Promise.all([n.delete(t),n.transaction])}getAllKeys(e,t,n){return this.getStore(e,"readonly").getAllKeys(t,n)}}class s{constructor(e,t,n,r){this._t=p(e,t),this.db=e,this.prevVersion=n,this.nextVersion=r}get storeNames(){return Array.from(this.db.db.objectStoreNames)}hasStore(e){return this.db.db.objectStoreNames.contains(e)}getStore(e){return this._t.objectStore(e)}createStore(e,t){let n=this.db.db.createObjectStore(e,t);return new u(this.db,n,this._t)}deleteStore(e){this.db.db.deleteObjectStore(e)}}class l extends Promise{constructor(){super(...arguments),this.aborted=!1,this.errorOnAbort=!0}abort(){this.aborted=!0,this.transaction.abort()}objectStore(e){return new u(this.db,this.transaction.objectStore(e),this)}}class u{get autoIncrement(){return this.store.autoIncrement}get indexNames(){return this.store.indexNames}get name(){return this.store.name}set name(e){this.store.name=e}constructor(e,t,n){this.db=e,this.store=t,this.transaction=n}clear(){return this._promise(()=>this.store.clear()).then(()=>{this.db._broadcastChange({type:"clear",store:this.store.name})})}count(e){return this._promise(()=>this.store.count(e))}get(e){return this._promise(()=>this.store.get(e))}getAll(e,t){return this._promise(()=>this.store.getAll(e,t))}getKey(e){return this._promise(()=>this.store.getKey(e))}getAllKeys(e,t){return this._promise(()=>this.store.getAllKeys(e,t))}add(e,t){return this._promise(()=>this.store.add(e,t)).then(t=>(this.db._broadcastChange({type:"update",store:this.store.name,key:t,value:e}),t))}put(e,t){return this._promise(()=>this.store.put(e,t)).then(t=>(this.db._broadcastChange({type:"update",store:this.store.name,key:t,value:e}),t))}delete(e){return this._promise(()=>this.store.delete(e)).then(()=>void this.db._broadcastChange({type:"delete",store:this.store.name,key:e}))}createIndex(e,t,n){return this.store.createIndex(e,t,n)}deleteIndex(e){this.store.deleteIndex(e)}getIndex(e){return new c(this,this.store.index(e))}_promise(e){return new Promise((t,n)=>{let r=e();r.onsuccess=()=>{t(r.result)},r.onerror=()=>{n(r.error)}})}}class c{constructor(e,t){this.store=e,this.index=t}get keyPath(){return this.index.keyPath}get multiEntry(){return this.index.multiEntry}get name(){return this.index.name}set name(e){this.index.name=e}get unique(){return this.index.unique}count(e){return this._promise(()=>this.index.count(e))}get(e){return this._promise(()=>this.index.get(e))}getAll(e,t){return this._promise(()=>this.index.getAll(e,t))}_promise(e){return new Promise((t,n)=>{let r=e();r.onsuccess=()=>{t(r.result)},r.onerror=()=>{n(r.error)}})}}class d extends l{constructor(){super(...arguments),this._delayed=[]}_flushDelayed(){this.abort=l.prototype.abort,this.objectStore=l.prototype.objectStore,this.transaction=this._db.db.transaction(this._stores,this._mode),function(e){let t=e.transaction,n=e._resolve;e._resolve=void 0;let r=e._reject;e._reject=void 0,t.oncomplete=()=>{n()},t.onerror=()=>{r(t.error)},t.onabort=()=>{e.aborted=!0,e.errorOnAbort?r(new Error("transaction aborted")):n()}}(this),this.aborted&&this.abort();for(let e of this._delayed)e._flushDelayed();this._delayed=[]}abort(){this.aborted=!0}objectStore(e){let t=this._db._lastSnapshot.storeInfo.get(e);if(!t)throw new Error("object store not found");let n=new f(this._db,{name:e,autoIncrement:t.autoIncrement,indexNames:t.indexNames,keyPath:t.keyPath},this);return this._delayed.push(n),n}}class f extends u{constructor(){super(...arguments),this._delayed=[]}_flushDelayed(){this.store=this.transaction.transaction.objectStore(this.store.name),this._promise=u.prototype._promise,this._delayed.forEach(({f:e,resolve:t,reject:n})=>{let r=e();r.onsuccess=()=>{t(r.result)},r.onerror=()=>{n(r.error)}}),this._delayed=[]}_promise(e){return new Promise((t,n)=>{this._delayed.push({f:e,resolve:t,reject:n})})}}function p(e,t){var n=new l((e,r)=>{t.oncomplete=()=>{e()},t.onerror=()=>{r(t.error)},t.onabort=()=>{n.aborted=!0,n.errorOnAbort?r(new Error("transaction aborted")):e()}});return n.db=e,n.transaction=t,n}function h(e,t){return new Promise((n,r)=>{let i=o.open(e.name,e.version),a=1,l=()=>{0==--a&&(e.db=i.result,n())};t&&(i.onupgradeneeded=n=>{e.db=i.result;let o=new s(e,i.transaction,n.oldVersion,n.newVersion),u=e=>{try{o._t.abort()}catch(e){}r(e)};a++,o._t.then(l).catch(u),a++;try{t(o).then(l).catch(u)}catch(e){u(e)}}),i.onsuccess=()=>{l()},i.onerror=()=>{r(i.error)}})}const m=console.log.bind(console),g=new a("scripter",1);console.log.bind(console);const v=-1!=navigator.platform.indexOf("Mac"),y={isMac:v,hasPointerEvents:"undefined"!=typeof PointerEvent},b=function(){};class w{constructor(){this.lastOpenScript=0,this.editorViewState=null,this.menuVisible=!1,this.uiScale=1,this.showLineNumbers=!1,this.wordWrap=!0,this.monospaceFont=!1,this.codeFolding=!1,this.showWhitespace=!1,this.indentGuides=!0,this.minimap=!1,this.quickSuggestions=!0,this.quickSuggestionsDelay=500,this.hoverCards=!0,this.windowSize=[r.MEDIUM,r.MEDIUM],this.fontSize=(e,t)=>{e.uiScale=t>22?2:t>18?1.75:t>16?1.5:t>15?1.4:t>13?1.3:t>12?1.2:t>11?1.1:1}}}const _=new class extends i{constructor(){super(...arguments),this._dirtyProps=new Set,this._saveTimer=null,this.version=0,this.data=new w}get editorViewState(){return this.data.editorViewState}set editorViewState(e){this._set("editorViewState",e)}get lastOpenScript(){return this.data.lastOpenScript}set lastOpenScript(e){0!=e&&this._set("lastOpenScript",e)}get uiScale(){return this.data.uiScale}set uiScale(e){this._set("uiScale",e)}get menuVisible(){return this.data.menuVisible}set menuVisible(e){this._set("menuVisible",e)}get showLineNumbers(){return this.data.showLineNumbers}set showLineNumbers(e){this._set("showLineNumbers",e)}get wordWrap(){return this.data.wordWrap}set wordWrap(e){this._set("wordWrap",e)}get monospaceFont(){return this.data.monospaceFont}set monospaceFont(e){this._set("monospaceFont",e)}get codeFolding(){return this.data.codeFolding}set codeFolding(e){this._set("codeFolding",e)}get showWhitespace(){return this.data.showWhitespace}set showWhitespace(e){this._set("showWhitespace",e)}get indentGuides(){return this.data.indentGuides}set indentGuides(e){this._set("indentGuides",e)}get minimap(){return this.data.minimap}set minimap(e){this._set("minimap",e)}get quickSuggestions(){return this.data.quickSuggestions}set quickSuggestions(e){this._set("quickSuggestions",e)}get quickSuggestionsDelay(){return this.data.quickSuggestionsDelay}set quickSuggestionsDelay(e){this._set("quickSuggestionsDelay",e)}get hoverCards(){return this.data.hoverCards}set hoverCards(e){this._set("hoverCards",e)}get windowSize(){return this.data.windowSize}set windowSize(e){this._set("windowSize",e)}_set(e,t){this.data[e]!==t&&(this.data[e]=t,this.dirty(e))}dirty(e){this._dirtyProps.add(e),null===this._saveTimer&&(this._saveTimer=setTimeout(()=>{this.saveDirty()},200)),this.version++,this.triggerEvent("change",{key:e})}async load(){let e=Object.keys(this.data),t=[];if(await g.read(["config"],...e.map(e=>n=>n.get(e).then(n=>{let r=this.data[e];r&&"function"==typeof r?void 0!==n&&t.push([e,()=>r(this.data,n)]):this.data[e]=void 0===n?this.data[e]:n}))),t.length>0){let e=t.map(e=>e[0]),n=[];console.log(`[scripter] migrating config keys ${e}`);for(let[e,r]of t)try{let t=r();void 0===t?n.push(e):this.data[e]=t}catch(t){console.warn(`[scripter] migration for config "${e}" failed: ${t.stack|t}`)}n.length>0&&await g.modify(["config"],async e=>{for(let t of n)e.delete(t)})}}async saveDirty(){let e=Array.from(this._dirtyProps);return this._dirtyProps.clear(),this.saveProps(e)}async saveAll(){return this.saveProps(Object.keys(this.data))}async saveProps(e){clearTimeout(this._saveTimer),this._saveTimer=null;let t=e.map(e=>this.data[e]);b("[config] save",e,t),await g.modify(["config"],async n=>{e.forEach((e,r)=>n.put(t[r],e))})}};var S=n(0),k=n.n(S),E=n(4),C=n.n(E);const x=console.log.bind(console);function T(e){return Object.assign({id:0,name:"Untitled",tags:[],createdAt:new Date,modifiedAt:new Date},e)}class M extends i{constructor(e,t,n){super(),this.readOnly=!1,this._editorViewState=null,this._saveTimer=null,this._savedModelVersion=0,this._currModelVersion=0,this._metaDirty=!1,this._bodyDirty=!1,this.meta=e,this._body=t,this._editorViewState=n}get id(){return this.meta.id}get createdAt(){return this.meta.createdAt}get modifiedAt(){return this.meta.modifiedAt}get body(){return this._body}set body(e){this._body=e,this._bodyDirty=!0,this.scheduleSave()}updateBody(e,t){this._body=e,this._currModelVersion=t,this._bodyDirty=this._currModelVersion!=this._savedModelVersion,this.scheduleSave()}get name(){return this.meta.name}set name(e){this.meta.name!==e&&(this.meta.name=e,this._metaDirty=!0,this.scheduleSave())}get editorViewState(){return this._editorViewState}set editorViewState(e){this._editorViewState=e,this.id>0&&g.put("scriptViewState",e,this.id)}async reloadEditorViewState(){return this._editorViewState=await g.get("scriptViewState",this.id)}scheduleSave(){new Error;clearTimeout(this._saveTimer),this._saveTimer=setTimeout(()=>{this._saveTimer=null,this._savedModelVersion=this._currModelVersion,this.save()},this.meta.id<=0?0:500)}save(){let e;if(this.meta.id<=0){if(""==this._body.trim())return Promise.resolve();x(`save/create script ${JSON.stringify(this.meta.name)}`),this.meta.id<0&&(this.meta.name="Copy of "+this.meta.name),this.meta.modifiedAt=new Date,this.meta.createdAt=this.meta.modifiedAt,e=g.modify(["scripts","scriptBody"],async(e,t)=>{delete this.meta.id;let n=e.add(this.meta);this.meta.id=0;let r=await n;this.meta.id=r,t.put(this._body,r)})}else{if(!this._bodyDirty&&!this._metaDirty)return Promise.resolve();{let t=this._metaDirty,n=this._bodyDirty;n||t?(this.meta.modifiedAt=new Date,t=!0,e=g.modify(["scripts","scriptBody"],async(e,r)=>{t&&e.put(this.meta),n&&r.put(this._body,this.id)})):e=Promise.resolve()}}return this._bodyDirty=!1,this._metaDirty=!1,e.then(()=>{this.triggerEvent("save",this)}).catch(e=>{console.error(`failed to save ${this} in indexeddb: ${e.stack||e}`)})}async load(){let[e,t,n]=await g.read(["scripts","scriptBody","scriptViewState"],(e,t,n)=>e.get(this.id),(e,t,n)=>t.get(this.id),(e,t,n)=>n.get(this.id));return!!e&&(this.meta=e,this._body=t,this._editorViewState=n||null,!0)}async loadIfEmpty(){if(!this.meta||!this.meta.name)return this.load();if(""!=this.body)return!0;let[e,t]=await g.read(["scriptBody","scriptViewState"],(e,t)=>e.get(this.id),(e,t)=>t.get(this.id));return this._body=e,this._editorViewState=t||null,!0}async delete(){await g.modify(["scripts","scriptBody","scriptViewState"],async(e,t,n)=>{e.delete(this.id),t.delete(this.id),n.delete(this.id)}),this.meta=T({}),this._body="",this._editorViewState=null}clone(){let e=new M(Object.assign({},this.meta,{tags:[].concat(this.meta.tags)}),this._body,this._editorViewState);return e.readOnly=this.readOnly,e}toString(){return`script#${this.meta.id}`}static create(e={},t=""){return new M(T(e),t,null)}static async load(e){let t=new M({id:e},"",null);return await t.load()?t:null}}var L=n(1);L.editor.defineTheme("scripter-light",{base:"vs",inherit:!0,rules:[{token:"comment",foreground:"#999999"},{token:"keyword",foreground:"#010101"},{token:"identifier",foreground:"#111111"},{token:"type.identifier",foreground:"#DB2386"},{token:"number",foreground:"#005cc5"},{token:"string",foreground:"#032f62"},{token:"delimiter",foreground:"#555555"}],colors:{"editor.foreground":"#222222","editor.background":"#ffffff","editorCursor.foreground":"#000000","editorLineNumber.foreground":"#d9d9d9","editorIndentGuide.background":"#f8f8f8","editorBracketMatch.background":"#ccffdf","editorBracketMatch.border":"#00000000","editorError.foreground":"#ff4499","editor.hoverHighlightBackground":"#fffddd","editorHoverWidget.background":"#fffadd","editorHoverWidget.border":"#F0E5A7"}});var P=n(2),O=n.n(P);const I=Symbol("kViewZoneDOMObserver");var N;!function(e){e[e.GENERIC=0]="GENERIC",e[e.PRINT=1]="PRINT",e[e.INPUT=2]="INPUT"}(N||(N={}));Symbol("kViewZoneType");class A extends i{constructor(e,t){super(),this.id="",this.editor=null,this.sourceLine=-1,this.sourceLineLen=1,this.suppressMouseDown=!1,this.sourceLine=this.afterLineNumber=e||0;let n=this.domNode=document.createElement("div");n.className="inlineWidget",t&&(n.className+=" "+t);let r=this.containerEl=document.createElement("div");n.appendChild(r),this.contentEl=document.createElement("div"),this.contentEl.className="content",r.appendChild(this.contentEl),this.buttonsEl=document.createElement("div"),this.buttonsEl.className="buttons",r.appendChild(this.buttonsEl);let i=document.createElement("div");i.innerText="",i.title="Dismiss",i.className="button closeButton sansSerif",i.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),this.removeFromEditor()},{passive:!1,capture:!0}),this.buttonsEl.appendChild(i)}removeFromEditor(){if(this.editor){let e=this.editor;e.viewZones.delete(this.id),e.editor.focus()}}moveToLine(e){e!=this.afterLineNumber&&(this.afterLineNumber=e,this.sourceLine=e)}prepareForLayout(){this.afterLineNumber=this.sourceLine;let e=this.domNode.cloneNode(!0);e.style.height="auto";let t=this.editor.measureHTMLElement(e);this.heightInPx=Math.max(16,t.height)}onWillAddToEditor(e){this.editor=e,this.sourceLine=this.afterLineNumber;let t=this.editor.measureHTMLElement(this.domNode);this.heightInPx=Math.max(16,t.height),this.onWillMount()}onDidAddToEditor(e){this.id=e,this._updateSourceLineLen(),this.triggerEvent("add",this.editor)}onWillRemoveFromEditor(){this.onWillUnmount()}onDidRemoveFromEditor(){this.id="",this.editor=null,this.sourceLine=-1,this.triggerEvent("remove"),this.onDidUnmount(),this.removeAllListeners()}onMovedSourceLine(e){this.sourceLine;this.sourceLine=e,this._updateSourceLineLen()}_updateSourceLineLen(){try{this.sourceLineLen=this.editor.currentModel.getLineLength(this.sourceLine)}catch(e){console.warn(`[scripter/ViewZone._updateSourceLineLen] Model.getLineLength: ${e.stack||e}`),this.sourceLineLen=1}}onComputedHeight(e){!function(e,t,n){document.body.contains(t)&&n();var r=e[I];if(r)return void r[0].push({el:t,callback:n});let i=[{el:t,callback:n}];var o=new MutationObserver((t,n)=>{for(let e=0;e<i.length;){let t=i[e];document.body.contains(t.el)?(t.callback(),i.splice(e,1)):e++}0==i.length&&(n.disconnect(),e[I]=null)});let a=e.editor.getDomNode().querySelector(".view-zones");o.observe(a,{childList:!0,subtree:!0}),r=[i,o],e[I]=r}(this.editor,this.domNode,()=>{this.domNode.style.width=null,this.onDidMount()})}onWillMount(){}onDidMount(){}onWillUnmount(){}onDidUnmount(){}}class R extends A{constructor(e,t){if(super(e.line,"printWidget"),this.pos=e,this.messageHtml=t,this.contentEl.className+=" message monospace",this.contentEl.innerHTML=t,""!=t){let e=document.createElement("div");e.innerText="+",e.title="Add to script as code",e.className="button inlineButton sansSerif",e.addEventListener("click",e=>{e.stopPropagation(),e.preventDefault(),this.addAsCode()},{passive:!1,capture:!0}),this.buttonsEl.appendChild(e)}}addAsCode(){if(!this.editor)return;let e=this.editor,t=this.sourceLine;this.removeFromEditor();let n="\n"+this.messageHtml;this.pos.column>1&&(n=n.replace(/\n/g,"\n"+"                                                                            ".substr(0,this.pos.column)));let r=new L.Selection(t+1,this.pos.column+1,t+n.split("\n").length-1,9999);e.currentModel.pushEditOperations(e.editor.getSelections(),[{range:new L.Range(t,999,t,999),text:n,forceMoveMarkers:!0}],e=>[r]);setTimeout(()=>{e.editor.setSelection(r)},1)}}class D extends A{constructor(e,t){super(e,"inputWidget"),this.sendTimer=null,this.lastSentValue=void 0,this.done=!1,this.nextResolver=null,this.onInputInput=e=>{this.value=e,null===this.sendTimer&&(this.sendValue(),this.sendTimer=setTimeout(()=>this.sendValue(),1e3/30))},this.onInputChange=e=>{this.value=e,this.sendValue()},this.input=t,this.contentEl.appendChild(t.el),this.value=this.input.value}onDidMount(){this.input.on("change",this.onInputChange),this.input.on("input",this.onInputInput),this.input.onMountDOM()}onDidUnmount(){this.input.onUnmountDOM(),this.input.removeListener("change",this.onInputChange),this.input.removeListener("input",this.onInputInput),this.done=!0,this.sendValue()}sendValue(){clearTimeout(this.sendTimer),this.sendTimer=null,(this.done||this.nextResolver&&this.value!==this.lastSentValue)&&(this.lastSentValue=this.value,this.nextResolver({value:this.lastSentValue,done:this.done}),this.nextResolver=null)}enqueueResolver(e){this.nextResolver&&(console.warn("[scripter] enqueueResolver while this.nextResolver != null"),this.nextResolver({value:this.lastSentValue,done:!0})),this.nextResolver=e}}class z extends i{constructor(e){super(),this.lineToZoneId=new Array,this.viewZones=new Map,this.count=0,this.onConfigChange=e=>{"uiScale"==e.key&&this.editor.editor.changeViewZones(e=>{for(let t of this.viewZones.values())t.prepareForLayout(),e.layoutZone(t.id)})},this.editor=e}clearAll(){this.lineToZoneId.length>0&&(this.clear(this.lineToZoneId),this.lineToZoneId=[],this.count=0,this.triggerEvent("update"))}clearAllUIInputs(){let e=[];for(let[t,n]of this.viewZones.entries())n instanceof D&&e.push(t);e.length>0&&this.clear(e)}clear(e){this._clear(e)>0&&this.triggerEvent("update")}_clear(e){let t=this.count;return this.editor.editor.changeViewZones(t=>{for(let n of e)t.removeZone(this._removeZone(n))}),t>0&&0==this.count&&this.stopObservingChanges(),t-this.count}_removeZone(e){let t=this.viewZones.get(e);t&&(t.onWillRemoveFromEditor(),this.viewZones.delete(e),t.onDidRemoveFromEditor(),this.count--);let n=this.lineToZoneId.indexOf(e);return-1!=n&&delete this.lineToZoneId[n],e}updateAfterEdit(e,t,n,r,i,o){let a=n;if(o&we.LAST_LINE_INTACT){if(a--,o&we.ADD_LINE){let e=this.viewZones.get(this.lineToZoneId[n]);e&&this.editor.editor.changeViewZones(t=>{e.moveToLine(e.sourceLine+i),t.layoutZone(e.id)})}else if(o&we.REMOVE_LINE){let r=this.viewZones.get(this.lineToZoneId[e]);r&&r.sourceLineLen<t&&(a++,void 0===this.lineToZoneId[n]&&e++)}}else if(o&we.ADD_LINE){let r=this.viewZones.get(this.lineToZoneId[n]);r&&r.sourceLineLen<t&&(a--,e++)}let s=[],l=[],u=!1;for(let t in this.lineToZoneId){let n=Number(t),r=this.lineToZoneId[t];if(!u){if(n<e){s[t]=r;continue}u=!0}if(n<=a)l.push(r);else{let e=n+i;s[e]=r;let t=this.viewZones.get(r);t&&t.onMovedSourceLine(e)}}this.lineToZoneId=s,l.length>0&&this.clear(l)}get(e){return this.viewZones.get(this.lineToZoneId[e.line])||null}set(e){return this._set(e,!0)}add(e){return this._set(e,!1)}_set(e,t){let n=this.lineToZoneId[e.afterLineNumber];if(!t&&void 0!==n)return"";let r="";return this.editor.editor.changeViewZones(t=>{void 0!==n&&(t.removeZone(this._removeZone(n)),n=void 0),e.onWillAddToEditor(this.editor),r=t.addZone(e),this.viewZones.set(r,e),this.lineToZoneId[e.afterLineNumber]=r,e.onDidAddToEditor(r)}),this.count++,this.triggerEvent("update"),1==this.count&&this.startObservingChanges(),r}delete(e){this.clear([e])}startObservingChanges(){this.editor.startObservingChanges(),_.addListener("change",this.onConfigChange)}stopObservingChanges(){this.editor.stopObservingChanges(),_.removeListener("change",this.onConfigChange)}}const U=(()=>{let e=new Uint8Array(0);if(e.__proto__!==Object.prototype&&"function"==typeof e.__proto__.constructor){let t=e.__proto__.constructor;return e=>e instanceof t}return e=>e.buffer instanceof ArrayBuffer&&"BYTES_PER_ELEMENT"in e})();class F{constructor(e,t,n){this.__scripter_lazy_seq__="n",this.length=t===1/0?1/0:Math.ceil(Math.max(0,t-e)/n),this.start=e,this.end=t,this.step=n}[Symbol.iterator](){let e=this.start,t=this.end,n=this.step;return{next(){if(e>=t)return{done:!0,value:0};let r=e;return e+=n,{value:r,done:!1}}}}map(e){if(this.end===1/0)throw new Error("infinite sequence");let t=[];for(let n=0,r=this.start;r<this.end;r+=this.step)t.push(e(r,n++));return t}array(){if(this.end===1/0)throw new Error("infinite sequence");let e=[];for(let t=this.start;t<this.end;t+=this.step)e.push(t);return e}toString(){if(this.end===1/0){let e="",t=0;for(let n of this){if(t>0){if(t>50){e+=" ... ";break}e+=", "}e+=n,t++}return e}return this.join(", ")}join(e){let t="",n=0;if(this.end===1/0)throw new Error("infinite sequence");for(let r of this)n>0&&(t+=e),t+=r,n++;return t}at(e){return this.start+this.step*e}}var j={__scripter_image_marker__:1,__scripter_lazy_seq__:1};function V(e){return function e(t,n,r){let i=typeof t;if(null===t)return"null";if(void 0===t)return"undefined";let o=n+"  ";if("object"==i||"function"==i){if(r.has(t))return"[cyclic]";r.add(t)}if("object"==i){if(t instanceof ArrayBuffer)return"<ArrayBuffer "+t.byteLength+">";if(U(t)){let e=32/t.BYTES_PER_ELEMENT,n=t.length>e?t.subarray(0,e):t;return"<"+t.constructor.name+" "+t.length+(0==t.length?">":" ["+Array.from(n).map(e=>e.toString(16)).join(" ")+(n===t?"]>":" ...]>"))}if(Array.isArray(t))return t.length>10?"["+t.map(t=>o+e(t,o,r)).join(",")+"]":"["+t.map(t=>e(t,o,r)).join(", ")+"]";if("__scripter_lazy_seq__"in t)return t.__proto__=F.prototype,"LazySeq["+t.toString()+"]";if(Symbol.iterator in t){let i=t instanceof Map,a=Array.from(t),s=a.length>10,l=t.constructor.name+"{";if(0==a.length)return l+"}";for(let t=0;t<a.length;t++){let n=a[t];t>0&&(l+=","),l+=s?o:" ",l+=i?e(n[0],o,r)+" => "+e(n[1],o,r):e(n,o,r)}return l+(s?n:" ")+"}"}if(t instanceof Date)return String(t);let i=[];for(let n of Object.keys(t))if(!(n in j)){let a=B.test(n)?n:JSON.stringify(n);i.push(a+": "+e(t[n],o,r))}return"{"+i.join(","+o)+"}"}if("function"==i)return"[Function"+(t.name?" "+t.name:"")+"]";return String(t)}(e,"\n",new Set)}const B=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;const W=[],$=[],q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var G=0,H=q.length;G<H;++G)W[G]=q[G],$[q.charCodeAt(G)]=G;function K(e,t,n){for(var r,i,o=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(W[(i=r)>>18&63]+W[i>>12&63]+W[i>>6&63]+W[63&i]);return o.join("")}function Z(e){for(var t,n=e.length,r=n%3,i=[],o=0,a=n-r;o<a;o+=16383)i.push(K(e,o,o+16383>a?a:o+16383));return 1===r?(t=e[n-1],i.push(W[t>>2]+W[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(W[t>>10]+W[t>>4&63]+W[t<<2&63]+"=")),i.join("")}function Q(){document.body.classList.remove("showMessage"),_e.editor.layout()}$["-".charCodeAt(0)]=62,$["_".charCodeAt(0)]=63;const{SourceMapConsumer:X,BasicSourceMapConsumer:J,IndexedSourceMapConsumer:Y,SourceMapGenerator:ee,SourceNode:te}=function(e,t){var r,i;return r="undefined"!=typeof self?self:this,i=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};const n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function i(e){const t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){let t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}t.urlParse=i,t.urlGenerate=o;const a=function(e){const n=[];return function(e){for(let t=0;t<n.length;t++)if(n[t].input===e){const e=n[0];return n[0]=n[t],n[t]=e,n[0].result}const r=function(e){let n=e;const r=i(e);if(r){if(!r.path)return e;n=r.path}const a=t.isAbsolute(n),s=[];let l=0,u=0;for(;;){if(l=u,-1===(u=n.indexOf("/",l))){s.push(n.slice(l));break}for(s.push(n.slice(l,u));u<n.length&&"/"===n[u];)u++}let c=0;for(u=s.length-1;u>=0;u--){const e=s[u];"."===e?s.splice(u,1):".."===e?c++:c>0&&(""===e?(s.splice(u+1,c),c=0):(s.splice(u,2),c--))}return""===(n=s.join("/"))&&(n=a?"/":"."),r?(r.path=n,o(r)):n}(e);return n.unshift({input:e,result:r}),n.length>32&&n.pop(),r}}();function s(e,t){""===e&&(e="."),""===t&&(t=".");const n=i(t),s=i(e);if(s&&(e=s.path||"/"),n&&!n.scheme)return s&&(n.scheme=s.scheme),o(n);if(n||t.match(r))return t;if(s&&!s.host&&!s.path)return s.host=t,o(s);const l="/"===t.charAt(0)?t:a(e.replace(/\/+$/,"")+"/"+t);return s?(s.path=l,o(s)):l}t.normalize=a,t.join=s,t.isAbsolute=function(e){return"/"===e.charAt(0)||n.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");let n=0;for(;0!==t.indexOf(e+"/");){const r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};const l=!("__proto__"in Object.create(null));function u(e){return e}function c(e){if(!e)return!1;const t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(let n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function d(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=l?u:function(e){return c(e)?"$"+e:e},t.fromSetString=l?u:function(e){return c(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){let r=d(e.source,t.source);return 0!==r?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)||n?r:0!=(r=e.generatedColumn-t.generatedColumn)?r:0!=(r=e.generatedLine-t.generatedLine)?r:d(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){let r=e.generatedLine-t.generatedLine;return 0!==r?r:0!=(r=e.generatedColumn-t.generatedColumn)||n?r:0!==(r=d(e.source,t.source))?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)?r:d(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){let n=e.generatedLine-t.generatedLine;return 0!==n?n:0!=(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=d(e.source,t.source))?n:0!=(n=e.originalLine-t.originalLine)?n:0!=(n=e.originalColumn-t.originalColumn)?n:d(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){const e=i(n);if(!e)throw new Error("sourceMapURL could not be parsed");if(e.path){const t=e.path.lastIndexOf("/");t>=0&&(e.path=e.path.substring(0,t+1))}t=s(o(e),t)}return a(t)}},function(e,t,n){const r=n(2),i=n(0),o=n(3).ArraySet,a=n(7).MappingList;class s{constructor(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._skipValidation=i.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new a,this._sourcesContents=null}static fromSourceMap(e){const t=e.sourceRoot,n=new s({file:e.file,sourceRoot:t});return e.eachMapping(function(e){const r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=i.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)}),e.sources.forEach(function(r){let o=r;null!==t&&(o=i.relative(t,r)),n._sources.has(o)||n._sources.add(o);const a=e.sourceContentFor(r);null!=a&&n.setSourceContent(r,a)}),n}addMapping(e){const t=i.getArg(e,"generated"),n=i.getArg(e,"original",null);let r=i.getArg(e,"source",null),o=i.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})}setSourceContent(e,t){let n=e;null!=this._sourceRoot&&(n=i.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[i.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[i.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))}applySourceMap(e,t,n){let r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}const a=this._sourceRoot;null!=a&&(r=i.relative(a,r));const s=this._mappings.toArray().length>0?new o:this._sources,l=new o;this._mappings.unsortedForEach(function(t){if(t.source===r&&null!=t.originalLine){const r=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=r.source&&(t.source=r.source,null!=n&&(t.source=i.join(n,t.source)),null!=a&&(t.source=i.relative(a,t.source)),t.originalLine=r.line,t.originalColumn=r.column,null!=r.name&&(t.name=r.name))}const o=t.source;null==o||s.has(o)||s.add(o);const u=t.name;null==u||l.has(u)||l.add(u)},this),this._sources=s,this._names=l,e.sources.forEach(function(t){const r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=i.join(n,t)),null!=a&&(t=i.relative(a,t)),this.setSourceContent(t,r))},this)}_validateMapping(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!t&&!n&&!r);else if(!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))}_serializeMappings(){let e,t,n,o,a=0,s=1,l=0,u=0,c=0,d=0,f="";const p=this._mappings.toArray();for(let h=0,m=p.length;h<m;h++){if(e="",(t=p[h]).generatedLine!==s)for(a=0;t.generatedLine!==s;)e+=";",s++;else if(h>0){if(!i.compareByGeneratedPositionsInflated(t,p[h-1]))continue;e+=","}e+=r.encode(t.generatedColumn-a),a=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=r.encode(o-d),d=o,e+=r.encode(t.originalLine-1-u),u=t.originalLine-1,e+=r.encode(t.originalColumn-l),l=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-c),c=n)),f+=e}return f}_generateSourcesContent(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=i.relative(t,e));const n=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)}toJSON(){const e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e}toString(){return JSON.stringify(this.toJSON())}}s.prototype._version=3,t.SourceMapGenerator=s},function(e,t,n){const r=n(6);t.encode=function(e){let t,n="",i=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&i,(i>>>=5)>0&&(t|=32),n+=r.encode(t)}while(i>0);return n}},function(e,t){class n{constructor(){this._array=[],this._set=new Map}static fromArray(e,t){const r=new n;for(let n=0,i=e.length;n<i;n++)r.add(e[n],t);return r}size(){return this._set.size}add(e,t){const n=this.has(e),r=this._array.length;n&&!t||this._array.push(e),n||this._set.set(e,r)}has(e){return this._set.has(e)}indexOf(e){const t=this._set.get(e);if(t>=0)return t;throw new Error('"'+e+'" is not in the set.')}at(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)}toArray(){return this._array.slice()}}t.ArraySet=n},function(e,t,n){(function(t){if("function"==typeof fetch){let t=null;e.exports=function(){if("string"!=typeof t)throw new Error("You must provide the URL of lib/mappings.wasm by calling SourceMapConsumer.initialize({ 'lib/mappings.wasm': ... }) before using SourceMapConsumer");return fetch(t).then(e=>e.arrayBuffer())},e.exports.initialize=e=>t=e}else{const r=n(10),i=n(11);e.exports=function(){return new Promise((e,n)=>{const o=i.join(t,"mappings.wasm");r.readFile(o,null,(t,r)=>{t?n(t):e(r.buffer)})})},e.exports.initialize=e=>{console.debug("SourceMapConsumer.initialize is a no-op when running in node.js")}}}).call(t,"/")},function(e,t,n){t.SourceMapGenerator=n(1).SourceMapGenerator,t.SourceMapConsumer=n(8).SourceMapConsumer,t.SourceNode=n(13).SourceNode},function(e,t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)}},function(e,t,n){const r=n(0);t.MappingList=class{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(e,t){this._array.forEach(e,t)}add(e){!function(e,t){const n=e.generatedLine,i=t.generatedLine,o=e.generatedColumn,a=t.generatedColumn;return i>n||i==n&&a>=o||r.compareByGeneratedPositionsInflated(e,t)<=0}(this._last,e)?(this._sorted=!1,this._array.push(e)):(this._last=e,this._array.push(e))}toArray(){return this._sorted||(this._array.sort(r.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}}},function(e,t,n){const r=n(0),i=n(9),o=n(3).ArraySet,a=(n(2),n(4)),s=n(12),l=Symbol("smcInternal");class u{constructor(e,t){return e==l?Promise.resolve(this):function(e,t){let n=e;"string"==typeof e&&(n=r.parseSourceMapInput(e));const i=null!=n.sections?new d(n,t):new c(n,t);return Promise.resolve(i)}(e,t)}static initialize(e){a.initialize(e["lib/mappings.wasm"])}static fromSourceMap(e,t){return function(e,t){return c.fromSourceMap(e,t)}(e,t)}static with(e,t,n){let r=null;return new u(e,t).then(e=>(r=e,n(e))).then(e=>(r&&r.destroy(),e),e=>{throw r&&r.destroy(),e})}_parseMappings(e,t){throw new Error("Subclasses must implement _parseMappings")}eachMapping(e,t,n){throw new Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(e){throw new Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw new Error("Subclasses must implement destroy")}}u.prototype._version=3,u.GENERATED_ORDER=1,u.ORIGINAL_ORDER=2,u.GREATEST_LOWER_BOUND=1,u.LEAST_UPPER_BOUND=2,t.SourceMapConsumer=u;class c extends u{constructor(e,t){return super(l).then(n=>{let i=e;"string"==typeof e&&(i=r.parseSourceMapInput(e));const a=r.getArg(i,"version");let l=r.getArg(i,"sources");const u=r.getArg(i,"names",[]);let c=r.getArg(i,"sourceRoot",null);const d=r.getArg(i,"sourcesContent",null),f=r.getArg(i,"mappings"),p=r.getArg(i,"file",null);if(a!=n._version)throw new Error("Unsupported version: "+a);return c&&(c=r.normalize(c)),l=l.map(String).map(r.normalize).map(function(e){return c&&r.isAbsolute(c)&&r.isAbsolute(e)?r.relative(c,e):e}),n._names=o.fromArray(u.map(String),!0),n._sources=o.fromArray(l,!0),n._absoluteSources=n._sources.toArray().map(function(e){return r.computeSourceURL(c,e,t)}),n.sourceRoot=c,n.sourcesContent=d,n._mappings=f,n._sourceMapURL=t,n.file=p,n._computedColumnSpans=!1,n._mappingsPtr=0,n._wasm=null,s().then(e=>(n._wasm=e,n))})}_findSourceIndex(e){let t=e;if(null!=this.sourceRoot&&(t=r.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);for(let t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1}static fromSourceMap(e,t){return new c(e.toString())}get sources(){return this._absoluteSources.slice()}_getMappingsPtr(){return 0===this._mappingsPtr&&this._parseMappings(this._mappings,this.sourceRoot),this._mappingsPtr}_parseMappings(e,t){const n=e.length,r=this._wasm.exports.allocate_mappings(n),i=new Uint8Array(this._wasm.exports.memory.buffer,r,n);for(let t=0;t<n;t++)i[t]=e.charCodeAt(t);const o=this._wasm.exports.parse_mappings(r);if(!o){const e=this._wasm.exports.get_last_error();let t=`Error parsing mappings (code ${e}): `;switch(e){case 1:t+="the mappings contained a negative line, column, source index, or name index";break;case 2:t+="the mappings contained a number larger than 2**32";break;case 3:t+="reached EOF while in the middle of parsing a VLQ";break;case 4:t+="invalid base 64 character while parsing a VLQ";break;default:t+="unknown error code"}throw new Error(t)}this._mappingsPtr=o}eachMapping(e,t,n){const i=t||null,o=n||u.GENERATED_ORDER,a=this.sourceRoot;this._wasm.withMappingCallback(t=>{null!==t.source&&(t.source=this._sources.at(t.source),t.source=r.computeSourceURL(a,t.source,this._sourceMapURL),null!==t.name&&(t.name=this._names.at(t.name))),e.call(i,t)},()=>{switch(o){case u.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case u.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw new Error("Unknown order of iteration.")}})}allGeneratedPositionsFor(e){let t=r.getArg(e,"source");const n=r.getArg(e,"line"),i=e.column||0;if((t=this._findSourceIndex(t))<0)return[];if(n<1)throw new Error("Line numbers must be >= 1");if(i<0)throw new Error("Column numbers must be >= 0");const o=[];return this._wasm.withMappingCallback(e=>{let t=e.lastGeneratedColumn;this._computedColumnSpans&&null===t&&(t=1/0),o.push({line:e.generatedLine,column:e.generatedColumn,lastColumn:t})},()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),t,n-1,"column"in e,i)}),o}destroy(){0!==this._mappingsPtr&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(e){const t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")};if(t.generatedLine<1)throw new Error("Line numbers must be >= 1");if(t.generatedColumn<0)throw new Error("Column numbers must be >= 0");let n,i=r.getArg(e,"bias",u.GREATEST_LOWER_BOUND);if(null==i&&(i=u.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback(e=>n=e,()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),t.generatedLine-1,t.generatedColumn,i)}),n&&n.generatedLine===t.generatedLine){let e=r.getArg(n,"source",null);null!==e&&(e=this._sources.at(e),e=r.computeSourceURL(this.sourceRoot,e,this._sourceMapURL));let t=r.getArg(n,"name",null);return null!==t&&(t=this._names.at(t)),{source:e,line:r.getArg(n,"originalLine",null),column:r.getArg(n,"originalColumn",null),name:t}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e})}sourceContentFor(e,t){if(!this.sourcesContent)return null;const n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];let i,o=e;if(null!=this.sourceRoot&&(o=r.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(i=r.urlParse(this.sourceRoot))){const e=o.replace(/^file:\/\//,"");if("file"==i.scheme&&this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];if((!i.path||"/"==i.path)&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(t)return null;throw new Error('"'+o+'" is not in the SourceMap.')}generatedPositionFor(e){let t=r.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};const n={source:t,originalLine:r.getArg(e,"line"),originalColumn:r.getArg(e,"column")};if(n.originalLine<1)throw new Error("Line numbers must be >= 1");if(n.originalColumn<0)throw new Error("Column numbers must be >= 0");let i,o=r.getArg(e,"bias",u.GREATEST_LOWER_BOUND);if(null==o&&(o=u.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback(e=>i=e,()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),n.source,n.originalLine-1,n.originalColumn,o)}),i&&i.source===n.source){let e=i.lastGeneratedColumn;return this._computedColumnSpans&&null===e&&(e=1/0),{line:r.getArg(i,"generatedLine",null),column:r.getArg(i,"generatedColumn",null),lastColumn:e}}return{line:null,column:null,lastColumn:null}}}c.prototype.consumer=u,t.BasicSourceMapConsumer=c;class d extends u{constructor(e,t){return super(l).then(n=>{let i=e;"string"==typeof e&&(i=r.parseSourceMapInput(e));const a=r.getArg(i,"version"),s=r.getArg(i,"sections");if(a!=n._version)throw new Error("Unsupported version: "+a);n._sources=new o,n._names=new o,n.__generatedMappings=null,n.__originalMappings=null,n.__generatedMappingsUnsorted=null,n.__originalMappingsUnsorted=null;let l={line:-1,column:0};return Promise.all(s.map(e=>{if(e.url)throw new Error("Support for url field in sections not implemented.");const n=r.getArg(e,"offset"),i=r.getArg(n,"line"),o=r.getArg(n,"column");if(i<l.line||i===l.line&&o<l.column)throw new Error("Section offsets must be ordered and non-overlapping.");return l=n,new u(r.getArg(e,"map"),t).then(e=>({generatedOffset:{generatedLine:i+1,generatedColumn:o+1},consumer:e}))})).then(e=>(n._sections=e,n))})}get _generatedMappings(){return this.__generatedMappings||this._sortGeneratedMappings(),this.__generatedMappings}get _originalMappings(){return this.__originalMappings||this._sortOriginalMappings(),this.__originalMappings}get _generatedMappingsUnsorted(){return this.__generatedMappingsUnsorted||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappingsUnsorted}get _originalMappingsUnsorted(){return this.__originalMappingsUnsorted||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappingsUnsorted}_sortGeneratedMappings(){const e=this._generatedMappingsUnsorted;e.sort(r.compareByGeneratedPositionsDeflated),this.__generatedMappings=e}_sortOriginalMappings(){const e=this._originalMappingsUnsorted;e.sort(r.compareByOriginalPositions),this.__originalMappings=e}get sources(){const e=[];for(let t=0;t<this._sections.length;t++)for(let n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}originalPositionFor(e){const t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=i.search(t,this._sections,function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn}),o=this._sections[n];return o?o.consumer.originalPositionFor({line:t.generatedLine-(o.generatedOffset.generatedLine-1),column:t.generatedColumn-(o.generatedOffset.generatedLine===t.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})}sourceContentFor(e,t){for(let t=0;t<this._sections.length;t++){const n=this._sections[t].consumer.sourceContentFor(e,!0);if(n)return n}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')}generatedPositionFor(e){for(let t=0;t<this._sections.length;t++){const n=this._sections[t];if(-1===n.consumer._findSourceIndex(r.getArg(e,"source")))continue;const i=n.consumer.generatedPositionFor(e);if(i)return{line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)}}return{line:null,column:null}}_parseMappings(e,t){const n=this.__generatedMappingsUnsorted=[],i=this.__originalMappingsUnsorted=[];for(let e=0;e<this._sections.length;e++){const t=this._sections[e],o=[];t.consumer.eachMapping(e=>o.push(e));for(let e=0;e<o.length;e++){const a=o[e];let s=r.computeSourceURL(t.consumer.sourceRoot,null,this._sourceMapURL);this._sources.add(s),s=this._sources.indexOf(s);let l=null;a.name&&(this._names.add(a.name),l=this._names.indexOf(a.name));const u={source:s,generatedLine:a.generatedLine+(t.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(t.generatedOffset.generatedLine===a.generatedLine?t.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:l};n.push(u),"number"==typeof u.originalLine&&i.push(u)}}}eachMapping(e,t,n){const i=t||null;let o;switch(n||u.GENERATED_ORDER){case u.GENERATED_ORDER:o=this._generatedMappings;break;case u.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}const a=this.sourceRoot;o.map(function(e){let t=null;return null!==e.source&&(t=this._sources.at(e.source),t=r.computeSourceURL(a,t,this._sourceMapURL)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,i)}_findMapping(e,t,n,r,o,a){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return i.search(e,t,o,a)}allGeneratedPositionsFor(e){const t=r.getArg(e,"line"),n={source:r.getArg(e,"source"),originalLine:t,originalColumn:r.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];if(n.originalLine<1)throw new Error("Line numbers must be >= 1");if(n.originalColumn<0)throw new Error("Column numbers must be >= 0");const o=[];let a=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,i.LEAST_UPPER_BOUND);if(a>=0){let n=this._originalMappings[a];if(void 0===e.column){const e=n.originalLine;for(;n&&n.originalLine===e;){let e=n.lastGeneratedColumn;this._computedColumnSpans&&null===e&&(e=1/0),o.push({line:r.getArg(n,"generatedLine",null),column:r.getArg(n,"generatedColumn",null),lastColumn:e}),n=this._originalMappings[++a]}}else{const e=n.originalColumn;for(;n&&n.originalLine===t&&n.originalColumn==e;){let e=n.lastGeneratedColumn;this._computedColumnSpans&&null===e&&(e=1/0),o.push({line:r.getArg(n,"generatedLine",null),column:r.getArg(n,"generatedColumn",null),lastColumn:e}),n=this._originalMappings[++a]}}}return o}destroy(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.destroy()}}t.IndexedSourceMapConsumer=d},function(e,t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,r,i){if(0===n.length)return-1;let o=function e(n,r,i,o,a,s){const l=Math.floor((r-n)/2)+n,u=a(i,o[l],!0);return 0===u?l:u>0?r-l>1?e(l,r,i,o,a,s):s==t.LEAST_UPPER_BOUND?r<o.length?r:-1:l:l-n>1?e(n,l,i,o,a,s):s==t.LEAST_UPPER_BOUND?l:n<0?-1:n}(-1,n.length,e,n,r,i||t.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&0===r(n[o],n[o-1],!0);)--o;return o}},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){const r=n(4);let i=null;e.exports=function(){if(i)return i;const e=[];return i=r().then(t=>WebAssembly.instantiate(t,{env:{mapping_callback(t,n,r,i,o,a,s,l,u,c){const d=new function(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null};d.generatedLine=t+1,d.generatedColumn=n,r&&(d.lastGeneratedColumn=i-1),o&&(d.source=a,d.originalLine=s+1,d.originalColumn=l,u&&(d.name=c)),e[e.length-1](d)},start_all_generated_locations_for(){console.time("all_generated_locations_for")},end_all_generated_locations_for(){console.timeEnd("all_generated_locations_for")},start_compute_column_spans(){console.time("compute_column_spans")},end_compute_column_spans(){console.timeEnd("compute_column_spans")},start_generated_location_for(){console.time("generated_location_for")},end_generated_location_for(){console.timeEnd("generated_location_for")},start_original_location_for(){console.time("original_location_for")},end_original_location_for(){console.timeEnd("original_location_for")},start_parse_mappings(){console.time("parse_mappings")},end_parse_mappings(){console.timeEnd("parse_mappings")},start_sort_by_generated_location(){console.time("sort_by_generated_location")},end_sort_by_generated_location(){console.timeEnd("sort_by_generated_location")},start_sort_by_original_location(){console.time("sort_by_original_location")},end_sort_by_original_location(){console.timeEnd("sort_by_original_location")}}})).then(t=>({exports:t.instance.exports,withMappingCallback:(t,n)=>{e.push(t);try{n()}finally{e.pop()}}})).then(null,e=>{throw i=null,e})}},function(e,t,n){const r=n(1).SourceMapGenerator,i=n(0),o=/(\r?\n)/,a=10,s="$$$isSourceNode$$$";class l{constructor(e,t,n,r,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==i?null:i,this[s]=!0,null!=r&&this.add(r)}static fromStringWithSourceMap(e,t,n){const r=new l,a=e.split(o);let s=0;const u=function(){return e()+(e()||"");function e(){return s<a.length?a[s++]:void 0}};let c,d=1,f=0,p=null;return t.eachMapping(function(e){if(null!==p){if(!(d<e.generatedLine)){const t=(c=a[s]||"").substr(0,e.generatedColumn-f);return a[s]=c.substr(e.generatedColumn-f),f=e.generatedColumn,h(p,t),void(p=e)}h(p,u()),d++,f=0}for(;d<e.generatedLine;)r.add(u()),d++;f<e.generatedColumn&&(c=a[s]||"",r.add(c.substr(0,e.generatedColumn)),a[s]=c.substr(e.generatedColumn),f=e.generatedColumn),p=e},this),s<a.length&&(p&&h(p,u()),r.add(a.splice(s).join(""))),t.sources.forEach(function(e){const o=t.sourceContentFor(e);null!=o&&(null!=n&&(e=i.join(n,e)),r.setSourceContent(e,o))}),r;function h(e,t){if(null===e||void 0===e.source)r.add(t);else{const o=n?i.join(n,e.source):e.source;r.add(new l(e.originalLine,e.originalColumn,o,t,e.name))}}}add(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this}prepend(e){if(Array.isArray(e))for(let t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this}walk(e){let t;for(let n=0,r=this.children.length;n<r;n++)(t=this.children[n])[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})}join(e){let t,n;const r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this}replaceRight(e,t){const n=this.children[this.children.length-1];return n[s]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this}setSourceContent(e,t){this.sourceContents[i.toSetString(e)]=t}walkSourceContents(e){for(let t=0,n=this.children.length;t<n;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);const t=Object.keys(this.sourceContents);for(let n=0,r=t.length;n<r;n++)e(i.fromSetString(t[n]),this.sourceContents[t[n]])}toString(){let e="";return this.walk(function(t){e+=t}),e}toStringWithSourceMap(e){const t={code:"",line:1,column:0},n=new r(e);let i=!1,o=null,s=null,l=null,u=null;return this.walk(function(e,r){t.code+=e,null!==r.source&&null!==r.line&&null!==r.column?(o===r.source&&s===r.line&&l===r.column&&u===r.name||n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name}),o=r.source,s=r.line,l=r.column,u=r.name,i=!0):i&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,i=!1);for(let s=0,l=e.length;s<l;s++)e.charCodeAt(s)===a?(t.line++,t.column=0,s+1===l?(o=null,i=!1):i&&n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name})):t.column++}),this.walkSourceContents(function(e,t){n.setSourceContent(e,t)}),{code:t.code,map:n}}}t.SourceNode=l}])},"object"==typeof t&&"object"==typeof e?e.exports=i({},{}):"function"==typeof define&&n(10)?define(["fs","path"],i):"object"==typeof t?t.sourceMap=i({},{}):r.sourceMap=i(r.fs,r.path),e.exports}({exports:{}},{});async function ne(e,t,n){if(!n)return{line:0,column:0};X.initialize({"lib/mappings.wasm":"source-map-0.7.3-mappings.wasm"});let r=JSON.parse(n),i=await new X(r);if(0==t){let t=i.originalPositionFor(e);return i.destroy(),t}let o=new ee({file:"script.js"});i.eachMapping(e=>{o.addMapping({original:{line:e.originalLine,column:e.originalColumn},generated:{line:e.generatedLine+t,column:e.generatedColumn},source:e.source,name:e.name})});let a,s=await X.fromSourceMap(o);if(e.column>0)a=s.originalPositionFor(e);else{let t=Object.assign({},e);for(let e=0;e<50&&(t.column+=e,null===(a=s.originalPositionFor(t)).line);e++);null===a.line&&(a.line=0,a.column=0)}return i.destroy(),s.destroy(),a}let re=new class{send(e){}};function ie(e,t){e=e.replace(/\n\/\/#\s*sourceMappingURL=.+/,"");let n=(ae++).toString(36),r=new Promise(async(r,i)=>{oe.set(n,{resolve:r,reject:i,sourceMapJSON:t}),b(`send eval request ${n}\n${e}`),re.send({type:"eval",id:n,js:e})});return r.id=n,r.cancel=e=>(function(e,t){let n=se(e);if(!n)return!1;re.send({type:"eval-cancel",id:e}),t?n.reject(t):n.resolve(void 0);return!0})(n,e),r}var oe=new Map,ae=(new Date).getTime();function se(e){let t=oe.get(e);return t&&oe.delete(e),t}function le(e){switch(e.type){case"eval-response":!async function(e){let t=se(e.id);if(!t)return;if(e.error){if(b("received error response:",e),t.sourceMapJSON&&e.srcPos)for(let n of e.srcPos){let r=await ne(n,e.srcLineOffset,t.sourceMapJSON);if(r.line>0){_e.decorateError(r,e.error);break}}!function(e){let t=document.querySelector("#message");t.querySelector(".close-button").onclick=Q,t.querySelector(".message > p").innerText=e,document.body.classList.add("showMessage"),_e.editor.layout()}(e.error),t.reject(new Error(e.error))}else t.resolve(e.result)}(e);break;case"print":!async function(e){let t=oe.get(e.reqId);if(!t)return;let n=e.srcPos;if(0==n.line||!t.sourceMapJSON)return void b("handlePrintMsg: ignoring print with zero srcPos",e);if(0==(n=await ne(n,e.srcLineOffset,t.sourceMapJSON)).line)return;let r="";if(e.args){let t=!1;for(let n of e.args)if(n&&"object"==typeof n&&"__scripter_image_marker__"in n){let e="";if("string"==typeof n.source)e=n.source;else{let t=n.source instanceof Uint8Array?n.source:new Uint8Array(n.source);e="data:"+n.type+";base64,"+Z(t)}r+=`<img src="${e}" referrerpolicy="no-referrer"`;let i=Math.max(0,n.width||0),o=Math.max(0,n.height||0);if(i<=0&&o<=0){let e=window.devicePixelRatio||1;n.pixelWidth<=0&&n.pixelHeight<=0?o=32:(i<=0&&n.pixelWidth&&(i=n.pixelWidth/e),o<=0&&n.pixelHeight&&(o=n.pixelHeight/e))}i&&(r+=` width="${i}"`),o&&(r+=` height="${o}"`),r+=">",t=!1}else t&&(r+=" "),r+=ce(V(n)),t=!0}else r=ce(e.message);_e.viewZones.set(new R(n,r))}(e);break;default:console.warn(`eval received unexpected message ${e.type} from runtime`)}}let ue=null;function ce(e){return ue||(ue=document.createElement("div")),ue.innerText=e,ue.innerHTML}function de(e,t){e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),t()},{passive:!1,capture:!0})}var fe=new class{constructor(){this.stopCallbacks=new Set,this.isRunning=!1}addStopCallback(e){this.stopCallbacks.add(e),this.isRunning||(this.isRunning=!0,this.updateUI())}removeStopCallback(e){this.stopCallbacks.delete(e),0==this.stopCallbacks.size&&(this.isRunning=!1,this.updateUI())}updateUI(){this.runButton.classList.toggle("running",this.isRunning),this.runButton.title=this.isRunning?v?"Stop  ()":"Stop  (Ctrl+Shift+Return)":v?"Run  ()":"Run  (Ctrl+Return)"}init(){this.el=document.getElementById("toolbar"),this.menuButton=this.el.querySelector(".button.menu");let e=()=>{let e=Pe.isVisible?"Hide":"Show",t=v?"M":"Ctrl+M";this.menuButton.title=`${e} menu  (${t})`};e(),this.menuButton.addEventListener("click",t=>{Pe.toggle(),e(),t.preventDefault(),t.stopPropagation()},{passive:!1,capture:!0}),Pe.on("visibility",e=>{this.menuButton.classList.toggle("on",e)}),this.el.querySelector(".button.new").addEventListener("click",e=>{_e.newScript({name:Me.nextNewScriptName()}),e.preventDefault(),e.stopPropagation()},{passive:!1,capture:!0}),this.clearButton=this.el.querySelector(".button.clear"),this.clearButton.title="Clear messages  "+(v?"(K)":"(Ctrl+L)"),de(this.clearButton,()=>{Q(),_e.clearMessages()}),_e.viewZones.on("update",()=>{this.clearButton.classList.toggle("unavailable",0==_e.viewZones.count)}),this.runButton=this.el.querySelector(".button.run"),de(this.runButton,()=>{if(this.isRunning)for(let e of this.stopCallbacks)try{e()}catch(e){console.error(`[toolbar] error in stopCallback: ${e.stack||e}`)}else _e.runCurrentScript()});let t=this.el.querySelector(".title");t.onclick=()=>{Pe.toggle(!0)};Me.on("change",()=>{t.innerText=_e.currentScript.name}),this.updateUI()}};const pe=Symbol("Locked"),he=Symbol("OnUnlock"),me=11,ge="iaw-quattro-var, iaw-quattro, 'Roboto Mono', 'IBM Plex Mono', monospace",ve="iaw-mono-var, iaw-mono, monospace",ye={scrollBeyondLastLine:!1,lineDecorationsWidth:16,lineNumbers:"off",lineNumbersMinChars:3,wordWrap:"off",wrappingIndent:"same",scrollBeyondLastColumn:2,showUnused:!0,folding:!1,cursorBlinking:"smooth",renderLineHighlight:"none",renderWhitespace:"none",renderControlCharacters:!1,fontSize:me,fontFamily:ge,disableMonospaceOptimizations:!0,extraEditorClassName:"scripter-light",links:!1,codeLens:!1,lightbulb:{enabled:!1},quickSuggestions:!0,quickSuggestionsDelay:800,acceptSuggestionOnEnter:"smart",suggestSelection:"recentlyUsedByPrefix",hover:{enabled:!0},suggest:{localityBonus:!0,shareSuggestSelections:!0,maxVisibleSuggestions:9},scrollbar:{useShadows:!1,verticalScrollbarSize:9,verticalSliderSize:5,horizontalScrollbarSize:9,horizontalSliderSize:5},minimap:{enabled:!1}},be={allowNonTsExtensions:!0,target:6,allowUnreachableCode:!0,allowUnusedLabels:!0,removeComments:!0,module:1,sourceMap:!0,strictNullChecks:!0};var we;!function(e){e[e.NONE=0]="NONE",e[e.ADD_LINE=1]="ADD_LINE",e[e.REMOVE_LINE=2]="REMOVE_LINE",e[e.LAST_LINE_INTACT=4]="LAST_LINE_INTACT"}(we||(we={}));const _e=new class extends i{constructor(){super(...arguments),this.defaultFontSize=me,this.options=Object.assign({},ye),this.viewZones=new z(this),this._currentScriptId=-1,this._nextModelId=0,this._saveViewStateTimer=null,this.editorDecorationIds=[],this.decorationCallbacks=new Map,this.changeObservationEnabled=!1,this.changeObservationActive=!1,this.changeObservationLastLineCount=0,this.isInitialized=!1,this.onCurrentScriptSave=e=>{this._currentScriptId=this._currentScript.id,_.lastOpenScript=this._currentScript.id},this._isSwitchingModel=!1,this.runDebounceTimer=null,this.currentEvalPromise=null,this._changeObservationRefCount=0,this._semdiag=new Map,this._measureEl=null}get currentModel(){return this._currentModel}get currentScript(){return this._currentScript}get currentScriptId(){return this._currentScript?this._currentScript.id:-1}setCurrentScript(e){if(this._currentScript===e)return this._currentModel;if(this._currentScript&&this._currentScript.removeListener("save",this.onCurrentScriptSave),this._currentScript=e,this._currentScriptId=e.id,this._currentScript.on("save",this.onCurrentScriptSave),this._currentModel){let e=this._currentModel;this.invalidateDiagnostics(e),setTimeout(()=>(function(e){if(he in e){let t=e[he];e[he]=()=>{t(),e.dispose()}}else e.dispose()})(e),0)}let t=this._nextModelId++;return this._currentModel=L.editor.createModel(e.body,"typescript",L.Uri.from({scheme:"scripter",path:`${t}.ts`})),this._currentModel.updateOptions({tabSize:2,indentSize:2,insertSpaces:!0,trimAutoWhitespace:!0}),this._currentModel}switchToScript(e){this.stopCurrentScript();let t=this.setCurrentScript(e);if(this._isSwitchingModel)throw new Error("[scripter] internal error (switchToScript while _isSwitchingModel)");this._isSwitchingModel=!0,this.editor.getModel().setValue(" "),Se(t),requestAnimationFrame(()=>{this._isSwitchingModel=!1,this.clearAllMetaInfo(),this.editor.setModel(t),this.updateOptions({readOnly:e.readOnly}),this.restoreViewState(),this.editor.focus(),_.lastOpenScript=this._currentScript.id})}newScript(e,t=""){let n=M.create(e,t);return this.switchToScript(n),n}async openScript(e){if(this._currentScript.id==e||this._currentScriptId==e)return void this.editor.focus();b(`open script ${e}`),this._currentScriptId=e,this.stopCurrentScript();let t=await Me.getScript(e);t?this._currentScriptId==e&&this.switchToScript(t):console.error(`openScript(${e}) failed (not found)`)}restoreViewState(){let e=this._currentScript.editorViewState;e&&this.editor.restoreViewState(e)}saveViewState(){clearTimeout(this._saveViewStateTimer),this._saveViewStateTimer=null,this._currentScript.editorViewState=this.editor.saveViewState()}setNeedsSaveViewState(){null===this._saveViewStateTimer&&(this._saveViewStateTimer=setTimeout(()=>this.saveViewState(),200))}updateOptionsFromConfig(){let e={lineNumbers:_.showLineNumbers?"on":"off",wordWrap:_.wordWrap?"on":"off",quickSuggestions:_.quickSuggestions,quickSuggestionsDelay:_.quickSuggestionsDelay,folding:_.codeFolding,renderWhitespace:_.showWhitespace?"all":"none",renderControlCharacters:_.showWhitespace,renderIndentGuides:_.indentGuides,fontSize:me*_.uiScale};e.minimap=Object.assign({},this.options.minimap,{enabled:_.minimap}),e.hover=Object.assign({},this.options.hover,{enabled:_.hoverCards}),_.monospaceFont?(e.fontFamily=ve,e.disableMonospaceOptimizations=!1):(e.fontFamily=ge,e.disableMonospaceOptimizations=!0),this.updateOptions(e)}updateOptions(e){let t=!1;for(let n in e){let r=e[n];"extraEditorClassName"==n&&(r=`scripter-light ${r}`.trim()),this.options[n]!==r&&(this.options[n]=r,t=!0)}return t&&this.editor&&this.editor.updateOptions(this.options),t}async runCurrentScript(){if(null!==this.runDebounceTimer)return;if(this.runDebounceTimer=setTimeout(()=>{this.runDebounceTimer=null},100),this._currentScript.readOnly)return;this.stopCurrentScript(),Q(),this.clearAllMetaInfo();let e=()=>{this.stopCurrentScript()};fe.addStopCallback(e);let t=await this.compileCurrentScript();if(t.code.length>0){try{this.currentEvalPromise=ie(t.code,t.sourceMap),await this.currentEvalPromise}catch(e){}this.currentEvalPromise=null,this.viewZones.clearAllUIInputs()}fe.removeStopCallback(e),clearTimeout(this.runDebounceTimer),this.runDebounceTimer=null,this.editor.focus()}isScriptRunning(){return!!this.currentEvalPromise}stopCurrentScript(){b("stopCurrentScript"),this.currentEvalPromise&&this.currentEvalPromise.cancel(),this.viewZones.clearAllUIInputs()}async compileCurrentScript(){let e,t=this.currentModel;try{ke(t);let n=await L.languages.typescript.getTypeScriptWorker(),r=await n(t.uri);e=await r.getEmitOutput(t.uri.toString())}finally{Ee(t)}let n={code:"",sourceMap:""};if(e.outputFiles&&e.outputFiles.length)for(let t of e.outputFiles)/\.map$/.test(t.name)?n.sourceMap=t.text:n.code=t.text;return n}clearAllMetaInfo(){this.clearAllDecorations(),this.viewZones.clearAll(),this.clearHoverCards()}clearMessages(){this.clearAllDecorations(),this.viewZones.clearAll(),this.editor.focus()}clearHoverCards(){if(this.options.hover.enabled){let e=Object.assign({},this.options,{hover:{enabled:!1}});this.editor.updateOptions(e),requestAnimationFrame(()=>this.editor.updateOptions(this.options))}}clearAllDecorations(){this.decorationCallbacks.clear(),this.editor.deltaDecorations(this.editorDecorationIds,[]),this.editorDecorationIds=[]}removeDecorations(e){let t=new Set(e);this.editorDecorationIds=this.editorDecorationIds.filter(e=>!t.has(e));for(let t of e)this.decorationCallbacks.delete(t);this.editor.deltaDecorations(e,[])}addDecorations(e,t){let n=this.editor.deltaDecorations([],e);if(this.editorDecorationIds.length>0?this.editorDecorationIds=this.editorDecorationIds.concat(n):(this.editorDecorationIds=n,this.startObservingChanges()),t)for(let e of n)this.decorationCallbacks.set(e,t)}decorateError(e,t){setTimeout(()=>{this.editor.revealLineInCenterIfOutsideViewport(e.line,L.editor.ScrollType.Smooth)},1),this.addDecorations([{range:new L.Range(e.line,e.column+1,e.line,e.column+999),options:{className:"runtimeErrorDecoration",stickiness:L.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,hoverMessage:{value:"**Runtime error:** `"+t+"`",isTrusted:!0},overviewRuler:{position:L.editor.OverviewRulerLane.Full,color:"rgba(255,200,0,0.5)"}}}],e=>{this.removeDecorations([e.id]),Q()})}stopObservingChanges(){if(0==this._changeObservationRefCount)throw new Error("unbalanced call to stopObservingChanges");this._changeObservationRefCount--,0==this._changeObservationRefCount&&(this.changeObservationActive=!1,this.changeObservationLastLineCount=0)}startObservingChanges(){this._changeObservationRefCount++,this._changeObservationRefCount>1||(this.changeObservationActive||(this.changeObservationActive=!0,this.changeObservationLastLineCount=this.currentModel.getLineCount()),this.changeObservationEnabled||(this.changeObservationEnabled=!0,this.editor.onDidChangeModelContent(e=>{if(e.isFlush)return void this.clearAllMetaInfo();if(!this.changeObservationActive)return;let t=this.currentModel.getLineCount(),n=t-this.changeObservationLastLineCount;this.changeObservationLastLineCount=t;let r=1/0,i=0,o=0,a=999999;for(let t of e.changes)t.range.startLineNumber<r&&(r=t.range.startLineNumber,i=t.range.startColumn),t.range.endLineNumber>o&&(o=t.range.endLineNumber,a=t.range.endColumn);let s=we.NONE;if(1==e.changes.length){let t=e.changes[0];t.range;if(""==t.text)1==a&&(s|=we.REMOVE_LINE,s|=we.LAST_LINE_INTACT,o==r&&console.warn("[scripter] unexpected condition: endLine == startLine"));else{let e=t.text.charCodeAt(t.text.length-1);10!=e&&13!=e||(s|=we.ADD_LINE,1==a&&(s|=we.LAST_LINE_INTACT))}}this.viewZones.updateAfterEdit(r,i,o,a,n,s);for(let t of e.changes){let e={startLineNumber:t.range.startLineNumber,startColumn:0,endLineNumber:t.range.endLineNumber,endColumn:99999},n=this.currentModel.getDecorationsInRange(e);for(let e of n){let t=this.decorationCallbacks.get(e.id);t&&t(e)}}})))}async getSemanticDiagnostics(e){let t=this._semdiag.get(e);if(!t)try{ke(e);let n=await L.languages.typescript.getTypeScriptWorker(),r=await n(e.uri);t=await r.getSemanticDiagnostics(e.uri.toString()),this._semdiag.set(e,t)}finally{Ee(e)}return t}async invalidateDiagnostics(e){this._semdiag.delete(e)}measureHTMLElement(e){let t=this._measureEl;t||((t=document.createElement("div")).style.position="absolute",t.style.visibility="hidden",t.style.pointerEvents="none",document.getElementById("editor").appendChild(t),this._measureEl=t),t.children.length>0&&(t.innerText="");let n=e.style.position;e.style.position="absolute",t.appendChild(e);let r={width:e.clientWidth,height:e.clientHeight};return t.removeChild(e),e.style.position=n,r}async init(){this.initTypescript();let e=await async function(){let e=null;if(0!=_.lastOpenScript)try{e=await Me.getScript(_.lastOpenScript)}catch(e){console.error("failed to reopen last open script:",e.stack)}if(!e&&Me.scripts.length){let t=0;for(let e of Me.scripts)if(0!=e.id){t=e.id;break}0!=t&&(e=await Me.getScript(t))}e||(e=Me.defaultSampleScript);return e}(),t=this.setCurrentScript(e);this.updateOptionsFromConfig(),this.editor=L.editor.create(document.getElementById("editor"),Object.assign({model:t,theme:"scripter-light"},this.options,{readOnly:e.readOnly})),this.initEditorActions(),this.restoreViewState(),Se(t),this.editor.layout(),setTimeout(()=>this.editor.layout(),100),setTimeout(()=>this.editor.layout(),500),this.editor.focus(),this.initEditorEventHandlers(),_.on("change",()=>{this.updateOptionsFromConfig()}),Pe.menuUIMountPromise.then(()=>{Pe.scrollToActiveItem()}),this.isInitialized=!0,this.triggerEvent("init"),this.triggerEvent("modelchange")}initEditorActions(){this.editor.addAction({id:"scripter-run-script",label:"Run Script",keybindings:[L.KeyMod.CtrlCmd|L.KeyCode.Enter],contextMenuGroupId:"navigation",contextMenuOrder:0,run:e=>(this.runCurrentScript(),null)})}initEditorEventHandlers(){const e=this.editor;let t=!1,n=!1;e.onDidChangeModelContent(e=>{n||this._isSwitchingModel||this._currentScript.updateBody(this._currentModel.getValue(),this._currentModel.getAlternativeVersionId())}),e.onDidChangeCursorPosition(e=>{t||n||this.setNeedsSaveViewState()}),e.onDidChangeCursorSelection(e=>{t||n||this.setNeedsSaveViewState()}),e.onDidChangeModel(e=>{e.newModelUrl&&this.triggerEvent("modelchange")}),g.on("remotechange",async r=>{if("update"==r.type)if("scriptViewState"==r.store&&r.key==this._currentScript.id){let n=await this._currentScript.reloadEditorViewState();t=!0,e.restoreViewState(n),t=!1}else"scriptBody"==r.store&&r.key==this._currentScript.id?(await this._currentScript.load(),n=!0,t=!0,this._currentModel.setValue(this._currentScript.body),e.restoreViewState(this._currentScript.editorViewState),n=!1,t=!1):"scripts"==r.store&&b('TODO: update scriptData in db.on("remotechange"')}),window.addEventListener("resize",()=>{this.editor.layout()})}async initTypescript(){let e=L.languages.typescript.typescriptDefaults;e.setMaximumWorkerIdleTime(864e5),e.setCompilerOptions(be),e.addExtraLib(await O.a["figma.d.ts"],"scripter:figma.d.ts"),e.addExtraLib(await O.a["scripter-env.d.ts"],"scripter:scripter-env.d.ts")}};function Se(e){let t=[],n=!1;e.onWillDispose(()=>{e.onDidChangeDecorations(()=>{}),e.onWillDispose(()=>{}),_e.invalidateDiagnostics(e)}),e.onDidChangeDecorations(async r=>{if(!n){n=!0;try{let r=L.editor.getModelMarkers({owner:"typescript"});if(0==r.length||r===t)return;if(r.length==t.length){let e=!1;for(let n=0;n<r.length;n++)if(r[n]!==t[n]){e=!0;break}if(!e)return}t=r;const i=/['"]?return['"]? statement can only be used within a function body/i;let o=r.length,a=null,s=0;for(let t=0;t<r.length;s++){let n=r[t];if(i.test(n.message))r.splice(t,1);else{if(-1!=n.message.indexOf("'await'")){let i;null===a&&(a=await _e.getSemanticDiagnostics(e));for(let e of a)if(e.messageText==n.message){i=e;break}if(i&&1308==i.code&&!i.relatedInformation){r.splice(t,1);continue}}else if(-1!=n.message.indexOf("'for-await-of'")){r.splice(t,1);continue}t++}}o!=r.length&&L.editor.setModelMarkers(e,"typescript",r)}finally{n=!1}}})}function ke(e){e[pe]=!0}function Ee(e){if(delete e[pe],he in e){let t=e[he];delete e[he],t()}}function Ce(e,t,n){return{id:-e,name:t,code:n.replace(/^\s*\n|\n\s*$/,"")}}function xe(e,t){return v?e:t}var Te=(e=>{let t={};for(let n of e){let[e,r]=n.name.split("/",2);r?n.name=r:(r=e,e="");let i=t[e];i?i.push(n):t[e]=[n]}return t})([Ce(100,"Introduction",`\n/*\nHello hi and welcome to Scripter.\n\nScripts are written in relaxed TypeScript.\nThis grey text here is a comment.\n\nTry running this script using the  button in the toolbar, or by pressing ${xe("","Ctrl+Return")}\n*/\nprint(\`Today is \${Date()}\`)\nprint(\`You are using Figma API v\${apiVersion}\`)\n/*\n\nThere are more examples in the menu .\nOpen the menu using the  button in the bottom left corner.\n\nThis editor provides automatic completions of all available functionality, including the Figma API.\nType "figma." to start exploring the API.\n\nEditor basics\n Scripts are saved automatically, locally\n Manage your scripts in the menu.\n Double-click a script in the menu to rename,\n  pressing RETURN to commit a name change or\n  ESC to cancel.\n Rename a script "" (nothing) to delete it.\n\nKeyboard shortcuts\n ${xe("","Ctrl+Return")} runs the current script\n ${xe("","Ctrl+Shift+Return")} stop a running script\n ${xe("P","Ctrl+Alt+P")} closes Scripter\n ${xe("M","Ctrl+M")} toggles the menu\n ${xe("+","Ctrl+Plus")} increases text size\n ${xe("","Ctrl+Minus")} decreases text size\n ${xe("0","Ctrl+0")} resets text size\n ${xe("F1","F1")} opens the VS Code commander\n\n*/\n`),Ce(200,"Figma/Create rectangles","\n// This script creates some rectangles on the current page\nconst numberOfRectangles = 5\n\nlet nodes: SceneNode[] = []\nfor (let i = 0; i < numberOfRectangles; i++) {\n  let r = Rectangle({ x: i * 150, fills: [ ORANGE.paint ] })\n  nodes.push(r)\n}\n\n// select our new rectangles\nsetSelection(nodes)\n\n// pan & zoom the viewport to show the rectangles\nviewport.scrollAndZoomIntoView(nodes)\n"),Ce(201,"Figma/Trim whitespace","\n// Select some text and run this script to trim away linebreaks and space.\nfor (let n of selection()) {\n  if (isText(n)) {\n    n.characters = n.characters.trim()\n  }\n}\n"),Ce(202,"Figma/Trim line indentation",'\n// Select some text and run this script to trim away whitespace from the\n// beginning of lines\nfor (let n of selection()) {\n  if (isText(n)) {\n    n.characters = n.characters.replace(/\\n\\s+/g, "\\n")\n  }\n}\n'),Ce(203,"Figma/Select all images","\nlet images = await find(n => isImage(n) && n)\nsetSelection(images)\n\n// More node type filters:\n//   isDocument, isPage\n//   isFrame, isGroup, isSlice\n//   isRect, isRectangle\n//   isLine\n//   isEllipse, isPolygon, isStar\n//   isVector\n//   isText\n//   isBooleanOperation\n//   isComponent, isInstance\n//   isSceneNode, isContainerNode, isShape\n//\n// These can also be used as type guards:\n//\n// let n = selection(0)\n// // here, n's type is the generic BaseNode\n// if (isRect(n)) {\n//   // but here n's type is RectangleNode\n// }\n"),Ce(204,"Figma/Set images to fit",'\n// Loop over images in the selection\nfor (let shape of await find(selection(), n => isImage(n) && n)) {\n  // Update image paints to use "FIT" scale mode\n  shape.fills = shape.fills.map(p =>\n    isImage(p) ? {...p, scaleMode: "FIT"} : p)\n}\n'),Ce(300,"Basics/Working with paths",'\n// The Path library provides functions for working\n// with pathnames.\nlet path = "/foo/bar/baz.png"\nprint(Path.ext(path))\nprint(Path.dir(path))\nprint(Path.base(path))\nprint(Path.clean("a/c//b/../k"))\nprint(Path.isAbs(path))\nprint(Path.join("foo", "//bar/", "baz", "internet"))\nprint(Path.split(path))\n'),Ce(301,"Basics/Working with files",'\n// Scripter doesn\'t support interfacing with your file system,\n// but it does provide functions for working with file data.\n\n// fileType can be used to investigate what type of file a\n// filename represents:\nprint(fileType("foo/bar.zip"))\n\n// fileType can even guess the file type based on the first\n// few bytes of some file data:\nprint(fileType([0xFF, 0xD8, 0xFF])) // JPEG image data\n'),Ce(302,"Basics/Showing images",'\n// The Img function and class can be used to describe images\n// and load image data for a few common image types.\n// Passing an Img to print vizualizes the image.\n\n// Img can take a URL which is then loaded by the web browser\nprint(Img("https://scripter.rsms.me/icon.png"))\n\n// We can specify the size if we want\nprint(Img("https://scripter.rsms.me/icon.png", {width:128, height:16}))\n\n// Img.load() allows us to load the image data\nlet icon = await Img("https://scripter.rsms.me/icon.png").load()\nprint(icon.data)\n// A loaded image may also have information that was read from\n// the image data itself, like mime type and bitmap dimensions:\nprint(icon, icon.type, icon.meta)\n\n// fetchImg is a shorthand function for loading an Img\nlet loadedIcon = await fetchImg("https://scripter.rsms.me/icon.png")\nprint(loadedIcon, loadedIcon.meta)\n\n// Img also accepts image data as its input,\n// in common image formats like png, gif and jpeg.\nlet gifData = Bytes(`\n  47 49 46 38 39 61\n  0A 00 0A 00 91 00 00\n  FF FF FF FF 00 00 00 00 FF 00 00 00\n  21 F9 04 00 00 00 00 00\n  2C 00 00 00 00 0A 00 0A 00 00\n  02 16 8C 2D 99 87 2A 1C DC 33 A0 02 75\n  EC 95 FA A8 DE 60 8C 04 91 4C 01 00\n  3B\n`)\nprint(Img(gifData, 32))\n\n// Img also supports JPEG in addition to PNG and GIF\nlet im1 = Img("https://scripter.rsms.me/sample/colors.jpg")\nawait im1.load()\nprint(im1, [im1])\n'),Ce(303,"Basics/Timers",'\n// Timers allows waiting for some time to pass\n// or to execute some code after a delay.\nawait timer(200)\nprint("200ms passed")\n\n// Timers are promises with a cancel() function\nlet t = timer(200)\nprint("timer started")\n// cancel the timer before it expires.\n// Comment this line out to see the effect.\nt.cancel()\n// wait for timer\ntry {\n  await t\n  print("Rrrriiiiing!")\n} catch (_) {\n  print("timer canceled")\n}\n\n// Timers accept an optional handler function:\ntimer(200, canceled => {\n  print("timer expired.", {canceled})\n})\n// .cancel() // uncomment to try canceling\n'),Ce(304,"Basics/Ranges",'\n// The range() function creates a sequence of numbers in the\n// range [startend), incrementing in steps. Steps defaults to 1.\nprint(range(1, 10))\nprint(range(1, 10, 3))\n\n// If we want a pre-allocated array, we can call the array() function\nprint(range(10).array())\n// or use Array.from, since ranges are iterables\nprint(Array.from(range(1, 10)))\n\n// range is often useful for graphics. We can represent columns or\n// rows similar to the Layout Grids feature in Figma:\nlet columns = range(80, 512, 64)\nprint(`64dp wide columns with 80dp offset: ${columns}`)\n\n// range() returns a LazySeq, which has several functions commonly\n// found for Array, like for instance map():\nprint(range(-4, 4).map(v => `0x${(v*10).toString(16)}`))\n\n// Since the sequence created by range() is lazy, values are allocated\n// only as needed, making range() feasible to represent very large\n// imaginary ranges.\n// For instance, the following only uses very little memory:\nprint(range(0, 90000000, 2).at(1234567))\n\n// We can even use Inifite to descrive never-ending sequences.\nprint(range(0, Infinity, 3).at(1234567918383))\n// Be careful when iterating over an infinite sequence since it\'s easy\n// to lock Figma if you forget to explicitly stop iteration.\n// Scripter will do its best to stop you from doing this: passing an\n// infinite sequence to print() or calling toString() on the sequence\n// will only show the first 50 entries followed by "... " to indicate\n// that it goes on forever:\nprint(range(0, Infinity, 3))\n\n// Calling functions which only makes sense on finite sequenceslike\n// map(), array() or join()on an infinite sequence throws an error:\ntry {\n  range(0, Infinity).array()\n} catch (e) {\n  print(""+e)\n}\n'),Ce(400,"UI input/Dialogs & Messaging",'\nconst { notify } = libui\n\n// alert(message) shows a message dialog.\n// Blocks the UI. Useful for important messages.\nalert("Something very important")\n\n// confirm(question) asks the user a yes or no\n// question via a message dialog. Blocks the UI.\n// Returns true if the user answered "yes".\nprint(await confirm("Would you like a kitten?"))\n\n// notify(message, options?) shows a message in\n// the bottom of the user\'s screen.\n// Does not block the UI.\nnotify("Notification", { timeout: 2000 })\n'),Ce(401,"UI input/Range sliders","\n// Example of using interactive range slider to move a rectangle\nconst { rangeInput } = libui\n\n// Save viewport and create a red rectangle\nlet origViewport = { zoom: viewport.zoom, center: viewport.center }\nlet r = Rectangle({ fills: [RED.paint], cornerRadius: 8, opacity: 0.5 })\ntry {\n  // Set viewport to focus on the rectangle\n  viewport.zoom = 1\n  viewport.center = {y: r.y, x: r.x}\n\n  // Show a slider and move rectangle as it changes\n  let x = r.x\n  for await (let v of rangeInput({min:-200, max:200})) {\n    r.x = x + v\n    viewport.center = {y: viewport.center.y, x: -v}\n  }\n} finally {\n  // When the script is stopped, remove the rectangle\n  r.remove()\n  // Restore viewport\n  viewport.center = origViewport.center\n  viewport.zoom = origViewport.zoom\n}\n"),Ce(402,"UI input/Async generators",'\n// Async generator functions allows creation of iterators which\n// may take some amount of time to produce their results.\n//\n// In this example we use a range input control to generate lists\n// of strings upon user moving the slider\nasync function* meowGenerator(max :number) {\n  for await (let count of libui.rangeInput({max, value:1, step:1})) {\n    yield range(0, count).map(() => "Meow")\n  }\n}\n\n// We can now use our meow generator like this:\nfor await (const meows of meowGenerator(10)) {\n  print(meows)\n}\n'),Ce(500,"HTTP/Fetch",'\n// fetch can be used to fetch resources across the interwebs.\n// It\'s the standard fetch API you might already be used to.\nlet r = await fetch("https://jsonplaceholder.typicode.com/users/1")\nprint(await r.json())\n\n// Scripter provides a few shorthand functions for common tasks:\nprint(await fetchJson("https://jsonplaceholder.typicode.com/users/1"))\nprint(await fetchText("https://jsonplaceholder.typicode.com/users/1"))\nprint(await fetchImg("https://scripter.rsms.me/icon.png"))\nprint(await fetchData("https://scripter.rsms.me/icon.png"))\n'),Ce(501,"HTTP/Figma API",'\n// This script demonstrates accessing the Figma HTTP API\n//\n// First, generate an access token for yourself using the\n// "+ Get personal access token" function on this page:\n// https://www.figma.com/developers/api#access-tokens\nconst figmaHttpApiToken = "your_access_token_here"\n\n// We can now fetch JSON representations of files via the HTTP API\nlet file = await fetchFigmaFile("jahkK3lhzuegZBQXz5BbL7")\nprint(Img(file.thumbnailUrl), file)\n\n// Simple helper function for GETing files from Figma servers\nasync function fetchFigmaFile(fileKey :string) :Promise<any> {\n  let json = await fetchJson(\n    "https://api.figma.com/v1/files/" + encodeURIComponent(fileKey),\n    { headers: { "X-FIGMA-TOKEN": figmaHttpApiToken } }\n  )\n  if (json.status && json.err) {\n    throw new Error(`API error: ${json.err}`)\n  }\n  return json\n}\n'),Ce(600,"Advanced/Timers",'\n// Advanced use of multiple timers to implement timeout\n\n// Try changing this from 200 to 300:\nawait doSlowThing(200)\nasync function doSlowThing(timeout :number) {\n  let result = await withTimeout(getFromSlowInternet(), timeout)\n  if (result === "TIMEOUT") {\n    print("network request timed out :-(")\n  } else {\n    print("network request finished on time :-)", result)\n  }\n}\n\n// Function that simulates a slow, cancellable network fetch\nfunction getFromSlowInternet() :CPromise<Object> {\n  // fake network request result\n  return timer(250).catch(_=>{}).then(() => ({message: "Hello"}))\n}\n\n// Use timer to implement timeout\nfunction withTimeout<\n    T extends CPromise<R>,\n    R = T extends Promise<infer U> ? U : T,\n  >(p :T, timeout :number) :Promise<R|"TIMEOUT"> {\n  let t = timer(timeout) // Start our timeout timer\n  let to = false // set to true when timeout timer expired\n  return new Promise<R|"TIMEOUT">((resolve, reject) => {\n    p.then(r => {\n      resolve(r)\n      t.cancel() // cancel the timeout timer\n    })\n    t.then(() => {\n      resolve("TIMEOUT") // signal timeout\n      p.cancel() // cancel the user promise\n    }).catch(()=>{})\n  })\n}\n\n// Cancellable promise type\ninterface CPromise<R> extends Promise<R> { cancel():void }\n\n'),Ce(601,"Advanced/Tick tock, tick tock, tick tock",'\n// Demonstrates continously-running scripts.\n// This loops forever until you restart or\n// stop the script.\n\nfor (let i = 1; true; i++) {\n  print(i % 2 ? "Tick" : "Tock")\n  await timer(1000)  // wait for 1 second\n}\n'),Ce(602,"Advanced/Animation",'\n// Rudimentary animation with animate()\n// Moves a rectangle around in a "figure eight" pattern.\n//\n// Create rectangle\nlet r = Rectangle({ fills:[BLACK.paint] })\ntry {\n  // setup viewport\n  viewport.scrollAndZoomIntoView([r])\n  viewport.zoom = 1\n\n  // extent of motion in dp\n  const size = 500 - r.width\n\n  // animation loop\n  await animate(time => {\n    // This function is called at a high frequency with\n    // time incrementing for every call.\n    time *= 3 // speed things up\n    let scale = size / (3 - Math.cos(time * 2))\n    r.x = scale * Math.cos(time) - (r.width / 2)\n    r.y = scale * Math.sin(2 * time) / 2 - (r.height / 2)\n  })\n} finally {\n  // When the script is stopped, remove the rectangle\n  r.remove()\n}\n')]);const Me=new class extends i{constructor(e){super(),this.version=0,this.exampleScripts={},this.referenceScripts=[],this.scripts=[],this.scriptsById=new Map,this.refresh=async()=>{let[e]=await this.db.read(["scripts"],async e=>{return e.getIndex("modifiedAt").getAll()}),t=_e.currentScript;t&&0==t.id&&e.push(t.meta),e.reverse();let n=new Set;this.scripts=e.map(e=>{let t=this.scriptsById.get(e.id);return t||(t=new M(e,"",null),this.scriptsById.set(e.id,t)),n.add(e.id),t.meta=e,t}),this.finalizeChanges(!1)},this.db=e,_e.on("modelchange",this.refresh),this.db.on("open",this.refresh),this.db.on("change",e=>{if("scripts"==e.store)if("update"==e.type){let t=e.value,n=this.scriptsById.get(t.id);n?(t.id<=0&&e.key&&("number"==typeof e.key?t.id=e.key:console.error("[ScriptsData] unexpected key type in db change event",{key:e.key})),n.meta=t,this.finalizeChanges()):this.refresh()}else if("delete"==e.type){let t=e.key;for(let e=0;e<this.scripts.length;e++){if(this.scripts[e].id===t){this.scripts.splice(e,1);break}}this.finalizeChanges()}else this.refresh()});let t=new Set;const n=(e,n,r)=>{if(e>=0)throw new Error(`invalid example script id ${e}`);if(t.has(e))throw new Error(`duplicate example script id ${e}`);return t.add(e),M.create({id:e,name:n,modifiedAt:new Date("2000-01-01 00:00:00")},r)};for(let e of Object.keys(Te)){let t=this.exampleScripts[e];t||(this.exampleScripts[e]=t=[]);for(let r of Te[e]){if(r.id<=-1e7&&r.id>-2e7)throw new Error(`reserved example script id ${r.id}`);let e=n(r.id,r.name,r.code);this.defaultSampleScript||(this.defaultSampleScript=e),t.push(e)}}let r=[[-1e7,"figma.d.ts","Figma API"],[-10000001,"scripter-env.d.ts","Scripter API"]];Promise.all(r.map(e=>O.a[e[1]])).then(e=>{for(let t=0;t<e.length;t++){let[i,,o]=r[t],a=n(i,o,e[t]);a.readOnly=!0,this.referenceScripts.push(a)}this.finalizeChanges()}),this.db.isOpen?this.refresh():this.finalizeChanges()}async getScript(e){let t=this.scriptsById.get(e);return t?t.id<0?t.clone():(await t.loadIfEmpty(),t):M.load(e)}scriptBefore(e){for(let t=0,n=this.scripts.length;t<n;t++)if(this.scripts[t].id==e)return this.scripts[t-1]||null;return null}scriptAfter(e){for(let t=0,n=this.scripts.length;t<n;t++)if(this.scripts[t].id==e){let e=this.scripts[t+1];if(e)return e;break}return this.firstNonUserScript()}scriptAfterOrBefore(e){for(let t=0,n=this.scripts.length;t<n;t++)if(this.scripts[t].id==e){let e=this.scripts[t+1]||this.scripts[t-1];if(e)return e;break}return this.firstNonUserScript()}firstNonUserScript(){return this.defaultSampleScript||this.referenceScripts[0]||null}finalizeChanges(e=!0){e&&this.scripts.sort((e,t)=>e.modifiedAt<t.modifiedAt?1:t.modifiedAt<e.modifiedAt?-1:0);let t=this.scripts.slice();for(let e of Object.keys(this.exampleScripts))t=t.concat(this.exampleScripts[e]);t=t.concat(this.referenceScripts),this.scriptsById=new Map(t.map(e=>[e.id,e])),this.version++,this.triggerEvent("change")}nextNewScriptName(){let e=-1;for(let t of this.scripts)if(t.name.startsWith("Untitled")){let n=0,r=/Untitled\s*(\d+)\s*$/.exec(t.name);r&&(n=parseInt(r[1])),isNaN(n)||(e=Math.max(e,n))}return-1==e?"Untitled":`Untitled ${e+1}`}}(g);function Le(e){e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded():e.scrollIntoView()}const Pe=new class extends i{constructor(){super(...arguments),this.isVisible=!1,this._uiel=document.getElementById("menu"),this.menuUIMountPromise=new Promise(e=>{this._resolveMenuUIMountPromise=e}),this.closeOnSelection=!1}toggle(e=!1){this.isVisible=this._uiel.classList.toggle("visible",!this.isVisible),document.body.classList.toggle("menuVisible",this.isVisible),this.closeOnSelection=e,this.isVisible?C.a.render(k.a.createElement(Oe,null),this._uiel):_e.editor&&_e.editor.focus(),this.triggerEvent("visibility",this.isVisible),_e.editor&&_e.editor.layout(),_.menuVisible=this.isVisible}init(){_.menuVisible&&this.toggle()}scrollToActiveItem(){function e(){let e=document.querySelector("#menu .active");return!!e&&(Le(e),!0)}e()||requestAnimationFrame(e)}};class Oe extends k.a.Component{constructor(e){super(e),this.scriptsDataChangeCallback=()=>{this.setState({scripts:Me.scripts,currentScriptId:_e.currentScriptId})},this.onEditorModelChange=()=>{this.setState({currentScriptId:_e.currentScriptId})},this.onConfigChange=()=>{this.setState({configVersion:_.version})},this.onChangeSettingBool=e=>{e.persist();let t=e.target;if(t.name.startsWith("config.")){let e="checkbox"==t.type?t.checked:t.value;_[t.name.substr("config.".length)]=e}},this.onChangeSettingNum=e=>{e.persist();let t=e.target;if(t.name.startsWith("config.")){let e=parseFloat(t.value);isNaN(e)||(_[t.name.substr("config.".length)]=e)}},this.onChangeWindowSize=e=>{let t=e.target.value.split(",");if(t.length>1){let e=[r[t[0]],r[t[1]]];e&&(_.windowSize=e)}},this.onClickLegacy=()=>{confirm("If you used Scripter before Sep 30, 2019, this allows you to retrieve old scripts.\n\nWhen clicking the OK button, the plugin window will switch to legacy Scripter.\nCopy your scripts from there.\nRestart Scripter when you are done.\n\nContinue?")&&(document.location.href="https://rsms.me/scripter-legacy/?v=k2i88tf8")},this.state={scripts:Me.scripts,exampleScripts:Me.exampleScripts,referenceScripts:Me.referenceScripts,currentScriptId:_e.currentScriptId,configVersion:_.version}}componentDidMount(){Me.on("change",this.scriptsDataChangeCallback),_e.on("modelchange",this.onEditorModelChange),_.on("change",this.onConfigChange),Pe._resolveMenuUIMountPromise(),Pe._resolveMenuUIMountPromise=null}componentWillUnmount(){Me.removeListener("change",this.scriptsDataChangeCallback),_e.removeListener("modelchange",this.onEditorModelChange),_.removeListener("change",this.onConfigChange)}render(){let e=this.state.currentScriptId,t=_.windowSize.map(e=>r[e]).join(","),n=k.a.createElement("div",{className:"examples"},Object.keys(this.state.exampleScripts).map(t=>k.a.createElement("div",{key:t,className:"category"},t?k.a.createElement("h4",null,t):k.a.createElement("h3",null,"Examples"),k.a.createElement("ul",null,this.state.exampleScripts[t].map(t=>k.a.createElement(Ie,{key:t.id,script:t,isActive:e==t.id}))))));return k.a.createElement("div",null,this.state.scripts.length>0?k.a.createElement("ul",null,this.state.scripts.map(t=>k.a.createElement(Ie,{key:t.id,script:t,isActive:e==t.id}))):null,n,k.a.createElement("h3",null,"References"),k.a.createElement("ul",null,this.state.referenceScripts.map(t=>k.a.createElement(Ie,{key:t.id,script:t,isActive:e==t.id}))),k.a.createElement("h3",null,"Settings"),k.a.createElement("div",{className:"settings"},k.a.createElement("label",null,k.a.createElement("input",{type:"checkbox",name:"config.showLineNumbers",checked:_.showLineNumbers,onChange:this.onChangeSettingBool}),"Line numbers"),k.a.createElement("label",null,k.a.createElement("input",{type:"checkbox",name:"config.wordWrap",checked:_.wordWrap,onChange:this.onChangeSettingBool}),"Word wrap"),k.a.createElement("label",{title:"Use a monospace font instead of Quattro"},k.a.createElement("input",{type:"checkbox",name:"config.monospaceFont",checked:_.monospaceFont,onChange:this.onChangeSettingBool}),"Monospace font"),k.a.createElement("label",{title:"Visualize otherwise-invisible characters like spaces and tabs"},k.a.createElement("input",{type:"checkbox",name:"config.showWhitespace",checked:_.showWhitespace,onChange:this.onChangeSettingBool}),"Show whitespace"),k.a.createElement("label",{title:"Show vertical indentation guides"},k.a.createElement("input",{type:"checkbox",name:"config.indentGuides",checked:_.indentGuides,onChange:this.onChangeSettingBool}),"Indentation guides"),k.a.createElement("label",{title:"Enables information cards shown when hovering over code snippets"},k.a.createElement("input",{type:"checkbox",name:"config.hoverCards",checked:_.hoverCards,onChange:this.onChangeSettingBool}),"Hover cards"),k.a.createElement("label",{title:"Enables suggestions as you type"},k.a.createElement("input",{type:"checkbox",name:"config.quickSuggestions",checked:_.quickSuggestions,onChange:this.onChangeSettingBool}),"Quick suggestions"),k.a.createElement("label",{className:"dependant"+(_.quickSuggestions?"":" disabled")},k.a.createElement("div",{className:"icon delay",title:"Quick suggestions delay"}),k.a.createElement("input",{type:"number",step:"100",min:"0",max:"10000",readOnly:!_.quickSuggestions,name:"config.quickSuggestionsDelay",value:_.quickSuggestionsDelay,onChange:this.onChangeSettingNum}),k.a.createElement("span",null,"ms")),k.a.createElement("label",{title:"Enables code folding; a way to collapse blocks of code"},k.a.createElement("input",{type:"checkbox",name:"config.codeFolding",checked:_.codeFolding,onChange:this.onChangeSettingBool}),"Code folding"),k.a.createElement("label",{title:"Enables a minimap for navigating large scripts"},k.a.createElement("input",{type:"checkbox",name:"config.minimap",checked:_.minimap,onChange:this.onChangeSettingBool}),"Minimap"),k.a.createElement("label",{title:"Size of Scripter window"},k.a.createElement("div",{className:"icon window"}),k.a.createElement("select",{name:"config.windowSize",value:t,onChange:this.onChangeWindowSize},k.a.createElement("option",{disabled:!0},"Window WH"),k.a.createElement("option",{value:"SMALL,SMALL"},"SS window"),k.a.createElement("option",{value:"SMALL,MEDIUM"},"SM window"),k.a.createElement("option",{value:"SMALL,LARGE"},"SL window"),k.a.createElement("option",{value:"MEDIUM,SMALL"},"MS window"),k.a.createElement("option",{value:"MEDIUM,MEDIUM"},"MM window"),k.a.createElement("option",{value:"MEDIUM,LARGE"},"ML window"),k.a.createElement("option",{value:"LARGE,SMALL"},"LS window"),k.a.createElement("option",{value:"LARGE,MEDIUM"},"LM window"),k.a.createElement("option",{value:"LARGE,LARGE"},"LL window")))),k.a.createElement("h4",null,"Misc"),k.a.createElement("ul",null,k.a.createElement("li",{onClick:this.onClickLegacy},"Access old scripts...")))}}function Ie(e){let t=e.script;const[n,r]=Object(S.useState)(!1);let i={className:(e.isActive?"active":"")+(0==t.id?" unsaved":"")};if(!n){i.onMouseDown=function(e){Pe.closeOnSelection&&Pe.toggle(),_e.openScript(t.id),Le(e.target)},!t.readOnly&&t.id>=0&&(i.onDoubleClick=function(){r(!0)},i.title=`Last modified ${t.modifiedAt.toLocaleString()}`)}function o(){if(t.id>0&&confirm(`Delete script "${t.name}"?`)){let e=Me.scriptAfterOrBefore(t.id);e?_e.openScript(e.id):_e.newScript(),t.delete()}}let a=!1;let s={name:t.name,isEditing:n,commitEditing:function(e){a||(a=!0,0==(e=e.trim()).length?o():t.name=e,r(!1))},cancelEditing:function(){r(!1)}},l=[];if(!n&&!t.readOnly){if(l=[k.a.createElement(Ne,{key:"play",className:"play",title:"",tooltip:e.isActive?"Run script":"Open & Run script",onClick:async function(e){e.preventDefault(),e.stopPropagation(),await _e.openScript(t.id),_e.runCurrentScript()}})],t.id>0){l.unshift(k.a.createElement(Ne,{key:"delete",className:"delete",title:"",tooltip:"Delete script",onClick:async function(e){o()}}))}}return k.a.createElement("li",Object.assign({},i),k.a.createElement(Ae,Object.assign({},s)),l)}function Ne(e){return k.a.createElement("div",{className:"button "+e.className,onClick:e.onClick,title:e.tooltip},e.title)}function Ae(e){const[t,n]=Object(S.useState)(e.name),[r,i]=Object(S.useState)(!0),o=Object(S.useRef)(null);if(Object(S.useEffect)(()=>{if(!e.isEditing)return t!==e.name&&n(e.name),void(r||i(!0));r&&o.current&&(o.current.select(),i(!1))}),!e.isEditing)return k.a.createElement("span",{className:"name"},e.name);return k.a.createElement("input",Object.assign({type:"text",autoFocus:!0},{value:t,ref:o,onChange:function(e){n(e.target.value)},onBlur:function(){e.commitEditing(t)},onKeyDown:function(n){"Enter"==n.key?(e.commitEditing(t),n.preventDefault(),n.stopPropagation()):"Escape"==n.key&&(e.cancelEditing(),n.preventDefault(),n.stopPropagation())}}))}const Re={passive:!1,capture:!0};class De extends i{constructor(e){super(),this.min=0,this.max=100,this.step=0,this._prec=0,this.knobSize=8,this.overshoot=Math.round(this.knobSize/4),this.snapThreshold=this.knobSize/2,this.minOffset=-this.overshoot,this.maxOffset=0,this.displayScale=1,this.dragged=!1,this._lastInputTimestamp=0,this._pointerDownX=0,this._trackPageXOffset=0,this._knobPointerXOffset=0,this.knobX=0,this._value=0,this._startValue=0,this._bigJumpTimer=null,this.onConfigChange=e=>{e.key in{windowSize:1,uiScale:1,showLineNumbers:1,codeFolding:1,menuVisible:1}&&this.layout()},this.onPointerDown=e=>{e.stopPropagation(),e.preventDefault(),y.hasPointerEvents?(this.track.onpointermove=this.onPointerMove,this.track.setPointerCapture(e.pointerId)):(document.onmousemove=this.onPointerMove,document.onmouseup=this.onPointerUp),this.maxOffset=this.track.clientWidth-(this.knobSize-this.overshoot),this.displayScale=window.devicePixelRatio||1,this.dragged=!1,this._lastInputTimestamp=e.timeStamp,this._pointerDownX=this.knobX,this._startValue=this._value,this.moveKnob(e),this.knob.classList.add("changing")},this.onPointerMove=e=>{this.dragged||(this.dragged=!0,this.knob.classList.add("dragging"),this.knob.classList.add("dragging-fine")),this.moveKnob(e),this._lastInputTimestamp=e.timeStamp},this.onPointerUp=e=>{y.hasPointerEvents?(this.track.onpointermove=null,this.track.releasePointerCapture(e.pointerId)):(document.onmousemove=null,document.onmouseup=null),e.stopPropagation(),e.preventDefault(),this.dragged&&(this.dragged=!1,this.knob.classList.remove("dragging"),this.knob.classList.remove("dragging-fine"));let t=e.timeStamp-this._lastInputTimestamp,n=Math.abs(this._pointerDownX-this.knobX),r=!1;t<200&&n>=this.snapThreshold&&(this.knobX-this.minOffset<this.snapThreshold?(this.setValue(this.min),r=!0):this.maxOffset-this.knobX<this.snapThreshold&&(this.setValue(this.max),r=!0)),r||this.moveKnob(e),this.knob.classList.remove("changing"),this._startValue!=this._value&&this.triggerEvent("change",this._value)};let t=this.el=document.createElement("div");t.className="rangeControl uninit";let n=this.track=document.createElement("div");n.className="track",t.appendChild(n);let r=this.knob=document.createElement("div");r.className="knob",n.appendChild(r);let i=document.createElement("div");i.className="tooltip",r.appendChild(i);let o=this.tooltipLabel=document.createElement("div");if(i.appendChild(o),y.hasPointerEvents?(t.addEventListener("pointerdown",this.onPointerDown,Re),t.addEventListener("pointerup",this.onPointerUp,Re)):(t.addEventListener("mousedown",this.onPointerDown,Re),t.addEventListener("mouseup",this.onPointerUp,Re)),e&&("min"in e&&(this.min=e.min),"max"in e&&(this.max=e.max),"step"in e&&(this.step=Math.abs(e.step)),"value"in e&&(this._value=Math.min(this.max,Math.max(this.min,Number(e.value))))),this._scale=this.max-this.min,0==this.step){let e=Math.abs(this._scale)/1e3;this.step=e<1e-4?1e-4:e<.001?.001:e<.01?.01:e<.1?.1:1}else this.step=Math.min(this.step,Math.round(this._scale/2));this._prec=Math.max(Math.round(this.step)!=this.step?String(this.step).split(".",2)[1].length:0,Math.max(Math.round(this.min)!=this.min?String(this.min).split(".",2)[1].length:0,Math.round(this.max)!=this.max?String(this.max).split(".",2)[1].length:0)),o.innerText=this._value.toFixed(this._prec)}get value(){return this._value}set value(e){this.setValue(e)}layout(){let e=t=>t.offsetLeft-t.scrollLeft+t.clientLeft+(t.offsetParent&&t.offsetParent!==document.documentElement?e(t.offsetParent):0);this._trackPageXOffset=e(this.track),this._knobPointerXOffset=Math.round((this.knobSize+this.knob.clientWidth)/3),this.maxOffset=this.track.clientWidth-(this.knobSize-this.overshoot);let t=(this._value-this.min)/this._scale*(this.maxOffset-this.minOffset);this.knobX=t,this.knob.style.transform=`translate(${t}px, 0)`}onMountDOM(){requestAnimationFrame(()=>{this.layout(),requestAnimationFrame(()=>this.el.classList.remove("uninit"))}),_.addListener("change",this.onConfigChange)}onUnmountDOM(){_.removeListener("change",this.onConfigChange)}moveKnob(e){let t=(Math.min(this.maxOffset,Math.max(this.minOffset,e.pageX-this._trackPageXOffset-this._knobPointerXOffset))-this.minOffset)/(this.maxOffset-this.minOffset);this.setValue(t*this._scale+this.min,e.shiftKey)}setValueUnscaled(e,t){return this.setValue(e*this._scale+this.min,t)}setValue(e,t){let n=this._prec;if(e!=this.max&&e!=this.min){let r;t?(n=Math.max(0,this._prec-1),r=.1/this.step):r=1/this.step,e=Math.round(e*r)/r,e=Math.max(this.min,Math.min(this.max,Number(e.toFixed(this._prec))))}if(this._value==e)return!1;this._value=e,this.tooltipLabel.innerText=e.toFixed(n);let r=(e-this.min)/this._scale*(this.maxOffset-this.minOffset)+this.minOffset;return this._setKnobX(r),this.triggerEvent("input",this._value),!0}_setKnobX(e){e=Math.round(e*this.displayScale)/this.displayScale,this.dragged&&(Math.abs(this.knobX-e)>10?(clearTimeout(this._bigJumpTimer),this.knob.classList.remove("dragging-fine"),this._bigJumpTimer=setTimeout(()=>{this._bigJumpTimer=null,this.knob.classList.add("dragging-fine")},100)):null!==this._bigJumpTimer&&(clearTimeout(this._bigJumpTimer),this.knob.classList.add("dragging-fine"))),this.knobX=e,this.knob.style.transform=`translate(${e}px, 0)`}}class ze{send(e){parent.postMessage(e,"*")}}function Ue(){let e={type:"window-config",width:_.windowSize[0],height:_.windowSize[1]};parent.postMessage(e,"*")}async function Fe(e,t,n){let r={};try{r=await n(),parent.postMessage(Object.assign({type:t,id:e},r),"*")}catch(n){b(`rpc error: ${n.stack||n}`);let r={type:"rpc-error-response",responseType:t,id:e,name:n.name||"Error",message:n.message||"error",stack:String(n.stack)||"error"};parent.postMessage(r,"*")}}let je=new Map;function Ve(e){Fe(e.id,"ui-input-response",async()=>{let t=je.get(e.instanceId);if(!t){let n=e.srcPos;if(0==n.line)return b("[rpc ui-input-response]: ignoring; zero srcPos",e),{value:0,done:!0};let r=function(e){let t=oe.get(e);return t?t.sourceMapJSON:null}(e.scriptReqId);if(!r)throw new Error("no source map found for script invocation #"+e.scriptReqId);if(!(n=await ne(n,e.srcLineOffset,r)).line)return{value:0,done:!0};let i=function(e){if("range"==e.controllerType){if(e.init&&"value"in e.init){let t=e.init.value;"number"!=typeof t&&(t=parseFloat(t),isNaN(t)?delete e.init.value:e.init.value=t)}return new De(e.init)}throw new Error(`unknown input type "${e.controllerType}"`)}(e);if(t=new D(n.line,i),""==_e.viewZones.add(t))return{value:i.value,done:!0};je.set(e.instanceId,t),t.addListener("remove",()=>{je.delete(e.instanceId)})}return new Promise(e=>{t.enqueueResolver(e)})})}function Be(){let e=new ze,t=(re=e,le);window.onmessage=e=>{let n=e.data;if(n&&"object"==typeof n)switch(n.type){case"eval-response":case"print":t(n);break;case"ui-confirm":!function(e){Fe(e.id,"ui-confirm-response",async()=>{return{answer:confirm(e.question)}})}(n);break;case"fetch-request":!function(e){Fe(e.id,"fetch-response",async()=>{let t=await fetch(e.input,e.init),n={};t.headers.forEach((e,t)=>{n[t]=e});let r=t.body?new Uint8Array(await t.arrayBuffer()):null,i={headers:n,redirected:t.redirected,status:t.status,statusText:t.statusText,resType:t.type,url:t.url,body:r};return b("fetch response",i),i})}(n);break;case"ui-input-request":Ve(n)}b("ui received message",e.data&&e.data.type,{origin:e.origin,data:e.data})},_.on("change",e=>{"windowSize"==e.key&&Ue()}),parent.postMessage({type:"ui-init"},"*"),Ue();let n=0;const r=150;let i=!1;function o(){if(i)return;i=!0;let t=()=>{e.send({type:"close-plugin"})};_e.isScriptRunning()?(_e.stopCurrentScript(),setTimeout(t,50)):t()}window.addEventListener("keydown",e=>{(function(e,t){if("Escape"==t){if(!(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)){if(e.timeStamp-n<=r)return o(),!0;n=e.timeStamp}}else if(80==e.keyCode&&(e.metaKey||e.ctrlKey)&&e.altKey)return o(),!0})(e,e.key)&&(e.preventDefault(),e.stopPropagation())},{capture:!0,passive:!1})}const We=256;class $e{constructor(e){this.root=e}get(e){return function(e,t){for(;t;){const n=qe(e,t.k);if(-1==n)t=t.L;else{if(1!=n){if(e.length==t.k.length)return t.v;break}t=t.R}}return null}(e,this.root)}getPrefixMatch(e){return function(e,t){for(;t;){const n=Ge(e,t.k);if(-1==n)t=t.L;else{if(1!=n)return t.v;t=t.R}}return null}(e,this.root)}getPrefixMatches(e){return function(e,t){let n=[];return function e(t,n,r){for(;n;){const i=Ge(t,n.k);if(-1==i)n=n.L;else if(1==i)n=n.R;else if(r.push(n.v),n.L&&n.R)e(t,n.L,r),n=n.R;else if(n.L)n=n.L;else{if(!n.R)break;n=n.R}}}(e,t,n),n}(e,this.root)}}function qe(e,t){const n=e.length,r=t.length,i=n<r?n:r;for(let n=0;n!=i;++n)if(e[n]!=We&&t[n]!=We){if(e[n]<t[n])return-1;if(t[n]<e[n])return 1}return n<r?-1:r<n?1:0}function Ge(e,t){const n=e.length,r=t.length,i=n<r?n:r;for(let n=0;n!=i;++n)if(e[n]!=We&&t[n]!=We){if(e[n]<t[n])return-1;if(t[n]<e[n])return 1}return n<r?-1:0}const[He,Ke]=function(){const e={type:"image/png",exts:["png"],description:"PNG image"},t={type:"image/gif",exts:["gif"],description:"GIF image"},n={type:"image/jpeg",exts:["jpg","jpeg","jfif","jpe"],description:"JPEG image"},r={type:"image/jp2",exts:["jp2"],description:"JPEG2000 image"},i={type:"image/webp",exts:["webp"],description:"WebP image"},o={type:"image/tiff",exts:["tif","tiff"],description:"TIFF image"},a={type:"image/bmp",exts:["bmp"],description:"Bitmap image"},s={type:"image/x-icon",exts:["ico"],description:"Icon image"},l={type:"image/vnd.adobe.photoshop",exts:["psd"],description:"Photoshop image"},u={type:"audio/midi",exts:["mid","midi"],description:"MIDI audio"},c={type:"audio/mp3",exts:["mp3"],description:"MP3 audio"},d={type:"audio/ogg",exts:["ogg"],description:"OGG audio"},f={type:"audio/wav",exts:["wav"],description:"WAV audio"},p={type:"video/x-m4v",exts:["m4v"],description:"MPEG4 video"},h={type:"video/mp4",exts:["mp4"],description:"MPEG4 video"},m={type:"application/wasm",exts:["wasm"],description:"WebAssembly module"},g={type:"application/zip",exts:["zip"],description:"Zip archive"},v={type:"application/jar",exts:["jar"],description:"Java archive"},y={type:"application/gzip",exts:["gz"],description:"GZip archive"},b={type:"application/x-tar",exts:["tar"],description:"TAR archive"},w={type:"application/x-tar-compressed",exts:["tgz"],description:"Compressed TAR archive"},_={type:"application/x-bzip2",exts:["bz2"],description:"BZip2 archive"},S={type:"application/pdf",exts:["pdf"],description:"PDF document"};return[new $e({k:[256,256,256,256,102,116,121,112,70,52,80,32],v:h,L:{k:[73,68,51],v:c,L:{k:[37,80,68,70],v:S,L:{k:[0,0,1,0],v:s,L:{k:[0,0,0,192,106,80,32,32,208,160,135,160,0],v:r},R:{k:[0,97,115,109,1,0,0,0],v:m,R:{k:[31,139,8],v:y,R:{k:[31,157,144],v:w}}}},R:{k:[66,90,104],v:_,L:{k:[56,66,80,83],v:l,R:{k:[66,77],v:a}},R:{k:[71,73,70,56,55,97],v:t,R:{k:[71,73,70,56,57,97],v:t,R:{k:[73,32,73],v:o}}}}},R:{k:[80,75,3,4,20,0,8,0],v:v,L:{k:[77,77,0,43],v:o,L:{k:[73,73,42,0],v:o,R:{k:[77,77,0,42],v:o}},R:{k:[77,84,104,100],v:u,R:{k:[79,103,103,83],v:d,R:{k:[80,75,3,4],v:g}}}},R:{k:[82,73,70,70,256,256,256,256,87,65,86,69],v:f,L:{k:[80,75,5,6],v:g,R:{k:[80,75,7,8],v:g}},R:{k:[117,115,116,97,114],v:b,L:{k:[82,73,70,70,256,256,256,256,87,69,66,80],v:i},R:{k:[137,80,78,71,13,10,26,10],v:e,R:{k:[255,216,255],v:n}}}}}},R:{k:[256,256,256,256,102,116,121,112,78,68,88,80],v:h,L:{k:[256,256,256,256,102,116,121,112,78,68,83,67],v:h,L:{k:[256,256,256,256,102,116,121,112,77,52,65],v:{type:"audio/m4a",exts:[]},L:{k:[256,256,256,256,102,116,121,112,70,52,86,32],v:h},R:{k:[256,256,256,256,102,116,121,112,77,52,86],v:p,R:{k:[256,256,256,256,102,116,121,112,77,83,78,86],v:h,R:{k:[256,256,256,256,102,116,121,112,78,68,65,83],v:h}}}},R:{k:[256,256,256,256,102,116,121,112,78,68,83,80],v:h,L:{k:[256,256,256,256,102,116,121,112,78,68,83,72],v:h,R:{k:[256,256,256,256,102,116,121,112,78,68,83,77],v:h}},R:{k:[256,256,256,256,102,116,121,112,78,68,88,67],v:h,L:{k:[256,256,256,256,102,116,121,112,78,68,83,83],v:h},R:{k:[256,256,256,256,102,116,121,112,78,68,88,72],v:h,R:{k:[256,256,256,256,102,116,121,112,78,68,88,77],v:h}}}}},R:{k:[256,256,256,256,102,116,121,112,105,115,111,52],v:h,L:{k:[256,256,256,256,102,116,121,112,97,118,99,49],v:h,L:{k:[256,256,256,256,102,116,121,112,78,68,88,83],v:h,R:{k:[256,256,256,256,102,116,121,112,78,83,68,67],v:h}},R:{k:[256,256,256,256,102,116,121,112,100,97,115,104],v:h,R:{k:[256,256,256,256,102,116,121,112,105,115,111,50],v:h,R:{k:[256,256,256,256,102,116,121,112,105,115,111,51],v:h}}}},R:{k:[256,256,256,256,102,116,121,112,109,109,112,52],v:h,L:{k:[256,256,256,256,102,116,121,112,105,115,111,53],v:h,R:{k:[256,256,256,256,102,116,121,112,105,115,111,54],v:h,R:{k:[256,256,256,256,102,116,121,112,105,115,111,109],v:h}}},R:{k:[256,256,256,256,102,116,121,112,109,112,52,50],v:h,L:{k:[256,256,256,256,102,116,121,112,109,112,52,49],v:h},R:{k:[256,256,256,256,102,116,121,112,109,112,52,118],v:h,R:{k:[256,256,256,256,102,116,121,112,109,112,55,49],v:h}}}}}}}),new Map([["png",[e]],["gif",[t]],["jpg",[n]],["jpeg",[n]],["jfif",[n]],["jpe",[n]],["jp2",[r]],["webp",[i]],["tif",[o]],["tiff",[o]],["bmp",[a]],["ico",[s]],["psd",[l]],["mid",[u]],["midi",[u]],["mp3",[c]],["ogg",[d]],["wav",[f]],["m4v",[p]],["mp4",[h]],["wasm",[m]],["zip",[g]],["jar",[v]],["gz",[y]],["tar",[b]],["tgz",[w]],["bz2",[_]],["pdf",[S]]])]}();const Ze=(e=>e.slice(0,e.length-1).map((t,n)=>[t,e[n+1]]))([.5,.75,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.75,2,2.5,3]),Qe={zoomIn(){let e=_.uiScale;for(let t of Ze)if(e<=t[0]){_.uiScale=t[1];break}},zoomOut(){let e=_.uiScale;for(let t of Ze)if(e<=t[1]){_.uiScale=t[0];break}},resetZoom(){_.uiScale=1}};function Xe(){window.addEventListener("keydown",e=>{(e.metaKey||e.ctrlKey)&&((e,t)=>"Enter"==t||"r"==t||"s"==t?e.shiftKey?(_e.stopCurrentScript(),!0):(_e.runCurrentScript(),!0):("x"==t||"X"==t)&&e.ctrlKey&&e.shiftKey?(_e.stopCurrentScript(),!0):"l"==t&&e.ctrlKey||v&&e.metaKey&&"k"==t?(_e.clearMessages(),!0):"m"!=t||v&&e.metaKey?void("="==t||"+"==t?Qe.zoomIn():"-"==t?Qe.zoomOut():"0"==t&&Qe.resetZoom()):(Pe.toggle(),!0))(e,e.key)&&(e.preventDefault(),e.stopPropagation())},{capture:!0,passive:!1})}function Je(){document.body.style.setProperty("--uiScale",String(_.uiScale))}(async function(){await async function(){await g.open(async e=>{if(m(`upgrade database ${e.prevVersion} -> ${e.nextVersion}`),e.prevVersion<1){e.createStore("config");let t=e.createStore("scripts",{keyPath:"id",autoIncrement:!0});t.createIndex("modifiedAt","modifiedAt",{unique:!1}),t.createIndex("createdAt","createdAt",{unique:!1}),t.createIndex("tags","tags",{unique:!1,multiEntry:!0}),t.createIndex("name","name",{unique:!1}),e.createStore("scriptBody"),e.createStore("scriptViewState")}})}(),await _.load(),Je(),fe.init(),_e.init(),Pe.init(),Be(),Xe(),function(){function e(){let[e,t]=_.windowSize,n=document.body.classList;switch(n.remove("windowWidthSmall"),n.remove("windowWidthMedium"),n.remove("windowWidthLarge"),n.remove("windowHeightSmall"),n.remove("windowHeightMedium"),n.remove("windowHeightLarge"),e){case r.SMALL:n.add("windowWidthSmall");break;case r.MEDIUM:n.add("windowWidthMedium");break;case r.LARGE:n.add("windowWidthLarge")}switch(t){case r.SMALL:n.add("windowHeightSmall");break;case r.MEDIUM:n.add("windowHeightMedium");break;case r.LARGE:n.add("windowHeightLarge")}}_.on("change",t=>{"windowSize"==t.key?e():"uiScale"==t.key&&Je()}),e()}()})().catch(e=>console.error(e.stack||String(e)))}]);
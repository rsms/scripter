!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t,n){"use strict";e.exports=n(6)},function(e,t){e.exports=monaco},function(e,t){e.exports=__resources},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,l=s(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(r){a=r(n);for(var d=0;d<a.length;d++)o.call(n,a[d])&&(l[a[d]]=n[a[d]])}}return l}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(7)},function(e,t,n){},function(e,t,n){"use strict";
/** @license React v16.12.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(3),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,p=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113;i&&Symbol.for("react.suspense_list");var h=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var g="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function b(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||v}function _(){}function S(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||v}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=b.prototype;var k=S.prototype=new _;k.constructor=S,r(k,b.prototype),k.isPureReactComponent=!0;var E={current:null},x={current:null},C=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,n){var r,i={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)C.call(t,r)&&!T.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:o,type:e,key:s,ref:a,props:i,_owner:x.current}}function L(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var P=/\/+/g,I=[];function O(e,t,n,r){if(I.length){var i=I.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function A(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function R(e,t,n){return null==e?0:function e(t,n,r,i){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case s:l=!0}}if(l)return r(i,t,""===n?"."+N(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+N(a=t[u],u);l+=e(a,c,r,i)}else if(null===t||"object"!=typeof t?c=null:c="function"==typeof(c=g&&t[g]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(a=t.next()).done;)l+=e(a=a.value,c=n+N(a,u++),r,i);else if("object"===a)throw r=""+t,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return l}(e,"",t,n)}function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function D(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?U(e,r,n,(function(e){return e})):null!=e&&(L(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+n)),r.push(e))}function U(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(P,"$&/")+"/"),R(e,F,t=O(t,o,r,i)),A(t)}function z(){var e=E.current;if(null===e)throw Error(y(321));return e}var j={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return U(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;R(e,D,t=O(null,null,t,n)),A(t)},count:function(e){return R(e,(function(){return null}),null)},toArray:function(e){var t=[];return U(e,t,null,(function(e){return e})),t},only:function(e){if(!L(e))throw Error(y(143));return e}},createRef:function(){return{current:null}},Component:b,PureComponent:S,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:p,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return z().useCallback(e,t)},useContext:function(e,t){return z().useContext(e,t)},useEffect:function(e,t){return z().useEffect(e,t)},useImperativeHandle:function(e,t,n){return z().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return z().useLayoutEffect(e,t)},useMemo:function(e,t){return z().useMemo(e,t)},useReducer:function(e,t,n){return z().useReducer(e,t,n)},useRef:function(e){return z().useRef(e)},useState:function(e){return z().useState(e)},Fragment:a,Profiler:u,StrictMode:l,Suspense:f,createElement:M,cloneElement:function(e,t,n){if(null==e)throw Error(y(267,e));var i=r({},e.props),s=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=x.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)C.call(t,c)&&!T.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:o,type:e.type,key:s,ref:a,props:i,_owner:l}},createFactory:function(e){var t=M.bind(null,e);return t.type=e,t},isValidElement:L,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:E,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r}},B={default:j},V=B&&j||B;e.exports=V.default||V},function(e,t,n){"use strict";
/** @license React v16.12.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),i=n(3),o=n(8);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var a=null,l={};function u(){if(a)for(var e in l){var t=l[e],n=a.indexOf(e);if(!(-1<n))throw Error(s(96,e));if(!d[n]){if(!t.extractEvents)throw Error(s(97,e));for(var r in d[n]=t,n=t.eventTypes){var i=void 0,o=n[r],u=t,f=r;if(p.hasOwnProperty(f))throw Error(s(99,f));p[f]=o;var h=o.phasedRegistrationNames;if(h){for(i in h)h.hasOwnProperty(i)&&c(h[i],u,f);i=!0}else o.registrationName?(c(o.registrationName,u,f),i=!0):i=!1;if(!i)throw Error(s(98,r,e))}}}}function c(e,t,n){if(f[e])throw Error(s(100,e));f[e]=t,h[e]=t.eventTypes[n].dependencies}var d=[],p={},f={},h={};function m(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var g=!1,y=null,v=!1,w=null,b={onError:function(e){g=!0,y=e}};function _(e,t,n,r,i,o,s,a,l){g=!1,y=null,m.apply(b,arguments)}var S=null,k=null,E=null;function x(e,t,n){var r=e.type||"unknown-event";e.currentTarget=E(n),function(e,t,n,r,i,o,a,l,u){if(_.apply(this,arguments),g){if(!g)throw Error(s(198));var c=y;g=!1,y=null,v||(v=!0,w=c)}}(r,t,void 0,e),e.currentTarget=null}function C(e,t){if(null==t)throw Error(s(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function T(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var M=null;function L(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)x(e,t[r],n[r]);else t&&x(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function P(e){if(null!==e&&(M=C(M,e)),e=M,M=null,e){if(T(e,L),M)throw Error(s(95));if(v)throw e=w,v=!1,w=null,e}}var I={injectEventPluginOrder:function(e){if(a)throw Error(s(101));a=Array.prototype.slice.call(e),u()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!l.hasOwnProperty(t)||l[t]!==r){if(l[t])throw Error(s(102,t));l[t]=r,n=!0}}n&&u()}};function O(e,t){var n=e.stateNode;if(!n)return null;var r=S(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var A=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;A.hasOwnProperty("ReactCurrentDispatcher")||(A.ReactCurrentDispatcher={current:null}),A.hasOwnProperty("ReactCurrentBatchConfig")||(A.ReactCurrentBatchConfig={suspense:null});var R=/^(.*)[\\\/]/,N="function"==typeof Symbol&&Symbol.for,D=N?Symbol.for("react.element"):60103,F=N?Symbol.for("react.portal"):60106,U=N?Symbol.for("react.fragment"):60107,z=N?Symbol.for("react.strict_mode"):60108,j=N?Symbol.for("react.profiler"):60114,B=N?Symbol.for("react.provider"):60109,V=N?Symbol.for("react.context"):60110,W=N?Symbol.for("react.concurrent_mode"):60111,q=N?Symbol.for("react.forward_ref"):60112,G=N?Symbol.for("react.suspense"):60113,$=N?Symbol.for("react.suspense_list"):60120,H=N?Symbol.for("react.memo"):60115,K=N?Symbol.for("react.lazy"):60116;N&&Symbol.for("react.fundamental"),N&&Symbol.for("react.responder"),N&&Symbol.for("react.scope");var Z="function"==typeof Symbol&&Symbol.iterator;function X(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Z&&e[Z]||e["@@iterator"])?e:null}function Q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case U:return"Fragment";case F:return"Portal";case j:return"Profiler";case z:return"StrictMode";case G:return"Suspense";case $:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case V:return"Context.Consumer";case B:return"Context.Provider";case q:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case H:return Q(e.type);case K:if(e=1===e._status?e._result:null)return Q(e)}return null}function J(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=Q(e.type);n=null,r&&(n=Q(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(R,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var Y=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),ee=null,te=null,ne=null;function re(e){if(e=k(e)){if("function"!=typeof ee)throw Error(s(280));var t=S(e.stateNode);ee(e.stateNode,e.type,t)}}function ie(e){te?ne?ne.push(e):ne=[e]:te=e}function oe(){if(te){var e=te,t=ne;if(ne=te=null,re(e),t)for(e=0;e<t.length;e++)re(t[e])}}function se(e,t){return e(t)}function ae(e,t,n,r){return e(t,n,r)}function le(){}var ue=se,ce=!1,de=!1;function pe(){null===te&&null===ne||(le(),oe())}new Map;var fe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,he=Object.prototype.hasOwnProperty,me={},ge={};function ye(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ve[e]=new ye(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ve[t]=new ye(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ve[e]=new ye(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ve[e]=new ye(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ve[e]=new ye(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ve[e]=new ye(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){ve[e]=new ye(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){ve[e]=new ye(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){ve[e]=new ye(e,5,!1,e.toLowerCase(),null,!1)}));var we=/[\-:]([a-z])/g;function be(e){return e[1].toUpperCase()}function _e(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Se(e,t,n,r){var i=ve.hasOwnProperty(t)?ve[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!he.call(ge,e)||!he.call(me,e)&&(fe.test(e)?ge[e]=!0:(me[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function ke(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ee(e){e._valueTracker||(e._valueTracker=function(e){var t=ke(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function xe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ke(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ce(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Te(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=_e(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Me(e,t){null!=(t=t.checked)&&Se(e,"checked",t,!1)}function Le(e,t){Me(e,t);var n=_e(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ie(e,t.type,_e(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Pe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ie(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_e(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ne(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw Error(s(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(s(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:_e(n)}}function De(e,t){var n=_e(t.value),r=_e(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Fe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(we,be);ve[t]=new ye(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(we,be);ve[t]=new ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(we,be);ve[t]=new ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){ve[e]=new ye(e,1,!1,e.toLowerCase(),null,!1)})),ve.xlinkHref=new ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){ve[e]=new ye(e,1,!1,e.toLowerCase(),null,!0)}));var Ue={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ze(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ze(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Be,Ve=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Ue.svg||"innerHTML"in e)e.innerHTML=t;else{for((Be=Be||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function We(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function qe(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ge={animationend:qe("Animation","AnimationEnd"),animationiteration:qe("Animation","AnimationIteration"),animationstart:qe("Animation","AnimationStart"),transitionend:qe("Transition","TransitionEnd")},$e={},He={};function Ke(e){if($e[e])return $e[e];if(!Ge[e])return e;var t,n=Ge[e];for(t in n)if(n.hasOwnProperty(t)&&t in He)return $e[e]=n[t];return e}Y&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete Ge.animationend.animation,delete Ge.animationiteration.animation,delete Ge.animationstart.animation),"TransitionEvent"in window||delete Ge.transitionend.transition);var Ze=Ke("animationend"),Xe=Ke("animationiteration"),Qe=Ke("animationstart"),Je=Ke("transitionend"),Ye="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(s(188))}function rt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return nt(i),e;if(o===r)return nt(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var it,ot,st,at=!1,lt=[],ut=null,ct=null,dt=null,pt=new Map,ft=new Map,ht=[],mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),gt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function yt(e,t,n,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r}}function vt(e,t){switch(e){case"focus":case"blur":ut=null;break;case"dragenter":case"dragleave":ct=null;break;case"mouseover":case"mouseout":dt=null;break;case"pointerover":case"pointerout":pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function wt(e,t,n,r,i){return null===e||e.nativeEvent!==i?(e=yt(t,n,r,i),null!==t&&(null!==(t=fr(t))&&ot(t)),e):(e.eventSystemFlags|=r,e)}function bt(e){var t=pr(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){st(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function _t(e){if(null!==e.blockedOn)return!1;var t=In(e.topLevelType,e.eventSystemFlags,e.nativeEvent);if(null!==t){var n=fr(t);return null!==n&&ot(n),e.blockedOn=t,!1}return!0}function St(e,t,n){_t(e)&&n.delete(t)}function kt(){for(at=!1;0<lt.length;){var e=lt[0];if(null!==e.blockedOn){null!==(e=fr(e.blockedOn))&&it(e);break}var t=In(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:lt.shift()}null!==ut&&_t(ut)&&(ut=null),null!==ct&&_t(ct)&&(ct=null),null!==dt&&_t(dt)&&(dt=null),pt.forEach(St),ft.forEach(St)}function Et(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,kt)))}function xt(e){function t(t){return Et(t,e)}if(0<lt.length){Et(lt[0],e);for(var n=1;n<lt.length;n++){var r=lt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&Et(ut,e),null!==ct&&Et(ct,e),null!==dt&&Et(dt,e),pt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)bt(n),null===n.blockedOn&&ht.shift()}function Ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Tt(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Mt(e,t,n){(t=O(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function Lt(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Tt(t);for(t=n.length;0<t--;)Mt(n[t],"captured",e);for(t=0;t<n.length;t++)Mt(n[t],"bubbled",e)}}function Pt(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=O(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function It(e){e&&e.dispatchConfig.registrationName&&Pt(e._targetInst,null,e)}function Ot(e){T(e,Lt)}function At(){return!0}function Rt(){return!1}function Nt(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?At:Rt,this.isPropagationStopped=Rt,this}function Dt(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Ft(e){if(!(e instanceof this))throw Error(s(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Ut(e){e.eventPool=[],e.getPooled=Dt,e.release=Ft}i(Nt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=At)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=At)},persist:function(){this.isPersistent=At},isPersistent:Rt,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Rt,this._dispatchInstances=this._dispatchListeners=null}}),Nt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Nt.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Ut(n),n},Ut(Nt);var zt=Nt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),jt=Nt.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bt=Nt.extend({view:null,detail:null}),Vt=Bt.extend({relatedTarget:null});function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var qt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$t={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ht(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=$t[e])&&!!t[e]}function Kt(){return Ht}for(var Zt=Bt.extend({key:function(e){if(e.key){var t=qt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Gt[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Kt,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Xt=0,Qt=0,Jt=!1,Yt=!1,en=Bt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Kt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Xt;return Xt=e.screenX,Jt?"mousemove"===e.type?e.screenX-t:0:(Jt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Qt;return Qt=e.screenY,Yt?"mousemove"===e.type?e.screenY-t:0:(Yt=!0,0)}}),tn=en.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),nn=en.extend({dataTransfer:null}),rn=Bt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Kt}),on=Nt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),sn=en.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),an=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Ze,"animationEnd",2],[Xe,"animationIteration",2],[Qe,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Je,"transitionEnd",2],["waiting","waiting",2]],ln={},un={},cn=0;cn<an.length;cn++){var dn=an[cn],pn=dn[0],fn=dn[1],hn=dn[2],mn="on"+(fn[0].toUpperCase()+fn.slice(1)),gn={phasedRegistrationNames:{bubbled:mn,captured:mn+"Capture"},dependencies:[pn],eventPriority:hn};ln[fn]=gn,un[pn]=gn}var yn={eventTypes:ln,getEventPriority:function(e){return void 0!==(e=un[e])?e.eventPriority:2},extractEvents:function(e,t,n,r){var i=un[e];if(!i)return null;switch(e){case"keypress":if(0===Wt(n))return null;case"keydown":case"keyup":e=Zt;break;case"blur":case"focus":e=Vt;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=en;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=nn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=rn;break;case Ze:case Xe:case Qe:e=zt;break;case Je:e=on;break;case"scroll":e=Bt;break;case"wheel":e=sn;break;case"copy":case"cut":case"paste":e=jt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=tn;break;default:e=Nt}return Ot(t=e.getPooled(i,t,n,r)),t}},vn=o.unstable_UserBlockingPriority,wn=o.unstable_runWithPriority,bn=yn.getEventPriority,_n=10,Sn=[];function kn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=pr(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=Ct(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,s=e.eventSystemFlags,a=null,l=0;l<d.length;l++){var u=d[l];u&&(u=u.extractEvents(r,t,o,i,s))&&(a=C(a,u))}P(a)}}var En=!0;function xn(e,t){Cn(t,e,!1)}function Cn(e,t,n){switch(bn(t)){case 0:var r=Tn.bind(null,t,1);break;case 1:r=Mn.bind(null,t,1);break;default:r=Pn.bind(null,t,1)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Tn(e,t,n){ce||le();var r=Pn,i=ce;ce=!0;try{ae(r,e,t,n)}finally{(ce=i)||pe()}}function Mn(e,t,n){wn(vn,Pn.bind(null,e,t,n))}function Ln(e,t,n,r){if(Sn.length){var i=Sn.pop();i.topLevelType=e,i.eventSystemFlags=t,i.nativeEvent=n,i.targetInst=r,e=i}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:n,targetInst:r,ancestors:[]};try{if(t=kn,n=e,de)t(n,void 0);else{de=!0;try{ue(t,n,void 0)}finally{de=!1,pe()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,Sn.length<_n&&Sn.push(e)}}function Pn(e,t,n){if(En)if(0<lt.length&&-1<mt.indexOf(e))e=yt(null,e,t,n),lt.push(e);else{var r=In(e,t,n);null===r?vt(e,n):-1<mt.indexOf(e)?(e=yt(r,e,t,n),lt.push(e)):function(e,t,n,r){switch(t){case"focus":return ut=wt(ut,e,t,n,r),!0;case"dragenter":return ct=wt(ct,e,t,n,r),!0;case"mouseover":return dt=wt(dt,e,t,n,r),!0;case"pointerover":var i=r.pointerId;return pt.set(i,wt(pt.get(i)||null,e,t,n,r)),!0;case"gotpointercapture":return i=r.pointerId,ft.set(i,wt(ft.get(i)||null,e,t,n,r)),!0}return!1}(r,e,t,n)||(vt(e,n),Ln(e,t,n,null))}}function In(e,t,n){var r=Ct(n);if(null!==(r=pr(r))){var i=et(r);if(null===i)r=null;else{var o=i.tag;if(13===o){if(null!==(r=tt(i)))return r;r=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Ln(e,t,n,r),null}function On(e){if(!Y)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var An=new("function"==typeof WeakMap?WeakMap:Map);function Rn(e){var t=An.get(e);return void 0===t&&(t=new Set,An.set(e,t)),t}function Nn(e,t,n){if(!n.has(e)){switch(e){case"scroll":Cn(t,"scroll",!0);break;case"focus":case"blur":Cn(t,"focus",!0),Cn(t,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":On(e)&&Cn(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ye.indexOf(e)&&xn(e,t)}n.add(e)}}var Dn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fn=["Webkit","ms","Moz","O"];function Un(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Dn.hasOwnProperty(e)&&Dn[e]?(""+t).trim():t+"px"}function zn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Un(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Dn).forEach((function(e){Fn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Dn[t]=Dn[e]}))}));var jn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bn(e,t){if(t){if(jn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(s(62,""))}}function Vn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Wn(e,t){var n=Rn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=h[t];for(var r=0;r<t.length;r++)Nn(t[r],e,n)}function qn(){}function Gn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hn(e,t){var n,r=$n(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$n(r)}}function Kn(){for(var e=window,t=Gn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Gn((e=t.contentWindow).document)}return t}function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Xn="$",Qn="/$",Jn="$?",Yn="$!",er=null,tr=null;function nr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function rr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"==typeof setTimeout?setTimeout:void 0,or="function"==typeof clearTimeout?clearTimeout:void 0;function sr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function ar(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Xn||n===Yn||n===Jn){if(0===t)return e;t--}else n===Qn&&t++}e=e.previousSibling}return null}var lr=Math.random().toString(36).slice(2),ur="__reactInternalInstance$"+lr,cr="__reactEventHandlers$"+lr,dr="__reactContainere$"+lr;function pr(e){var t=e[ur];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dr]||n[ur]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ar(e);null!==e;){if(n=e[ur])return n;e=ar(e)}return t}n=(e=n).parentNode}return null}function fr(e){return!(e=e[ur]||e[dr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function hr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function mr(e){return e[cr]||null}var gr=null,yr=null,vr=null;function wr(){if(vr)return vr;var e,t,n=yr,r=n.length,i="value"in gr?gr.value:gr.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return vr=i.slice(e,1<t?1-t:void 0)}var br=Nt.extend({data:null}),_r=Nt.extend({data:null}),Sr=[9,13,27,32],kr=Y&&"CompositionEvent"in window,Er=null;Y&&"documentMode"in document&&(Er=document.documentMode);var xr=Y&&"TextEvent"in window&&!Er,Cr=Y&&(!kr||Er&&8<Er&&11>=Er),Tr=String.fromCharCode(32),Mr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Lr=!1;function Pr(e,t){switch(e){case"keyup":return-1!==Sr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Ir(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Or=!1;var Ar={eventTypes:Mr,extractEvents:function(e,t,n,r){var i;if(kr)e:{switch(e){case"compositionstart":var o=Mr.compositionStart;break e;case"compositionend":o=Mr.compositionEnd;break e;case"compositionupdate":o=Mr.compositionUpdate;break e}o=void 0}else Or?Pr(e,n)&&(o=Mr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=Mr.compositionStart);return o?(Cr&&"ko"!==n.locale&&(Or||o!==Mr.compositionStart?o===Mr.compositionEnd&&Or&&(i=wr()):(yr="value"in(gr=r)?gr.value:gr.textContent,Or=!0)),o=br.getPooled(o,t,n,r),i?o.data=i:null!==(i=Ir(n))&&(o.data=i),Ot(o),i=o):i=null,(e=xr?function(e,t){switch(e){case"compositionend":return Ir(t);case"keypress":return 32!==t.which?null:(Lr=!0,Tr);case"textInput":return(e=t.data)===Tr&&Lr?null:e;default:return null}}(e,n):function(e,t){if(Or)return"compositionend"===e||!kr&&Pr(e,t)?(e=wr(),vr=yr=gr=null,Or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cr&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=_r.getPooled(Mr.beforeInput,t,n,r)).data=e,Ot(t)):t=null,null===i?t:null===t?i:[i,t]}},Rr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rr[e.type]:"textarea"===t}var Dr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Fr(e,t,n){return(e=Nt.getPooled(Dr.change,e,t,n)).type="change",ie(n),Ot(e),e}var Ur=null,zr=null;function jr(e){P(e)}function Br(e){if(xe(hr(e)))return e}function Vr(e,t){if("change"===e)return t}var Wr=!1;function qr(){Ur&&(Ur.detachEvent("onpropertychange",Gr),zr=Ur=null)}function Gr(e){if("value"===e.propertyName&&Br(zr))if(e=Fr(zr,e,Ct(e)),ce)P(e);else{ce=!0;try{se(jr,e)}finally{ce=!1,pe()}}}function $r(e,t,n){"focus"===e?(qr(),zr=n,(Ur=t).attachEvent("onpropertychange",Gr)):"blur"===e&&qr()}function Hr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Br(zr)}function Kr(e,t){if("click"===e)return Br(t)}function Zr(e,t){if("input"===e||"change"===e)return Br(t)}Y&&(Wr=On("input")&&(!document.documentMode||9<document.documentMode));var Xr,Qr={eventTypes:Dr,_isInputEventSupported:Wr,extractEvents:function(e,t,n,r){var i=t?hr(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var s=Vr;else if(Nr(i))if(Wr)s=Zr;else{s=Hr;var a=$r}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(s=Kr);if(s&&(s=s(e,t)))return Fr(s,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ie(i,"number",i.value)}},Jr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Yr={eventTypes:Jr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,s="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!s&&!o)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,s?(s=t,null!==(t=(t=n.relatedTarget||n.toElement)?pr(t):null)&&(t!==(o=et(t))||5!==t.tag&&6!==t.tag)&&(t=null)):s=null,s===t)return null;if("mouseout"===e||"mouseover"===e)var a=en,l=Jr.mouseLeave,u=Jr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(a=tn,l=Jr.pointerLeave,u=Jr.pointerEnter,c="pointer");if(e=null==s?i:hr(s),i=null==t?i:hr(t),(l=a.getPooled(l,s,n,r)).type=c+"leave",l.target=e,l.relatedTarget=i,(r=a.getPooled(u,t,n,r)).type=c+"enter",r.target=i,r.relatedTarget=e,c=t,(a=s)&&c)e:{for(e=c,s=0,t=u=a;t;t=Tt(t))s++;for(t=0,i=e;i;i=Tt(i))t++;for(;0<s-t;)u=Tt(u),s--;for(;0<t-s;)e=Tt(e),t--;for(;s--;){if(u===e||u===e.alternate)break e;u=Tt(u),e=Tt(e)}u=null}else u=null;for(e=u,u=[];a&&a!==e&&(null===(s=a.alternate)||s!==e);)u.push(a),a=Tt(a);for(a=[];c&&c!==e&&(null===(s=c.alternate)||s!==e);)a.push(c),c=Tt(c);for(c=0;c<u.length;c++)Pt(u[c],"bubbled",l);for(c=a.length;0<c--;)Pt(a[c],"captured",r);return n===Xr?(Xr=null,[l]):(Xr=n,[l,r])}};var ei="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ti=Object.prototype.hasOwnProperty;function ni(e,t){if(ei(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ti.call(t,n[r])||!ei(e[n[r]],t[n[r]]))return!1;return!0}var ri=Y&&"documentMode"in document&&11>=document.documentMode,ii={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},oi=null,si=null,ai=null,li=!1;function ui(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return li||null==oi||oi!==Gn(n)?null:("selectionStart"in(n=oi)&&Zn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ai&&ni(ai,n)?null:(ai=n,(e=Nt.getPooled(ii.select,si,e,t)).type="select",e.target=oi,Ot(e),e))}var ci={eventTypes:ii,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=Rn(o),i=h.onSelect;for(var s=0;s<i.length;s++)if(!o.has(i[s])){o=!1;break e}o=!0}i=!o}if(i)return null;switch(o=t?hr(t):window,e){case"focus":(Nr(o)||"true"===o.contentEditable)&&(oi=o,si=t,ai=null);break;case"blur":ai=si=oi=null;break;case"mousedown":li=!0;break;case"contextmenu":case"mouseup":case"dragend":return li=!1,ui(n,r);case"selectionchange":if(ri)break;case"keydown":case"keyup":return ui(n,r)}return null}};I.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),S=mr,k=fr,E=hr,I.injectEventPluginsByName({SimpleEventPlugin:yn,EnterLeaveEventPlugin:Yr,ChangeEventPlugin:Qr,SelectEventPlugin:ci,BeforeInputEventPlugin:Ar}),new Set;var di=[],pi=-1;function fi(e){0>pi||(e.current=di[pi],di[pi]=null,pi--)}function hi(e,t){pi++,di[pi]=e.current,e.current=t}var mi={},gi={current:mi},yi={current:!1},vi=mi;function wi(e,t){var n=e.type.contextTypes;if(!n)return mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function bi(e){return null!=(e=e.childContextTypes)}function _i(e){fi(yi),fi(gi)}function Si(e){fi(yi),fi(gi)}function ki(e,t,n){if(gi.current!==mi)throw Error(s(168));hi(gi,t),hi(yi,n)}function Ei(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,Q(t)||"Unknown",o));return i({},n,{},r)}function xi(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||mi,vi=gi.current,hi(gi,t),hi(yi,yi.current),!0}function Ci(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(t=Ei(e,t,vi),r.__reactInternalMemoizedMergedChildContext=t,fi(yi),fi(gi),hi(gi,t)):fi(yi),hi(yi,n)}var Ti=o.unstable_runWithPriority,Mi=o.unstable_scheduleCallback,Li=o.unstable_cancelCallback,Pi=o.unstable_shouldYield,Ii=o.unstable_requestPaint,Oi=o.unstable_now,Ai=o.unstable_getCurrentPriorityLevel,Ri=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,Fi=o.unstable_LowPriority,Ui=o.unstable_IdlePriority,zi={},ji=void 0!==Ii?Ii:function(){},Bi=null,Vi=null,Wi=!1,qi=Oi(),Gi=1e4>qi?Oi:function(){return Oi()-qi};function $i(){switch(Ai()){case Ri:return 99;case Ni:return 98;case Di:return 97;case Fi:return 96;case Ui:return 95;default:throw Error(s(332))}}function Hi(e){switch(e){case 99:return Ri;case 98:return Ni;case 97:return Di;case 96:return Fi;case 95:return Ui;default:throw Error(s(332))}}function Ki(e,t){return e=Hi(e),Ti(e,t)}function Zi(e,t,n){return e=Hi(e),Mi(e,t,n)}function Xi(e){return null===Bi?(Bi=[e],Vi=Mi(Ri,Ji)):Bi.push(e),zi}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Li(e)}Ji()}function Ji(){if(!Wi&&null!==Bi){Wi=!0;var e=0;try{var t=Bi;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Bi=null}catch(t){throw null!==Bi&&(Bi=Bi.slice(e+1)),Mi(Ri,Qi),t}finally{Wi=!1}}}var Yi=3;function eo(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function to(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var no={current:null},ro=null,io=null,oo=null;function so(){oo=io=ro=null}function ao(e,t){var n=e.type._context;hi(no,n._currentValue),n._currentValue=t}function lo(e){var t=no.current;fi(no),e.type._context._currentValue=t}function uo(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function co(e,t){ro=e,oo=io=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Gs=!0),e.firstContext=null)}function po(e,t){if(oo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(oo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===io){if(null===ro)throw Error(s(308));io=t,ro.dependencies={expirationTime:0,firstContext:t,responders:null}}else io=io.next=t;return e._currentValue}var fo=!1;function ho(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function mo(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function go(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function yo(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function vo(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=ho(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=ho(e.memoizedState),i=n.updateQueue=ho(n.memoizedState)):r=e.updateQueue=mo(i):null===i&&(i=n.updateQueue=mo(r));null===i||r===i?yo(r,t):null===r.lastUpdate||null===i.lastUpdate?(yo(r,t),yo(i,t)):(yo(r,t),i.lastUpdate=t)}function wo(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=ho(e.memoizedState):bo(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function bo(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=mo(t)),t}function _o(e,t,n,r,o,s){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(s,r,o):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null==(o="function"==typeof(e=n.payload)?e.call(s,r,o):e))break;return i({},r,o);case 2:fo=!0}return r}function So(e,t,n,r,i){fo=!1;for(var o=(t=bo(e,t)).baseState,s=null,a=0,l=t.firstUpdate,u=o;null!==l;){var c=l.expirationTime;c<i?(null===s&&(s=l,o=u),a<c&&(a=c)):(Tl(c,l.suspenseConfig),u=_o(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(c=null,l=t.firstCapturedUpdate;null!==l;){var d=l.expirationTime;d<i?(null===c&&(c=l,null===s&&(o=u)),a<d&&(a=d)):(u=_o(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===s&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===s&&null===c&&(o=u),t.baseState=o,t.firstUpdate=s,t.firstCapturedUpdate=c,Ml(a),e.expirationTime=a,e.memoizedState=u}function ko(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Eo(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Eo(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Eo(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if("function"!=typeof n)throw Error(s(191,n));n.call(r)}e=e.nextEffect}}var xo=A.ReactCurrentBatchConfig,Co=(new r.Component).refs;function To(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var Mo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=hl(),i=xo.suspense;(i=go(r=ml(r,e,i),i)).payload=t,null!=n&&(i.callback=n),vo(e,i),gl(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=hl(),i=xo.suspense;(i=go(r=ml(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),vo(e,i),gl(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=hl(),r=xo.suspense;(r=go(n=ml(n,e,r),r)).tag=2,null!=t&&(r.callback=t),vo(e,r),gl(e,n)}};function Lo(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!ni(n,r)||!ni(i,o))}function Po(e,t,n){var r=!1,i=mi,o=t.contextType;return"object"==typeof o&&null!==o?o=po(o):(i=bi(t)?vi:gi.current,o=(r=null!=(r=t.contextTypes))?wi(e,i):mi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Mo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Io(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mo.enqueueReplaceState(t,t.state,null)}function Oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Co;var o=t.contextType;"object"==typeof o&&null!==o?i.context=po(o):(o=bi(t)?vi:gi.current,i.context=wi(e,o)),null!==(o=e.updateQueue)&&(So(e,o,n,i,r),i.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(To(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Mo.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(So(e,o,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var Ao=Array.isArray;function Ro(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Co&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function No(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Do(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Kl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ql(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ro(e,t,n),r.return=e,r):((r=Zl(n.type,n.key,n.props,null,e.mode,r)).ref=Ro(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Jl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Xl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ql(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case D:return(n=Zl(t.type,t.key,t.props,null,e.mode,n)).ref=Ro(e,null,t),n.return=e,n;case F:return(t=Jl(t,e.mode,n)).return=e,t}if(Ao(t)||X(t))return(t=Xl(t,e.mode,n,null)).return=e,t;No(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case D:return n.key===i?n.type===U?d(e,t,n.props.children,r,i):u(e,t,n,r):null;case F:return n.key===i?c(e,t,n,r):null}if(Ao(n)||X(n))return null!==i?null:d(e,t,n,r,null);No(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case D:return e=e.get(null===r.key?n:r.key)||null,r.type===U?d(t,e,r.props.children,i,r.key):u(t,e,r,i);case F:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ao(r)||X(r))return d(t,e=e.get(n)||null,r,i,null);No(t,r)}return null}function m(i,s,a,l){for(var u=null,c=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,a[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=o(y,s,m),null===c?u=y:c.sibling=y,c=y,d=g}if(m===a.length)return n(i,d),u;if(null===d){for(;m<a.length;m++)null!==(d=p(i,a[m],l))&&(s=o(d,s,m),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(i,d);m<a.length;m++)null!==(g=h(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(i,e)})),u}function g(i,a,l,u){var c=X(l);if("function"!=typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var d=c=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,u);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===d?c=w:d.sibling=w,d=w,m=y}if(v.done)return n(i,m),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=p(i,v.value,u))&&(a=o(v,a,g),null===d?c=v:d.sibling=v,d=v);return c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=h(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===d?c=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,o,l){var u="object"==typeof o&&null!==o&&o.type===U&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case D:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(7===u.tag?o.type===U:u.elementType===o.type){n(e,u.sibling),(r=i(u,o.type===U?o.props.children:o.props)).ref=Ro(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===U?((r=Xl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Zl(o.type,o.key,o.props,null,e.mode,l)).ref=Ro(e,r,o),l.return=e,e=l)}return a(e);case F:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Jl(o,e.mode,l)).return=e,e=r}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Ql(o,e.mode,l)).return=e,e=r),a(e);if(Ao(o))return m(e,r,o,l);if(X(o))return g(e,r,o,l);if(c&&No(e,o),void 0===o&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(s(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Fo=Do(!0),Uo=Do(!1),zo={},jo={current:zo},Bo={current:zo},Vo={current:zo};function Wo(e){if(e===zo)throw Error(s(174));return e}function qo(e,t){hi(Vo,t),hi(Bo,e),hi(jo,zo);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:je(null,"");break;default:t=je(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}fi(jo),hi(jo,t)}function Go(e){fi(jo),fi(Bo),fi(Vo)}function $o(e){Wo(Vo.current);var t=Wo(jo.current),n=je(t,e.type);t!==n&&(hi(Bo,e),hi(jo,n))}function Ho(e){Bo.current===e&&(fi(jo),fi(Bo))}var Ko={current:0};function Zo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===Jn||n.data===Yn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Xo(e,t){return{responder:e,props:t}}var Qo=A.ReactCurrentDispatcher,Jo=A.ReactCurrentBatchConfig,Yo=0,es=null,ts=null,ns=null,rs=null,is=null,os=null,ss=0,as=null,ls=0,us=!1,cs=null,ds=0;function ps(){throw Error(s(321))}function fs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ei(e[n],t[n]))return!1;return!0}function hs(e,t,n,r,i,o){if(Yo=o,es=t,ns=null!==e?e.memoizedState:null,Qo.current=null===ns?As:Rs,t=n(r,i),us){do{us=!1,ds+=1,ns=null!==e?e.memoizedState:null,os=rs,as=is=ts=null,Qo.current=Rs,t=n(r,i)}while(us);cs=null,ds=0}if(Qo.current=Os,(e=es).memoizedState=rs,e.expirationTime=ss,e.updateQueue=as,e.effectTag|=ls,e=null!==ts&&null!==ts.next,Yo=0,os=is=rs=ns=ts=es=null,ss=0,as=null,ls=0,e)throw Error(s(300));return t}function ms(){Qo.current=Os,Yo=0,os=is=rs=ns=ts=es=null,ss=0,as=null,ls=0,us=!1,cs=null,ds=0}function gs(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===is?rs=is=e:is=is.next=e,is}function ys(){if(null!==os)os=(is=os).next,ns=null!==(ts=ns)?ts.next:null;else{if(null===ns)throw Error(s(310));var e={memoizedState:(ts=ns).memoizedState,baseState:ts.baseState,queue:ts.queue,baseUpdate:ts.baseUpdate,next:null};is=null===is?rs=e:is.next=e,ns=ts.next}return is}function vs(e,t){return"function"==typeof t?t(e):t}function ws(e){var t=ys(),n=t.queue;if(null===n)throw Error(s(311));if(n.lastRenderedReducer=e,0<ds){var r=n.dispatch;if(null!==cs){var i=cs.get(n);if(void 0!==i){cs.delete(n);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return ei(o,t.memoizedState)||(Gs=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,r]}}return[t.memoizedState,r]}r=n.last;var a=t.baseUpdate;if(o=t.baseState,null!==a?(null!==r&&(r.next=null),r=a.next):r=null!==r?r.next:null,null!==r){var l=i=null,u=r,c=!1;do{var d=u.expirationTime;d<Yo?(c||(c=!0,l=a,i=o),d>ss&&Ml(ss=d)):(Tl(d,u.suspenseConfig),o=u.eagerReducer===e?u.eagerState:e(o,u.action)),a=u,u=u.next}while(null!==u&&u!==r);c||(l=a,i=o),ei(o,t.memoizedState)||(Gs=!0),t.memoizedState=o,t.baseUpdate=l,t.baseState=i,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function bs(e){var t=gs();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:vs,lastRenderedState:e}).dispatch=Is.bind(null,es,e),[t.memoizedState,e]}function _s(e){return ws(vs)}function Ss(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===as?(as={lastEffect:null}).lastEffect=e.next=e:null===(t=as.lastEffect)?as.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,as.lastEffect=e),e}function ks(e,t,n,r){var i=gs();ls|=e,i.memoizedState=Ss(t,n,void 0,void 0===r?null:r)}function Es(e,t,n,r){var i=ys();r=void 0===r?null:r;var o=void 0;if(null!==ts){var s=ts.memoizedState;if(o=s.destroy,null!==r&&fs(r,s.deps))return void Ss(0,n,o,r)}ls|=e,i.memoizedState=Ss(t,n,o,r)}function xs(e,t){return ks(516,192,e,t)}function Cs(e,t){return Es(516,192,e,t)}function Ts(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ms(){}function Ls(e,t){return gs().memoizedState=[e,void 0===t?null:t],e}function Ps(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Is(e,t,n){if(!(25>ds))throw Error(s(301));var r=e.alternate;if(e===es||null!==r&&r===es)if(us=!0,e={expirationTime:Yo,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===cs&&(cs=new Map),void 0===(n=cs.get(t)))cs.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var i=hl(),o=xo.suspense;o={expirationTime:i=ml(i,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.last;if(null===a)o.next=o;else{var l=a.next;null!==l&&(o.next=l),a.next=o}if(t.last=o,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var u=t.lastRenderedState,c=r(u,n);if(o.eagerReducer=r,o.eagerState=c,ei(c,u))return}catch(e){}gl(e,i)}}var Os={readContext:po,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useResponder:ps,useDeferredValue:ps,useTransition:ps},As={readContext:po,useCallback:Ls,useContext:po,useEffect:xs,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ks(4,36,Ts.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ks(4,36,e,t)},useMemo:function(e,t){var n=gs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Is.bind(null,es,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},gs().memoizedState=e},useState:bs,useDebugValue:Ms,useResponder:Xo,useDeferredValue:function(e,t){var n=bs(e),r=n[0],i=n[1];return xs((function(){o.unstable_next((function(){var n=Jo.suspense;Jo.suspense=void 0===t?null:t;try{i(e)}finally{Jo.suspense=n}}))}),[e,t]),r},useTransition:function(e){var t=bs(!1),n=t[0],r=t[1];return[Ls((function(t){r(!0),o.unstable_next((function(){var n=Jo.suspense;Jo.suspense=void 0===e?null:e;try{r(!1),t()}finally{Jo.suspense=n}}))}),[e,n]),n]}},Rs={readContext:po,useCallback:Ps,useContext:po,useEffect:Cs,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Es(4,36,Ts.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Es(4,36,e,t)},useMemo:function(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:ws,useRef:function(){return ys().memoizedState},useState:_s,useDebugValue:Ms,useResponder:Xo,useDeferredValue:function(e,t){var n=_s(),r=n[0],i=n[1];return Cs((function(){o.unstable_next((function(){var n=Jo.suspense;Jo.suspense=void 0===t?null:t;try{i(e)}finally{Jo.suspense=n}}))}),[e,t]),r},useTransition:function(e){var t=_s(),n=t[0],r=t[1];return[Ps((function(t){r(!0),o.unstable_next((function(){var n=Jo.suspense;Jo.suspense=void 0===e?null:e;try{r(!1),t()}finally{Jo.suspense=n}}))}),[e,n]),n]}},Ns=null,Ds=null,Fs=!1;function Us(e,t){var n=$l(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function js(e){if(Fs){var t=Ds;if(t){var n=t;if(!zs(e,t)){if(!(t=sr(n.nextSibling))||!zs(e,t))return e.effectTag=-1025&e.effectTag|2,Fs=!1,void(Ns=e);Us(Ns,n)}Ns=e,Ds=sr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Fs=!1,Ns=e}}function Bs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ns=e}function Vs(e){if(e!==Ns)return!1;if(!Fs)return Bs(e),Fs=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!rr(t,e.memoizedProps))for(t=Ds;t;)Us(e,t),t=sr(t.nextSibling);if(Bs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Qn){if(0===t){Ds=sr(e.nextSibling);break e}t--}else n!==Xn&&n!==Yn&&n!==Jn||t++}e=e.nextSibling}Ds=null}}else Ds=Ns?sr(e.stateNode.nextSibling):null;return!0}function Ws(){Ds=Ns=null,Fs=!1}var qs=A.ReactCurrentOwner,Gs=!1;function $s(e,t,n,r){t.child=null===e?Uo(t,null,n,r):Fo(t,e.child,n,r)}function Hs(e,t,n,r,i){n=n.render;var o=t.ref;return co(t,i),r=hs(e,t,n,r,o,i),null===e||Gs?(t.effectTag|=1,$s(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ca(e,t,i))}function Ks(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!=typeof s||Hl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Zl(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Zs(e,t,s,r,i,o))}return s=e.child,i<o&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:ni)(i,r)&&e.ref===t.ref)?ca(e,t,o):(t.effectTag|=1,(e=Kl(s,r)).ref=t.ref,e.return=t,t.child=e)}function Zs(e,t,n,r,i,o){return null!==e&&ni(e.memoizedProps,r)&&e.ref===t.ref&&(Gs=!1,i<o)?ca(e,t,o):Qs(e,t,n,r,o)}function Xs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Qs(e,t,n,r,i){var o=bi(n)?vi:gi.current;return o=wi(t,o),co(t,i),n=hs(e,t,n,r,o,i),null===e||Gs?(t.effectTag|=1,$s(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ca(e,t,i))}function Js(e,t,n,r,i){if(bi(n)){var o=!0;xi(t)}else o=!1;if(co(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Po(t,n,r),Oo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;"object"==typeof u&&null!==u?u=po(u):u=wi(t,u=bi(n)?vi:gi.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||l!==u)&&Io(t,s,r,u),fo=!1;var p=t.memoizedState;l=s.state=p;var f=t.updateQueue;null!==f&&(So(t,f,r,s,i),l=t.memoizedState),a!==r||p!==l||yi.current||fo?("function"==typeof c&&(To(t,n,c,r),l=t.memoizedState),(a=fo||Lo(t,n,a,r,p,l,u))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.effectTag|=4)):("function"==typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):("function"==typeof s.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.stateNode,a=t.memoizedProps,s.props=t.type===t.elementType?a:to(t.type,a),l=s.context,"object"==typeof(u=n.contextType)&&null!==u?u=po(u):u=wi(t,u=bi(n)?vi:gi.current),(d="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||l!==u)&&Io(t,s,r,u),fo=!1,l=t.memoizedState,p=s.state=l,null!==(f=t.updateQueue)&&(So(t,f,r,s,i),p=t.memoizedState),a!==r||l!==p||yi.current||fo?("function"==typeof c&&(To(t,n,c,r),p=t.memoizedState),(c=fo||Lo(t,n,a,r,l,p,u))?(d||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,u),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof s.componentDidUpdate&&(t.effectTag|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=u,r=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Ys(e,t,n,r,o,i)}function Ys(e,t,n,r,i,o){Xs(e,t);var s=0!=(64&t.effectTag);if(!r&&!s)return i&&Ci(t,n,!1),ca(e,t,o);r=t.stateNode,qs.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&s?(t.child=Fo(t,e.child,null,o),t.child=Fo(t,null,a,o)):$s(e,t,a,o),t.memoizedState=r.state,i&&Ci(t,n,!0),t.child}function ea(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),qo(e,t.containerInfo)}var ta,na,ra,ia,oa={dehydrated:null,retryTime:0};function sa(e,t,n){var r,i=t.mode,o=t.pendingProps,s=Ko.current,a=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&s)&&(null===e||null!==e.memoizedState)),r?(a=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(s|=1),hi(Ko,1&s),null===e){if(void 0!==o.fallback&&js(t),a){if(a=o.fallback,(o=Xl(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Xl(a,i,n,null)).return=t,o.sibling=n,t.memoizedState=oa,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Uo(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,a){if(o=o.fallback,(n=Kl(e,e.pendingProps)).return=t,0==(2&t.mode)&&(a=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(i=Kl(i,o,i.expirationTime)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=oa,t.child=n,i}return n=Fo(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,a){if(a=o.fallback,(o=Xl(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Xl(a,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=oa,t.child=o,n}return t.memoizedState=null,t.child=Fo(t,e,o.children,n)}function aa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),uo(e.return,t)}function la(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.last=r,s.tail=n,s.tailExpiration=0,s.tailMode=i,s.lastEffect=o)}function ua(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if($s(e,t,r.children,n),0!=(2&(r=Ko.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&aa(e,n);else if(19===e.tag)aa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hi(Ko,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Zo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),la(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Zo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}la(t,!0,n,null,o,t.lastEffect);break;case"together":la(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ca(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Ml(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Kl(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Kl(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function da(e){e.effectTag|=4}function pa(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fa(e){switch(e.tag){case 1:bi(e.type)&&_i();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Go(),Si(),0!=(64&(t=e.effectTag)))throw Error(s(285));return e.effectTag=-4097&t|64,e;case 5:return Ho(e),null;case 13:return fi(Ko),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return fi(Ko),null;case 4:return Go(),null;case 10:return lo(e),null;default:return null}}function ha(e,t){return{value:e,source:t,stack:J(t)}}ta=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},na=function(){},ra=function(e,t,n,r,o){var s=e.memoizedProps;if(s!==r){var a,l,u=t.stateNode;switch(Wo(jo.current),e=null,n){case"input":s=Ce(u,s),r=Ce(u,r),e=[];break;case"option":s=Oe(u,s),r=Oe(u,r),e=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":s=Re(u,s),r=Re(u,r),e=[];break;default:"function"!=typeof s.onClick&&"function"==typeof r.onClick&&(u.onclick=qn)}for(a in Bn(n,r),n=null,s)if(!r.hasOwnProperty(a)&&s.hasOwnProperty(a)&&null!=s[a])if("style"===a)for(l in u=s[a])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(f.hasOwnProperty(a)?e||(e=[]):(e=e||[]).push(a,null));for(a in r){var c=r[a];if(u=null!=s?s[a]:void 0,r.hasOwnProperty(a)&&c!==u&&(null!=c||null!=u))if("style"===a)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(e||(e=[]),e.push(a,n)),n=c;else"dangerouslySetInnerHTML"===a?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(a,""+c)):"children"===a?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(a,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(f.hasOwnProperty(a)?(null!=c&&Wn(o,a),e||u===c||(e=[])):(e=e||[]).push(a,c))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&da(t)}},ia=function(e,t,n,r){n!==r&&da(t)};var ma="function"==typeof WeakSet?WeakSet:Set;function ga(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=J(n)),null!==n&&Q(n.type),t=t.value,null!==e&&1===e.tag&&Q(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ya(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){jl(e,t)}else t.current=null}function va(e,t){switch(t.tag){case 0:case 11:case 15:wa(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:to(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}function wa(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!=(r.tag&e)){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}0!=(r.tag&t)&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function ba(e,t,n){switch("function"==typeof ql&&ql(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Ki(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){jl(i,e)}}e=e.next}while(e!==r)}))}break;case 1:ya(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){jl(e,t)}}(t,n);break;case 5:ya(t);break;case 4:Ea(e,t,n)}}function _a(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&_a(t)}function Sa(e){return 5===e.tag||3===e.tag||4===e.tag}function ka(e){e:{for(var t=e.return;null!==t;){if(Sa(t)){var n=t;break e}t=t.return}throw Error(s(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.effectTag&&(We(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Sa(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){var o=5===i.tag||6===i.tag;if(o){var a=o?i.stateNode:i.stateNode.instance;if(n)if(r){var l=a;a=n,8===(o=t).nodeType?o.parentNode.insertBefore(l,a):o.insertBefore(l,a)}else t.insertBefore(a,n);else r?(8===(l=t).nodeType?(o=l.parentNode).insertBefore(a,l):(o=l).appendChild(a),null!=(l=l._reactRootContainer)||null!==o.onclick||(o.onclick=qn)):t.appendChild(a)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Ea(e,t,n){for(var r,i,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(s(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var l=e,u=o,c=n,d=u;;)if(ba(l,d,c),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===u)break;for(;null===d.sibling;){if(null===d.return||d.return===u)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i?(l=r,u=o.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(ba(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function xa(e,t){switch(t.tag){case 0:case 11:case 14:case 15:wa(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[cr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Me(n,r),Vn(e,i),t=Vn(e,r),i=0;i<o.length;i+=2){var a=o[i],l=o[i+1];"style"===a?zn(n,l):"dangerouslySetInnerHTML"===a?Ve(n,l):"children"===a?We(n,l):Se(n,a,l,t)}switch(e){case"input":Le(n,r);break;case"textarea":De(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw Error(s(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,xt(t.containerInfo));break;case 12:break;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,tl=Gi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=Un("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}Ca(t);break;case 19:Ca(t);break;case 17:case 20:case 21:break;default:throw Error(s(163))}}function Ca(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ma),t.forEach((function(t){var r=Vl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var Ta="function"==typeof WeakMap?WeakMap:Map;function Ma(e,t,n){(n=go(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){il||(il=!0,ol=r),ga(e,t)},n}function La(e,t,n){(n=go(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ga(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===sl?sl=new Set([this]):sl.add(this),ga(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Pa,Ia=Math.ceil,Oa=A.ReactCurrentDispatcher,Aa=A.ReactCurrentOwner,Ra=0,Na=8,Da=16,Fa=32,Ua=0,za=1,ja=2,Ba=3,Va=4,Wa=5,qa=Ra,Ga=null,$a=null,Ha=0,Ka=Ua,Za=null,Xa=1073741823,Qa=1073741823,Ja=null,Ya=0,el=!1,tl=0,nl=500,rl=null,il=!1,ol=null,sl=null,al=!1,ll=null,ul=90,cl=null,dl=0,pl=null,fl=0;function hl(){return(qa&(Da|Fa))!==Ra?1073741821-(Gi()/10|0):0!==fl?fl:fl=1073741821-(Gi()/10|0)}function ml(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=$i();if(0==(4&t))return 99===r?1073741823:1073741822;if((qa&Da)!==Ra)return Ha;if(null!==n)e=eo(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=eo(e,150,100);break;case 97:case 96:e=eo(e,5e3,250);break;case 95:e=2;break;default:throw Error(s(326))}return null!==Ga&&e===Ha&&--e,e}function gl(e,t){if(50<dl)throw dl=0,pl=null,Error(s(185));if(null!==(e=yl(e,t))){var n=$i();1073741823===t?(qa&Na)!==Ra&&(qa&(Da|Fa))===Ra?_l(e):(wl(e),qa===Ra&&Qi()):wl(e),(4&qa)===Ra||98!==n&&99!==n||(null===cl?cl=new Map([[e,t]]):(void 0===(n=cl.get(e))||n>t)&&cl.set(e,t))}}function yl(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ga===i&&(Ml(t),Ka===Va&&tu(i,Ha)),nu(i,t)),i}function vl(e){var t=e.lastExpiredTime;return 0!==t?t:eu(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function wl(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Xi(_l.bind(null,e));else{var t=vl(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=hl();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==zi&&Li(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Xi(_l.bind(null,e)):Zi(r,bl.bind(null,e),{timeout:10*(1073741821-t)-Gi()}),e.callbackNode=t}}}function bl(e,t){if(fl=0,t)return ru(e,t=hl()),wl(e),null;var n=vl(e);if(0!==n){if(t=e.callbackNode,(qa&(Da|Fa))!==Ra)throw Error(s(327));if(Fl(),e===Ga&&n===Ha||El(e,n),null!==$a){var r=qa;qa|=Da;for(var i=Cl();;)try{Pl();break}catch(t){xl(e,t)}if(so(),qa=r,Oa.current=i,Ka===za)throw t=Za,El(e,n),tu(e,n),wl(e),t;if(null===$a)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Ka,Ga=null,r){case Ua:case za:throw Error(s(345));case ja:ru(e,2<n?2:n);break;case Ba:if(tu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Al(i)),1073741823===Xa&&10<(i=tl+nl-Gi())){if(el){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,El(e,n);break}}if(0!==(o=vl(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=ir(Rl.bind(null,e),i);break}Rl(e);break;case Va:if(tu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Al(i)),el&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,El(e,n);break}if(0!==(i=vl(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Qa?r=10*(1073741821-Qa)-Gi():1073741823===Xa?r=0:(r=10*(1073741821-Xa)-5e3,0>(r=(i=Gi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ia(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=ir(Rl.bind(null,e),r);break}Rl(e);break;case Wa:if(1073741823!==Xa&&null!==Ja){o=Xa;var a=Ja;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(o=Gi()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=i?0:i+r-o),10<r){tu(e,n),e.timeoutHandle=ir(Rl.bind(null,e),r);break}}Rl(e);break;default:throw Error(s(329))}if(wl(e),e.callbackNode===t)return bl.bind(null,e)}}return null}function _l(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)Rl(e);else{if((qa&(Da|Fa))!==Ra)throw Error(s(327));if(Fl(),e===Ga&&t===Ha||El(e,t),null!==$a){var n=qa;qa|=Da;for(var r=Cl();;)try{Ll();break}catch(t){xl(e,t)}if(so(),qa=n,Oa.current=r,Ka===za)throw n=Za,El(e,t),tu(e,t),wl(e),n;if(null!==$a)throw Error(s(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ga=null,Rl(e),wl(e)}}return null}function Sl(e,t){var n=qa;qa|=1;try{return e(t)}finally{(qa=n)===Ra&&Qi()}}function kl(e,t){var n=qa;qa&=-2,qa|=Na;try{return e(t)}finally{(qa=n)===Ra&&Qi()}}function El(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,or(n)),null!==$a)for(n=$a.return;null!==n;){var r=n;switch(r.tag){case 1:var i=r.type.childContextTypes;null!=i&&_i();break;case 3:Go(),Si();break;case 5:Ho(r);break;case 4:Go();break;case 13:case 19:fi(Ko);break;case 10:lo(r)}n=n.return}Ga=e,$a=Kl(e.current,null),Ha=t,Ka=Ua,Za=null,Qa=Xa=1073741823,Ja=null,Ya=0,el=!1}function xl(e,t){for(;;){try{if(so(),ms(),null===$a||null===$a.return)return Ka=za,Za=t,null;e:{var n=e,r=$a.return,i=$a,o=t;if(t=Ha,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==o&&"object"==typeof o&&"function"==typeof o.then){var s=o,a=0!=(1&Ko.current),l=r;do{var u;if(u=13===l.tag){var c=l.memoizedState;if(null!==c)u=null!==c.dehydrated;else{var d=l.memoizedProps;u=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!a)}}if(u){var p=l.updateQueue;if(null===p){var f=new Set;f.add(s),l.updateQueue=f}else p.add(s);if(0==(2&l.mode)){if(l.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var h=go(1073741823,null);h.tag=2,vo(i,h)}i.expirationTime=1073741823;break e}o=void 0,i=t;var m=n.pingCache;if(null===m?(m=n.pingCache=new Ta,o=new Set,m.set(s,o)):void 0===(o=m.get(s))&&(o=new Set,m.set(s,o)),!o.has(i)){o.add(i);var g=Bl.bind(null,n,s,i);s.then(g,g)}l.effectTag|=4096,l.expirationTime=t;break e}l=l.return}while(null!==l);o=Error((Q(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+J(i))}Ka!==Wa&&(Ka=ja),o=ha(o,i),l=r;do{switch(l.tag){case 3:s=o,l.effectTag|=4096,l.expirationTime=t,wo(l,Ma(l,s,t));break e;case 1:s=o;var y=l.type,v=l.stateNode;if(0==(64&l.effectTag)&&("function"==typeof y.getDerivedStateFromError||null!==v&&"function"==typeof v.componentDidCatch&&(null===sl||!sl.has(v)))){l.effectTag|=4096,l.expirationTime=t,wo(l,La(l,s,t));break e}}l=l.return}while(null!==l)}$a=Ol($a)}catch(e){t=e;continue}break}}function Cl(){var e=Oa.current;return Oa.current=Os,null===e?Os:e}function Tl(e,t){e<Xa&&2<e&&(Xa=e),null!==t&&e<Qa&&2<e&&(Qa=e,Ja=t)}function Ml(e){e>Ya&&(Ya=e)}function Ll(){for(;null!==$a;)$a=Il($a)}function Pl(){for(;null!==$a&&!Pi();)$a=Il($a)}function Il(e){var t=Pa(e.alternate,e,Ha);return e.memoizedProps=e.pendingProps,null===t&&(t=Ol(e)),Aa.current=null,t}function Ol(e){$a=e;do{var t=$a.alternate;if(e=$a.return,0==(2048&$a.effectTag)){e:{var n=t,r=Ha,o=(t=$a).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:bi(t.type)&&_i();break;case 3:Go(),Si(),(o=t.stateNode).pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(null===n||null===n.child)&&Vs(t)&&da(t),na(t);break;case 5:Ho(t),r=Wo(Vo.current);var a=t.type;if(null!==n&&null!=t.stateNode)ra(n,t,a,o,r),n.ref!==t.ref&&(t.effectTag|=128);else if(o){var l=Wo(jo.current);if(Vs(t)){var u=(o=t).stateNode;n=o.type;var c=o.memoizedProps,d=r;switch(u[ur]=o,u[cr]=c,a=void 0,r=u,n){case"iframe":case"object":case"embed":xn("load",r);break;case"video":case"audio":for(u=0;u<Ye.length;u++)xn(Ye[u],r);break;case"source":xn("error",r);break;case"img":case"image":case"link":xn("error",r),xn("load",r);break;case"form":xn("reset",r),xn("submit",r);break;case"details":xn("toggle",r);break;case"input":Te(r,c),xn("invalid",r),Wn(d,"onChange");break;case"select":r._wrapperState={wasMultiple:!!c.multiple},xn("invalid",r),Wn(d,"onChange");break;case"textarea":Ne(r,c),xn("invalid",r),Wn(d,"onChange")}for(a in Bn(n,c),u=null,c)c.hasOwnProperty(a)&&(l=c[a],"children"===a?"string"==typeof l?r.textContent!==l&&(u=["children",l]):"number"==typeof l&&r.textContent!==""+l&&(u=["children",""+l]):f.hasOwnProperty(a)&&null!=l&&Wn(d,a));switch(n){case"input":Ee(r),Pe(r,c,!0);break;case"textarea":Ee(r),Fe(r);break;case"select":case"option":break;default:"function"==typeof c.onClick&&(r.onclick=qn)}a=u,o.updateQueue=a,(o=null!==a)&&da(t)}else{n=t,d=a,c=o,u=9===r.nodeType?r:r.ownerDocument,l===Ue.html&&(l=ze(d)),l===Ue.html?"script"===d?((c=u.createElement("div")).innerHTML="<script><\/script>",u=c.removeChild(c.firstChild)):"string"==typeof c.is?u=u.createElement(d,{is:c.is}):(u=u.createElement(d),"select"===d&&(d=u,c.multiple?d.multiple=!0:c.size&&(d.size=c.size))):u=u.createElementNS(l,d),(c=u)[ur]=n,c[cr]=o,ta(c,t,!1,!1),t.stateNode=c;var p=r,h=Vn(d=a,n=o);switch(d){case"iframe":case"object":case"embed":xn("load",c),r=n;break;case"video":case"audio":for(r=0;r<Ye.length;r++)xn(Ye[r],c);r=n;break;case"source":xn("error",c),r=n;break;case"img":case"image":case"link":xn("error",c),xn("load",c),r=n;break;case"form":xn("reset",c),xn("submit",c),r=n;break;case"details":xn("toggle",c),r=n;break;case"input":Te(c,n),r=Ce(c,n),xn("invalid",c),Wn(p,"onChange");break;case"option":r=Oe(c,n);break;case"select":c._wrapperState={wasMultiple:!!n.multiple},r=i({},n,{value:void 0}),xn("invalid",c),Wn(p,"onChange");break;case"textarea":Ne(c,n),r=Re(c,n),xn("invalid",c),Wn(p,"onChange");break;default:r=n}Bn(d,r),u=void 0,l=d;var m=c,g=r;for(u in g)if(g.hasOwnProperty(u)){var y=g[u];"style"===u?zn(m,y):"dangerouslySetInnerHTML"===u?null!=(y=y?y.__html:void 0)&&Ve(m,y):"children"===u?"string"==typeof y?("textarea"!==l||""!==y)&&We(m,y):"number"==typeof y&&We(m,""+y):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(f.hasOwnProperty(u)?null!=y&&Wn(p,u):null!=y&&Se(m,u,y,h))}switch(d){case"input":Ee(c),Pe(c,n,!1);break;case"textarea":Ee(c),Fe(c);break;case"option":null!=n.value&&c.setAttribute("value",""+_e(n.value));break;case"select":(r=c).multiple=!!n.multiple,null!=(c=n.value)?Ae(r,!!n.multiple,c,!1):null!=n.defaultValue&&Ae(r,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof r.onClick&&(c.onclick=qn)}(o=nr(a,o))&&da(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw Error(s(166));break;case 6:if(n&&null!=t.stateNode)ia(n,t,n.memoizedProps,o);else{if("string"!=typeof o&&null===t.stateNode)throw Error(s(166));r=Wo(Vo.current),Wo(jo.current),Vs(t)?(a=(o=t).stateNode,r=o.memoizedProps,a[ur]=o,(o=a.nodeValue!==r)&&da(t)):(a=t,(o=(9===r.nodeType?r:r.ownerDocument).createTextNode(o))[ur]=a,t.stateNode=o)}break;case 11:break;case 13:if(fi(Ko),o=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=r;break e}o=null!==o,a=!1,null===n?void 0!==t.memoizedProps.fallback&&Vs(t):(a=null!==(r=n.memoizedState),o||null===r||null!==(r=n.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=r,r.nextEffect=c):(t.firstEffect=t.lastEffect=r,r.nextEffect=null),r.effectTag=8)),o&&!a&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ko.current)?Ka===Ua&&(Ka=Ba):(Ka!==Ua&&Ka!==Ba||(Ka=Va),0!==Ya&&null!==Ga&&(tu(Ga,Ha),nu(Ga,Ya)))),(o||a)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Go(),na(t);break;case 10:lo(t);break;case 9:case 14:break;case 17:bi(t.type)&&_i();break;case 19:if(fi(Ko),null===(o=t.memoizedState))break;if(a=0!=(64&t.effectTag),null===(c=o.rendering)){if(a)pa(o,!1);else if(Ka!==Ua||null!==n&&0!=(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(c=Zo(n))){for(t.effectTag|=64,pa(o,!1),null!==(a=c.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===o.lastEffect&&(t.firstEffect=null),t.lastEffect=o.lastEffect,o=r,a=t.child;null!==a;)n=o,(r=a).effectTag&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,null===(c=r.alternate)?(r.childExpirationTime=0,r.expirationTime=n,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=c.childExpirationTime,r.expirationTime=c.expirationTime,r.child=c.child,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,n=c.dependencies,r.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),a=a.sibling;hi(Ko,1&Ko.current|2),t=t.child;break e}n=n.sibling}}else{if(!a)if(null!==(n=Zo(c))){if(t.effectTag|=64,a=!0,null!==(r=n.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),pa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate){null!==(t=t.lastEffect=o.lastEffect)&&(t.nextEffect=null);break}}else Gi()>o.tailExpiration&&1<r&&(t.effectTag|=64,a=!0,pa(o,!1),t.expirationTime=t.childExpirationTime=r-1);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(r=o.last)?r.sibling=c:t.child=c,o.last=c)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=Gi()+500),r=o.tail,o.rendering=r,o.tail=r.sibling,o.lastEffect=t.lastEffect,r.sibling=null,o=Ko.current,hi(Ko,o=a?1&o|2:1&o),t=r;break e}break;case 20:case 21:break;default:throw Error(s(156,t.tag))}t=null}if(o=$a,1===Ha||1!==o.childExpirationTime){for(a=0,r=o.child;null!==r;)(n=r.expirationTime)>a&&(a=n),(c=r.childExpirationTime)>a&&(a=c),r=r.sibling;o.childExpirationTime=a}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=$a.firstEffect),null!==$a.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=$a.firstEffect),e.lastEffect=$a.lastEffect),1<$a.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=$a:e.firstEffect=$a,e.lastEffect=$a))}else{if(null!==(t=fa($a)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=$a.sibling))return t;$a=e}while(null!==$a);return Ka===Ua&&(Ka=Wa),null}function Al(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Rl(e){var t=$i();return Ki(99,Nl.bind(null,e,t)),null}function Nl(e,t){do{Fl()}while(null!==ll);if((qa&(Da|Fa))!==Ra)throw Error(s(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Al(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ga&&($a=Ga=null,Ha=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=qa;qa|=Fa,Aa.current=null,er=En;var a=Kn();if(Zn(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{var u=(l=(l=a.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{l.nodeType,d.nodeType}catch(e){l=null;break e}var p=0,f=-1,h=-1,m=0,g=0,y=a,v=null;t:for(;;){for(var w;y!==l||0!==c&&3!==y.nodeType||(f=p+c),y!==d||0!==u&&3!==y.nodeType||(h=p+u),3===y.nodeType&&(p+=y.nodeValue.length),null!==(w=y.firstChild);)v=y,y=w;for(;;){if(y===a)break t;if(v===l&&++m===c&&(f=p),v===d&&++g===u&&(h=p),null!==(w=y.nextSibling))break;v=(y=v).parentNode}y=w}l=-1===f||-1===h?null:{start:f,end:h}}else l=null}l=l||{start:0,end:0}}else l=null;tr={focusedElem:a,selectionRange:l},En=!1,rl=i;do{try{Dl()}catch(e){if(null===rl)throw Error(s(330));jl(rl,e),rl=rl.nextEffect}}while(null!==rl);rl=i;do{try{for(a=e,l=t;null!==rl;){var b=rl.effectTag;if(16&b&&We(rl.stateNode,""),128&b){var _=rl.alternate;if(null!==_){var S=_.ref;null!==S&&("function"==typeof S?S(null):S.current=null)}}switch(1038&b){case 2:ka(rl),rl.effectTag&=-3;break;case 6:ka(rl),rl.effectTag&=-3,xa(rl.alternate,rl);break;case 1024:rl.effectTag&=-1025;break;case 1028:rl.effectTag&=-1025,xa(rl.alternate,rl);break;case 4:xa(rl.alternate,rl);break;case 8:Ea(a,c=rl,l),_a(c)}rl=rl.nextEffect}}catch(e){if(null===rl)throw Error(s(330));jl(rl,e),rl=rl.nextEffect}}while(null!==rl);if(S=tr,_=Kn(),b=S.focusedElem,l=S.selectionRange,_!==b&&b&&b.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==l&&Zn(b)&&(_=l.start,void 0===(S=l.end)&&(S=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(S,b.value.length)):(S=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(S=S.getSelection(),c=b.textContent.length,a=Math.min(l.start,c),l=void 0===l.end?a:Math.min(l.end,c),!S.extend&&a>l&&(c=l,l=a,a=c),c=Hn(b,a),d=Hn(b,l),c&&d&&(1!==S.rangeCount||S.anchorNode!==c.node||S.anchorOffset!==c.offset||S.focusNode!==d.node||S.focusOffset!==d.offset)&&((_=_.createRange()).setStart(c.node,c.offset),S.removeAllRanges(),a>l?(S.addRange(_),S.extend(d.node,d.offset)):(_.setEnd(d.node,d.offset),S.addRange(_))))),_=[];for(S=b;S=S.parentNode;)1===S.nodeType&&_.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<_.length;b++)(S=_[b]).element.scrollLeft=S.left,S.element.scrollTop=S.top}tr=null,En=!!er,er=null,e.current=n,rl=i;do{try{for(b=r;null!==rl;){var k=rl.effectTag;if(36&k){var E=rl.alternate;switch(S=b,(_=rl).tag){case 0:case 11:case 15:wa(16,32,_);break;case 1:var x=_.stateNode;if(4&_.effectTag)if(null===E)x.componentDidMount();else{var C=_.elementType===_.type?E.memoizedProps:to(_.type,E.memoizedProps);x.componentDidUpdate(C,E.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var T=_.updateQueue;null!==T&&ko(0,T,x);break;case 3:var M=_.updateQueue;if(null!==M){if(a=null,null!==_.child)switch(_.child.tag){case 5:a=_.child.stateNode;break;case 1:a=_.child.stateNode}ko(0,M,a)}break;case 5:var L=_.stateNode;null===E&&4&_.effectTag&&nr(_.type,_.memoizedProps)&&L.focus();break;case 6:case 4:case 12:break;case 13:if(null===_.memoizedState){var P=_.alternate;if(null!==P){var I=P.memoizedState;if(null!==I){var O=I.dehydrated;null!==O&&xt(O)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(s(163))}}if(128&k){_=void 0;var A=rl.ref;if(null!==A){var R=rl.stateNode;switch(rl.tag){case 5:_=R;break;default:_=R}"function"==typeof A?A(_):A.current=_}}rl=rl.nextEffect}}catch(e){if(null===rl)throw Error(s(330));jl(rl,e),rl=rl.nextEffect}}while(null!==rl);rl=null,ji(),qa=o}else e.current=n;if(al)al=!1,ll=e,ul=t;else for(rl=i;null!==rl;)t=rl.nextEffect,rl.nextEffect=null,rl=t;if(0===(t=e.firstPendingTime)&&(sl=null),1073741823===t?e===pl?dl++:(dl=0,pl=e):dl=0,"function"==typeof Wl&&Wl(n.stateNode,r),wl(e),il)throw il=!1,e=ol,ol=null,e;return(qa&Na)!==Ra?null:(Qi(),null)}function Dl(){for(;null!==rl;){var e=rl.effectTag;0!=(256&e)&&va(rl.alternate,rl),0==(512&e)||al||(al=!0,Zi(97,(function(){return Fl(),null}))),rl=rl.nextEffect}}function Fl(){if(90!==ul){var e=97<ul?97:ul;return ul=90,Ki(e,Ul)}}function Ul(){if(null===ll)return!1;var e=ll;if(ll=null,(qa&(Da|Fa))!==Ra)throw Error(s(331));var t=qa;for(qa|=Fa,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:wa(128,0,n),wa(0,64,n)}}catch(t){if(null===e)throw Error(s(330));jl(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return qa=t,Qi(),!0}function zl(e,t,n){vo(e,t=Ma(e,t=ha(n,t),1073741823)),null!==(e=yl(e,1073741823))&&wl(e)}function jl(e,t){if(3===e.tag)zl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){zl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===sl||!sl.has(r))){vo(n,e=La(n,e=ha(t,e),1073741823)),null!==(n=yl(n,1073741823))&&wl(n);break}}n=n.return}}function Bl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ga===e&&Ha===n?Ka===Va||Ka===Ba&&1073741823===Xa&&Gi()-tl<nl?El(e,Ha):el=!0:eu(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),wl(e)))}function Vl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=ml(t=hl(),e,null)),null!==(e=yl(e,t))&&wl(e)}Pa=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||yi.current)Gs=!0;else{if(r<n){switch(Gs=!1,t.tag){case 3:ea(t),Ws();break;case 5:if($o(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:bi(t.type)&&xi(t);break;case 4:qo(t,t.stateNode.containerInfo);break;case 10:ao(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?sa(e,t,n):(hi(Ko,1&Ko.current),null!==(t=ca(e,t,n))?t.sibling:null);hi(Ko,1&Ko.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return ua(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),hi(Ko,Ko.current),!r)return null}return ca(e,t,n)}Gs=!1}}else Gs=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=wi(t,gi.current),co(t,n),i=hs(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,ms(),bi(r)){var o=!0;xi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var a=r.getDerivedStateFromProps;"function"==typeof a&&To(t,r,a,e),i.updater=Mo,t.stateNode=i,i._reactInternalFiber=t,Oo(t,r,e,n),t=Ys(null,t,r,!0,o,n)}else t.tag=0,$s(null,t,i,n),t=t.child;return t;case 16:if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"==typeof e)return Hl(e)?1:0;if(null!=e){if((e=e.$$typeof)===q)return 11;if(e===H)return 14}return 2}(i),e=to(i,e),o){case 0:t=Qs(null,t,i,e,n);break;case 1:t=Js(null,t,i,e,n);break;case 11:t=Hs(null,t,i,e,n);break;case 14:t=Ks(null,t,i,to(i.type,e),r,n);break;default:throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Qs(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,Js(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:if(ea(t),null===(r=t.updateQueue))throw Error(s(282));if(i=null!==(i=t.memoizedState)?i.element:null,So(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i)Ws(),t=ca(e,t,n);else{if((i=t.stateNode.hydrate)&&(Ds=sr(t.stateNode.containerInfo.firstChild),Ns=t,i=Fs=!0),i)for(n=Uo(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else $s(e,t,r,n),Ws();t=t.child}return t;case 5:return $o(t),null===e&&js(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,rr(r,i)?a=null:null!==o&&rr(r,o)&&(t.effectTag|=16),Xs(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):($s(e,t,a,n),t=t.child),t;case 6:return null===e&&js(t),null;case 13:return sa(e,t,n);case 4:return qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Fo(t,null,r,n):$s(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Hs(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return $s(e,t,t.pendingProps,n),t.child;case 8:case 12:return $s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,ao(t,o=i.value),null!==a){var l=a.value;if(0===(o=ei(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(a.children===i.children&&!yi.current){t=ca(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===l.tag&&((c=go(n,null)).tag=2,vo(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),uo(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}}$s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,co(t,n),r=r(i=po(i,o.unstable_observedBits)),t.effectTag|=1,$s(e,t,r,n),t.child;case 14:return o=to(i=t.type,t.pendingProps),Ks(e,t,i,o=to(i.type,o),r,n);case 15:return Zs(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,bi(r)?(e=!0,xi(t)):e=!1,co(t,n),Po(t,r,i),Oo(t,r,i,n),Ys(null,t,r,!0,e,n);case 19:return ua(e,t,n)}throw Error(s(156,t.tag))};var Wl=null,ql=null;function Gl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function $l(e,t,n,r){return new Gl(e,t,n,r)}function Hl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Kl(e,t){var n=e.alternate;return null===n?((n=$l(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zl(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)Hl(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case U:return Xl(n.children,i,o,t);case W:a=8,i|=7;break;case z:a=8,i|=1;break;case j:return(e=$l(12,n,t,8|i)).elementType=j,e.type=j,e.expirationTime=o,e;case G:return(e=$l(13,n,t,i)).type=G,e.elementType=G,e.expirationTime=o,e;case $:return(e=$l(19,n,t,i)).elementType=$,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case B:a=10;break e;case V:a=9;break e;case q:a=11;break e;case H:a=14;break e;case K:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=$l(a,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Xl(e,t,n,r){return(e=$l(7,e,r,t)).expirationTime=n,e}function Ql(e,t,n){return(e=$l(6,e,null,t)).expirationTime=n,e}function Jl(e,t,n){return(t=$l(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function eu(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function tu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function nu(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function ru(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function iu(e,t,n,r){var i=t.current,o=hl(),a=xo.suspense;o=ml(o,i,a);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(bi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var u=n.type;if(bi(u)){n=Ei(n,u,l);break e}}n=l}else n=mi;return null===t.context?t.context=n:t.pendingContext=n,(t=go(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),vo(i,t),gl(i,o),o}function ou(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function su(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function au(e,t){su(e,t),(e=e.alternate)&&su(e,t)}function lu(e,t,n){var r=new Yl(e,t,n=null!=n&&!0===n.hydrate),i=$l(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,e[dr]=r.current,n&&0!==t&&function(e){var t=Rn(e);mt.forEach((function(n){Nn(n,e,t)})),gt.forEach((function(n){Nn(n,e,t)}))}(9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function uu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function cu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=ou(s);a.call(e)}}iu(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new lu(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=ou(s);l.call(e)}}kl((function(){iu(t,s,e,i)}))}return ou(s)}function du(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!uu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:F,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}lu.prototype.render=function(e,t){iu(e,this._internalRoot,null,void 0===t?null:t)},lu.prototype.unmount=function(e){var t=this._internalRoot,n=void 0===e?null:e,r=t.containerInfo;iu(null,t,null,(function(){r[dr]=null,null!==n&&n()}))},it=function(e){if(13===e.tag){var t=eo(hl(),150,100);gl(e,t),au(e,t)}},ot=function(e){if(13===e.tag){hl();var t=Yi++;gl(e,t),au(e,t)}},st=function(e){if(13===e.tag){var t=hl();gl(e,t=ml(t,e,null)),au(e,t)}},ee=function(e,t,n){switch(t){case"input":if(Le(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=mr(r);if(!i)throw Error(s(90));xe(r),Le(r,i)}}}break;case"textarea":De(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},se=Sl,ae=function(e,t,n,r){var i=qa;qa|=4;try{return Ki(98,e.bind(null,t,n,r))}finally{(qa=i)===Ra&&Qi()}},le=function(){(qa&(1|Da|Fa))===Ra&&(function(){if(null!==cl){var e=cl;cl=null,e.forEach((function(e,t){ru(t,e),wl(t)})),Qi()}}(),Fl())},ue=function(e,t){var n=qa;qa|=2;try{return e(t)}finally{(qa=n)===Ra&&Qi()}};var pu,fu,hu={createPortal:du,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},hydrate:function(e,t,n){if(!uu(t))throw Error(s(200));return cu(null,e,t,!0,n)},render:function(e,t,n){if(!uu(t))throw Error(s(200));return cu(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!uu(n))throw Error(s(200));if(null==e||void 0===e._reactInternalFiber)throw Error(s(38));return cu(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(!uu(e))throw Error(s(40));return!!e._reactRootContainer&&(kl((function(){cu(null,null,e,!1,(function(){e._reactRootContainer=null,e[dr]=null}))})),!0)},unstable_createPortal:function(){return du.apply(void 0,arguments)},unstable_batchedUpdates:Sl,flushSync:function(e,t){if((qa&(Da|Fa))!==Ra)throw Error(s(187));var n=qa;qa|=1;try{return Ki(99,e.bind(null,t))}finally{qa=n,Qi()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[fr,hr,mr,I.injectEventPluginsByName,p,Ot,function(e){T(e,It)},ie,oe,Pn,P,Fl,{current:!1}]}};fu=(pu={findFiberByHostInstance:pr,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Wl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},ql=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(i({},pu,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return fu?fu(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));var mu={default:hu},gu=mu&&hu||mu;e.exports=gu.default||gu},function(e,t,n){"use strict";e.exports=n(9)},function(e,t,n){"use strict";
/** @license React v0.18.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i,o,s,a;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(c,0),e}},d=Date.now();t.unstable_now=function(){return Date.now()-d},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(c,0))},i=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},s=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var p=window.performance,f=window.Date,h=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof p&&"function"==typeof p.now)t.unstable_now=function(){return p.now()};else{var y=f.now();t.unstable_now=function(){return f.now()-y}}var v=!1,w=null,b=-1,_=5,S=0;s=function(){return t.unstable_now()>=S},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var k=new MessageChannel,E=k.port2;k.port1.onmessage=function(){if(null!==w){var e=t.unstable_now();S=e+_;try{w(!0,e)?E.postMessage(null):(v=!1,w=null)}catch(e){throw E.postMessage(null),e}}else v=!1},r=function(e){w=e,v||(v=!0,E.postMessage(null))},i=function(e,n){b=h((function(){e(t.unstable_now())}),n)},o=function(){m(b),b=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=Math.floor((n-1)/2),i=e[r];if(!(void 0!==i&&0<M(i,t)))break e;e[r]=t,e[n]=i,n=r}}function C(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,l=e[a];if(void 0!==s&&0>M(s,n))void 0!==l&&0>M(l,s)?(e[r]=l,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==l&&0>M(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function M(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var L=[],P=[],I=1,O=null,A=3,R=!1,N=!1,D=!1;function F(e){for(var t=C(P);null!==t;){if(null===t.callback)T(P);else{if(!(t.startTime<=e))break;T(P),t.sortIndex=t.expirationTime,x(L,t)}t=C(P)}}function U(e){if(D=!1,F(e),!N)if(null!==C(L))N=!0,r(z);else{var t=C(P);null!==t&&i(U,t.startTime-e)}}function z(e,n){N=!1,D&&(D=!1,o()),R=!0;var r=A;try{for(F(n),O=C(L);null!==O&&(!(O.expirationTime>n)||e&&!s());){var a=O.callback;if(null!==a){O.callback=null,A=O.priorityLevel;var l=a(O.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?O.callback=l:O===C(L)&&T(L),F(n)}else T(L);O=C(L)}if(null!==O)var u=!0;else{var c=C(P);null!==c&&i(U,c.startTime-n),u=!1}return u}finally{O=null,A=r,R=!1}}function j(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=a;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_scheduleCallback=function(e,n,s){var a=t.unstable_now();if("object"==typeof s&&null!==s){var l=s.delay;l="number"==typeof l&&0<l?a+l:a,s="number"==typeof s.timeout?s.timeout:j(e)}else s=j(e),l=a;return e={id:I++,callback:n,priorityLevel:e,startTime:l,expirationTime:s=l+s,sortIndex:-1},l>a?(e.sortIndex=l,x(P,e),null===C(L)&&e===C(P)&&(D?o():D=!0,i(U,l-a))):(e.sortIndex=s,x(L,e),N||R||(N=!0,r(z))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_shouldYield=function(){var e=t.unstable_now();F(e);var n=C(L);return n!==O&&null!==O&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<O.expirationTime||s()},t.unstable_requestPaint=B,t.unstable_continueExecution=function(){N||R||(N=!0,r(z))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return C(L)},t.unstable_Profiling=null},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";n.r(t);var r;n(5);!function(e){e[e.SMALL=100]="SMALL",e[e.MEDIUM=200]="MEDIUM",e[e.LARGE=300]="LARGE",e[e.XLARGE=500]="XLARGE"}(r||(r={}));var i=n(2),o=n.n(i);class s{constructor(){this._events=new Map}addListener(e,t){let n=this._events.get(e);n?n.add(t):this._events.set(e,new Set([t]))}on(e,t){return this.addListener(e,t)}removeListener(e,t){let n=this._events.get(e);n&&(n.delete(t),0==n.size&&this._events.delete(e))}removeListeners(e){this._events.delete(e)}removeAllListeners(){this._events.clear()}triggerEvent(e,t){let n=this._events.get(e);if(n)for(let e of n)e(t)}}s.prototype.on=s.prototype.addListener;console.log.bind(console);const a="undefined"!=typeof window?window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB:null,l=!!a;class u extends s{constructor(e,t){super(),this.autoReopenOnClose=!0,this.isOpen=!1,this._requirePromise=null,this.name=e,this.version=t}require(e){return l?(this._requirePromise||(this._requirePromise=this.open(e).then(()=>this)),this._requirePromise):Promise.resolve(null)}open(e){return y(this,e).then(()=>(this._setupCoordination(),this._onopen(e)))}_reopen(e){if(!this.autoReopenOnClose)return;let t=this,n=[];return this.transaction=function(e,...r){let i,o,s=new h((e,t)=>{i=e,o=t});return s._resolve=i,s._reject=o,s._db=t,s._stores=r,s._mode=e,n.push(s),s},y(this,e).then(t=>{delete this.transaction;for(let e of n)e._flushDelayed();return this._onopen(e)})}async _onopen(e){this._snapshot(),this.db.onclose=()=>{this.isOpen=!1,this._reopen(e)},this.isOpen=!0,this.triggerEvent("open")}_snapshot(){let e=this.storeNames,t=new Map;if(e.length>0){let n=this.db.transaction(e,"readonly");for(let r of e){let e=n.objectStore(r);t.set(r,{autoIncrement:e.autoIncrement,indexNames:e.indexNames,keyPath:e.keyPath})}}this._lastSnapshot={storeNames:e,storeInfo:t}}_setupCoordination(){"undefined"!=typeof BroadcastChannel&&(this._broadcastChannel=new BroadcastChannel(`xdb:${this.name}.${this.version}`),this._broadcastChannel.onmessage=e=>{this.triggerEvent("remotechange",e.data)})}_broadcastChange(e){this._broadcastChannel&&this._broadcastChannel.postMessage(e),this.triggerEvent("change",e)}close(){this.isOpen=!1,this.db.close()}get storeNames(){return Array.from(this.db.objectStoreNames)}getStore(e,t){return this.transaction(t,e).objectStore(e)}transaction(e,...t){return g(this,this.db.transaction(t,e))}modify(e,...t){let n=this.transaction("readwrite",...e),r=e.map(e=>n.objectStore(e));return Promise.all([n,...t.map(e=>e(...r))]).then(e=>(e.shift(),e))}read(e,...t){let n=this.transaction("readonly",...e),r=e.map(e=>n.objectStore(e));return Promise.all(t.map(e=>e(...r)))}get(e,t){return this.getStore(e,"readonly").get(t)}getAll(e,t,n){return this.getStore(e,"readonly").getAll(t,n)}add(e,t,n){let r=this.getStore(e,"readwrite");return Promise.all([r.add(t,n),r.transaction]).then(e=>e[0])}put(e,t,n){let r=this.getStore(e,"readwrite");return Promise.all([r.put(t,n),r.transaction]).then(e=>e[0])}delete(e,t){let n=this.getStore(e,"readwrite");return Promise.all([n.delete(t),n.transaction])}getAllKeys(e,t,n){return this.getStore(e,"readonly").getAllKeys(t,n)}}class c{constructor(e,t,n,r){this._t=g(e,t),this.db=e,this.prevVersion=n,this.nextVersion=r}get storeNames(){return Array.from(this.db.db.objectStoreNames)}hasStore(e){return this.db.db.objectStoreNames.contains(e)}getStore(e){return this._t.objectStore(e)}createStore(e,t){let n=this.db.db.createObjectStore(e,t);return new p(this.db,n,this._t)}deleteStore(e){this.db.db.deleteObjectStore(e)}}class d extends Promise{constructor(){super(...arguments),this.aborted=!1,this.errorOnAbort=!0}abort(){this.aborted=!0,this.transaction.abort()}objectStore(e){return new p(this.db,this.transaction.objectStore(e),this)}}class p{constructor(e,t,n){this.db=e,this.store=t,this.transaction=n}get autoIncrement(){return this.store.autoIncrement}get indexNames(){return this.store.indexNames}get name(){return this.store.name}set name(e){this.store.name=e}clear(){return this._promise(()=>this.store.clear()).then(()=>{this.db._broadcastChange({type:"clear",store:this.store.name})})}count(e){return this._promise(()=>this.store.count(e))}get(e){return this._promise(()=>this.store.get(e))}getAll(e,t){return this._promise(()=>this.store.getAll(e,t))}getKey(e){return this._promise(()=>this.store.getKey(e))}getAllKeys(e,t){return this._promise(()=>this.store.getAllKeys(e,t))}add(e,t){return this._promise(()=>this.store.add(e,t)).then(t=>(this.db._broadcastChange({type:"update",store:this.store.name,key:t,value:e}),t))}put(e,t){return this._promise(()=>this.store.put(e,t)).then(t=>(this.db._broadcastChange({type:"update",store:this.store.name,key:t,value:e}),t))}delete(e){return this._promise(()=>this.store.delete(e)).then(()=>void this.db._broadcastChange({type:"delete",store:this.store.name,key:e}))}createIndex(e,t,n){return this.store.createIndex(e,t,n)}deleteIndex(e){this.store.deleteIndex(e)}getIndex(e){return new f(this,this.store.index(e))}_promise(e){return new Promise((t,n)=>{let r=e();r.onsuccess=()=>{t(r.result)},r.onerror=()=>{n(r.error)}})}}class f{constructor(e,t){this.store=e,this.index=t}get keyPath(){return this.index.keyPath}get multiEntry(){return this.index.multiEntry}get name(){return this.index.name}set name(e){this.index.name=e}get unique(){return this.index.unique}count(e){return this._promise(()=>this.index.count(e))}get(e){return this._promise(()=>this.index.get(e))}getAll(e,t){return this._promise(()=>this.index.getAll(e,t))}_promise(e){return new Promise((t,n)=>{let r=e();r.onsuccess=()=>{t(r.result)},r.onerror=()=>{n(r.error)}})}}class h extends d{constructor(){super(...arguments),this._delayed=[]}_flushDelayed(){this.abort=d.prototype.abort,this.objectStore=d.prototype.objectStore,this.transaction=this._db.db.transaction(this._stores,this._mode),function(e){let t=e.transaction,n=e._resolve;e._resolve=void 0;let r=e._reject;e._reject=void 0,t.oncomplete=()=>{n()},t.onerror=()=>{r(t.error)},t.onabort=()=>{e.aborted=!0,e.errorOnAbort?r(new Error("transaction aborted")):n()}}(this),this.aborted&&this.abort();for(let e of this._delayed)e._flushDelayed();this._delayed=[]}abort(){this.aborted=!0}objectStore(e){let t=this._db._lastSnapshot.storeInfo.get(e);if(!t)throw new Error("object store not found");let n=new m(this._db,{name:e,autoIncrement:t.autoIncrement,indexNames:t.indexNames,keyPath:t.keyPath},this);return this._delayed.push(n),n}}class m extends p{constructor(){super(...arguments),this._delayed=[]}_flushDelayed(){this.store=this.transaction.transaction.objectStore(this.store.name),this._promise=p.prototype._promise,this._delayed.forEach(({f:e,resolve:t,reject:n})=>{let r=e();r.onsuccess=()=>{t(r.result)},r.onerror=()=>{n(r.error)}}),this._delayed=[]}_promise(e){return new Promise((t,n)=>{this._delayed.push({f:e,resolve:t,reject:n})})}}function g(e,t){var n=new d((e,r)=>{t.oncomplete=()=>{e()},t.onerror=()=>{r(t.error)},t.onabort=()=>{n.aborted=!0,n.errorOnAbort?r(new Error("transaction aborted")):e()}});return n.db=e,n.transaction=t,n}function y(e,t){return new Promise((n,r)=>{let i=a.open(e.name,e.version),o=1,s=()=>{0==--o&&(e.db=i.result,n())};t&&(i.onupgradeneeded=n=>{e.db=i.result;let a=new c(e,i.transaction,n.oldVersion,n.newVersion),l=e=>{try{a._t.abort()}catch(e){}r(e)};o++,a._t.then(s).catch(l),o++;try{t(a).then(s).catch(l)}catch(e){l(e)}}),i.onsuccess=()=>{s()},i.onerror=()=>{r(i.error)}})}const v=console.log.bind(console),w=new u("scripter",2);const b=console.log.bind(console),_=-1!=navigator.platform.indexOf("Mac"),S={isMac:_,hasPointerEvents:"undefined"!=typeof PointerEvent},k=function(){};class E{constructor(){this.lastOpenScript=0,this.lastOpenScriptGUID="",this.editorViewState=null,this.menuVisible=!1,this.uiScale=1,this.showLineNumbers=!1,this.wordWrap=!0,this.monospaceFont=!0,this.showWhitespace=!1,this.indentGuides=!1,this.minimap=!1,this.quickSuggestions=!0,this.quickSuggestionsDelay=500,this.hoverCards=!0,this.fontLigatures=!1,this.windowSize=[r.MEDIUM,r.MEDIUM],this.useTabs=!0,this.tabSize=2,this.fontSize=(e,t)=>{e.uiScale=t>22?2:t>18?1.75:t>16?1.5:t>15?1.4:t>13?1.3:t>12?1.2:t>11?1.1:1}}}const x=new class extends s{constructor(){super(...arguments),this._dirtyProps=new Set,this._saveTimer=null,this.version=0,this.data=new E}get editorViewState(){return this.data.editorViewState}set editorViewState(e){this._set("editorViewState",e)}get lastOpenScript(){return this.data.lastOpenScript}set lastOpenScript(e){0!=e&&this._set("lastOpenScript",e)}get lastOpenScriptGUID(){return this.data.lastOpenScriptGUID}set lastOpenScriptGUID(e){this._set("lastOpenScriptGUID",e)}get uiScale(){return this.data.uiScale}set uiScale(e){this._set("uiScale",e)}get menuVisible(){return this.data.menuVisible}set menuVisible(e){this._set("menuVisible",e)}get showLineNumbers(){return this.data.showLineNumbers}set showLineNumbers(e){this._set("showLineNumbers",e)}get wordWrap(){return this.data.wordWrap}set wordWrap(e){this._set("wordWrap",e)}get monospaceFont(){return this.data.monospaceFont}set monospaceFont(e){this._set("monospaceFont",e)}get showWhitespace(){return this.data.showWhitespace}set showWhitespace(e){this._set("showWhitespace",e)}get indentGuides(){return this.data.indentGuides}set indentGuides(e){this._set("indentGuides",e)}get minimap(){return this.data.minimap}set minimap(e){this._set("minimap",e)}get quickSuggestions(){return this.data.quickSuggestions}set quickSuggestions(e){this._set("quickSuggestions",e)}get quickSuggestionsDelay(){return this.data.quickSuggestionsDelay}set quickSuggestionsDelay(e){this._set("quickSuggestionsDelay",e)}get hoverCards(){return this.data.hoverCards}set hoverCards(e){this._set("hoverCards",e)}get fontLigatures(){return this.data.fontLigatures}set fontLigatures(e){this._set("fontLigatures",e)}get windowSize(){return this.data.windowSize}set windowSize(e){this._set("windowSize",e)}get useTabs(){return this.data.useTabs}set useTabs(e){this._set("useTabs",e)}get tabSize(){return this.data.tabSize}set tabSize(e){this._set("tabSize",e)}_set(e,t){this.data[e]!==t&&(this.data[e]=t,this.dirty(e))}dirty(e){this._dirtyProps.add(e),null===this._saveTimer&&(this._saveTimer=setTimeout(()=>{this.saveDirty()},200)),this.version++,this.triggerEvent("change",{key:e})}async load(){let e=Object.keys(this.data),t=[];if(await w.read(["config"],...e.map(e=>n=>n.get(e).then(n=>{let r=this.data[e];r&&"function"==typeof r?void 0!==n&&t.push([e,()=>r(this.data,n)]):this.data[e]=void 0===n?this.data[e]:n}))),t.length>0){let e=t.map(e=>e[0]),n=[];console.log(`[scripter] migrating config keys ${e}`);for(let[e,r]of t)try{let t=r();void 0===t?n.push(e):this.data[e]=t}catch(t){console.warn(`[scripter] migration for config "${e}" failed: ${t.stack|t}`)}n.length>0&&await w.modify(["config"],async e=>{for(let t of n)e.delete(t)})}}async saveDirty(){let e=Array.from(this._dirtyProps);return this._dirtyProps.clear(),this.saveProps(e)}async saveAll(){return this.saveProps(Object.keys(this.data))}async saveProps(e){clearTimeout(this._saveTimer),this._saveTimer=null;let t=e.map(e=>this.data[e]);k("[config] save",e,t),await w.modify(["config"],async n=>{e.forEach((e,r)=>n.put(t[r],e))})}};var C=n(0),T=n.n(C),M=n(4),L=n.n(M);const P="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",I=62,O=P[0],A=(Math.log(I),Math.log(256),Math.log(256)/Math.log(I));const R="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?function(){let e=new Uint8Array(16);return crypto.getRandomValues(e),e}:function(){let e=new Uint8Array(16);for(let t=0;t<e.length;t++)e[t]=255*Math.random()>>>0;return e};function N(){return function(e){let t=0,n=0,r=0,i=e.length;for(;r!==i&&0==e[r];)r++,t++;let o=(i-r)*A+1>>>0,s=new Uint8Array(o);for(;r!==i;){let t=e[r],i=0;for(let e=o-1;(0!==t||i<n)&&-1!==e;e--,i++)t+=256*s[e]>>>0,s[e]=t%I>>>0,t=t/I>>>0;n=i,r++}let a=o-n;for(;a!==o&&0===s[a];)a++;let l=O.repeat(t);for(;a<o;++a)l+=P.charAt(s[a]);return l}(R())}var D=new class extends s{constructor(){super(...arguments),this.index={}}updateFromPlugin(e){this.index=e,this.triggerEvent("change")}hasGUID(e){return e in this.index}};const F=(()=>{let e=new Uint8Array(0);if(e.__proto__!==Object.prototype&&"function"==typeof e.__proto__.constructor){let t=e.__proto__.constructor;return e=>e instanceof t}return e=>e.buffer instanceof ArrayBuffer&&"BYTES_PER_ELEMENT"in e})();class U{constructor(e,t,n){this.__scripter_lazy_seq__="n",e>t?(this.length=t===1/0?1/0:Math.ceil(Math.max(0,e-t)/n),this.step=-n):(this.length=t===1/0?1/0:Math.ceil(Math.max(0,t-e)/n),this.step=n),this.start=e,this.end=t}[Symbol.iterator](){let e=this.start,t=this.end,n=this.step;return this.start<this.end?{next(){if(e>=t)return{done:!0,value:0};let r=e;return e+=n,{value:r,done:!1}}}:{next(){if(e<=t)return{done:!0,value:0};let r=e;return e+=n,{value:r,done:!1}}}}map(e){if(this.end===1/0)throw new Error("infinite sequence");let t=[];if(this.start<this.end)for(let n=0,r=this.start;r<this.end;r+=this.step)t.push(e(r,n++));else for(let n=0,r=this.start;r>this.end;r+=this.step)t.push(e(r,n++));return t}array(){if(this.end===1/0)throw new Error("infinite sequence");let e=[];if(this.start<this.end)for(let t=this.start;t<this.end;t+=this.step)e.push(t);else for(let t=this.start;t>this.end;t+=this.step)e.push(t);return e}toString(){if(this.end===1/0){let e="",t=0;for(let n of this){if(t>0){if(t>50){e+=" ... ∞";break}e+=", "}e+=n,t++}return e}return this.join(", ")}join(e){let t="",n=0;if(this.end===1/0)throw new Error("infinite sequence");for(let r of this)n>0&&(t+=e),t+=r,n++;return t}at(e){return this.start+this.step*e}}var z={__scripter_image_marker__:1,__scripter_lazy_seq__:1,__scripter_error__:1};function j(e){return"string"==typeof e?e:function e(t,n,r){let i=typeof t;if(null===t)return"null";if(void 0===t)return"undefined";let o=n+"  ";if("object"==i||"function"==i){if(r.has(t))return"[cyclic]";r.add(t)}if("object"==i){if(t instanceof ArrayBuffer)return"<ArrayBuffer "+t.byteLength+">";if(F(t)){let e=32/t.BYTES_PER_ELEMENT,n=t.length>e?t.subarray(0,e):t;return"<"+t.constructor.name+" "+t.length+(0==t.length?">":" ["+Array.from(n).map(e=>e.toString(16)).join(" ")+(n===t?"]>":" ...]>"))}if(Array.isArray(t))return t.length>10?"["+t.map(t=>o+e(t,o,r)).join(",")+"]":"["+t.map(t=>e(t,o,r)).join(", ")+"]";if("__scripter_lazy_seq__"in t)return t.__proto__=U.prototype,"LazySeq["+t.toString()+"]";if("__scripter_error__"in t){let e=t.__scripter_error__.str;return t.__scripter_error__.stack&&t.__scripter_error__.stack.length&&(e+="\n"+t.__scripter_error__.stack.join("\n")),e}if(Symbol.iterator in t){let i=t instanceof Map,s=Array.from(t),a=s.length>10,l=t.constructor.name+"{";if(0==s.length)return l+"}";for(let t=0;t<s.length;t++){let n=s[t];t>0&&(l+=","),l+=a?o:" ",l+=i?e(n[0],o,r)+" => "+e(n[1],o,r):e(n,o,r)}return l+(a?n:" ")+"}"}if(t instanceof Date)return String(t);let i=[];for(let n of Object.keys(t))if(!(n in z)){let s=B.test(n)?n:JSON.stringify(n);i.push(s+": "+e(t[n],o,r))}if(0==i.length)return"{}";let s=i.join(","+o);return-1!=s.indexOf("\n")||s.length>40?"{"+o+s+n+"}":"{ "+s+" }"}if("function"==i)return"[Function"+(t.name?" "+t.name:"")+"]";return JSON.stringify(t,null,2).replace(/\n/g,o)}(e,"\n",new Set)}const B=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;const V=[],W=[],q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var G=0,$=q.length;G<$;++G)V[G]=q[G],W[q.charCodeAt(G)]=G;function H(e,t,n){for(var r,i,o=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(V[(i=r)>>18&63]+V[i>>12&63]+V[i>>6&63]+V[63&i]);return o.join("")}function K(e){for(var t,n=e.length,r=n%3,i=[],o=0,s=n-r;o<s;o+=16383)i.push(H(e,o,o+16383>s?s:o+16383));return 1===r?(t=e[n-1],i.push(V[t>>2]+V[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(V[t>>10]+V[t>>4&63]+V[t<<2&63]+"=")),i.join("")}W["-".charCodeAt(0)]=62,W["_".charCodeAt(0)]=63;var Z=n(1);Z.editor.defineTheme("scripter-light",{base:"vs",inherit:!0,rules:[{token:"comment",foreground:"#999999",fontStyle:"italic"},{token:"comment.doc",foreground:"#666669",fontStyle:""},{token:"keyword",foreground:"#010101"},{token:"identifier",foreground:"#111111"},{token:"type.identifier",foreground:"#6f42c1"},{token:"number",foreground:"#005cc5"},{token:"string",foreground:"#032f62"},{token:"delimiter",foreground:"#555555"}],colors:{"editor.foreground":"#000000","editor.background":"#ffffff","editorCursor.foreground":"#000000","editorLineNumber.foreground":"#d9d9d9","editorIndentGuide.background":"#00000007","editorBracketMatch.background":"#ccffdf","editorBracketMatch.border":"#00000000","editorError.foreground":"#ff4499","editor.hoverHighlightBackground":"#fffddd","editorHoverWidget.background":"#fffadd","editorHoverWidget.border":"#F0E5A7"}});const X=Symbol("kViewZoneDOMObserver");var Q;!function(e){e[e.GENERIC=0]="GENERIC",e[e.PRINT=1]="PRINT",e[e.INPUT=2]="INPUT"}(Q||(Q={}));Symbol("kViewZoneType");class J extends s{constructor(e,t){super(),this.id="",this.editor=null,this.sourceLine=-1,this.sourceLineLen=1,this.suppressMouseDown=!1,this.sourceLine=this.afterLineNumber=e||0;let n=this.domNode=document.createElement("div");n.className="inlineWidget",t&&(n.className+=" "+t);let r=this.containerEl=document.createElement("div");n.appendChild(r),this.contentEl=document.createElement("div"),this.contentEl.className="content",r.appendChild(this.contentEl),this.buttonsEl=document.createElement("div"),this.buttonsEl.className="buttons",r.appendChild(this.buttonsEl);let i=document.createElement("div");i.innerText="✗",i.title="Dismiss",i.className="button closeButton sansSerif",i.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),this.removeFromEditor()},{passive:!1,capture:!0}),this.buttonsEl.appendChild(i)}removeFromEditor(){if(this.editor){let e=this.editor;e.viewZones.delete(this.id),e.editor.focus()}}moveToLine(e){e!=this.afterLineNumber&&(this.afterLineNumber=e,this.sourceLine=e)}prepareForLayout(){this.afterLineNumber=this.sourceLine;let e=this.domNode.cloneNode(!0);e.style.height="auto";let t=this.editor.measureHTMLElement(e);this.heightInPx=Math.max(16,t.height)}onWillAddToEditor(e){this.editor=e,this.sourceLine=this.afterLineNumber;let t=this.editor.measureHTMLElement(this.domNode);this.heightInPx=Math.max(16,t.height),this.onWillMount()}onDidAddToEditor(e,t){this.id=e,this._updateSourceLineLen(),this.triggerEvent("add",this.editor),t==this.constructor.name&&this.domNode.classList.add("updated")}onWillRemoveFromEditor(){this.onWillUnmount()}onDidRemoveFromEditor(){this.id="",this.editor=null,this.sourceLine=-1,this.triggerEvent("remove"),this.onDidUnmount(),this.removeAllListeners()}onMovedSourceLine(e){this.sourceLine;this.sourceLine=e,this._updateSourceLineLen()}_updateSourceLineLen(){try{this.sourceLineLen=this.editor.currentModel.getLineLength(this.sourceLine)}catch(e){console.warn("[scripter/ViewZone._updateSourceLineLen] "+`Model.getLineLength(${this.sourceLine}): ${e.stack||e}`),this.sourceLineLen=1}}onComputedHeight(e){!function(e,t,n){document.body.contains(t)&&n();var r=e[X];if(r)return void r[0].push({el:t,callback:n});let i=[{el:t,callback:n}];var o=new MutationObserver((t,n)=>{for(let e=0;e<i.length;){let t=i[e];document.body.contains(t.el)?(t.callback(),i.splice(e,1)):e++}0==i.length&&(n.disconnect(),e[X]=null)});let s=e.editor.getDomNode().querySelector(".view-zones");o.observe(s,{childList:!0,subtree:!0}),r=[i,o],e[X]=r}(this.editor,this.domNode,()=>{this.domNode.style.width=null,this.onDidMount()})}onWillMount(){}onDidMount(){}onWillUnmount(){}onDidUnmount(){}}class Y extends J{constructor(e,t,n,r){if(super(e.line,"printWidget"+(r.isError?" error":"")),this.pos=e,this.messageHtml=t,this.messageJs=n,this.contentEl.className+=" message monospace",this.contentEl.innerHTML=t,""!=t){let e=document.createElement("div");e.innerText="+",e.title="Add to script as code",e.className="button inlineButton sansSerif",e.addEventListener("click",e=>{e.stopPropagation(),e.preventDefault(),this.addAsCode()},{passive:!1,capture:!0}),this.buttonsEl.appendChild(e)}}addAsCode(){if(!this.editor)return;let e=this.editor,t=this.sourceLine;this.removeFromEditor();let n="\n"+this.messageJs;this.pos.column>1&&(n=n.replace(/\n/g,"\n"+"                                                                            ".substr(0,this.pos.column)));let r=new Z.Selection(t+1,this.pos.column+1,t+n.split("\n").length-1,9999);e.currentModel.pushEditOperations(e.editor.getSelections(),[{range:new Z.Range(t,999,t,999),text:n,forceMoveMarkers:!0}],e=>[r]);setTimeout(()=>{e.editor.setSelection(r)},1)}}class ee extends J{constructor(e,t){super(e,"inputWidget"),this.sendTimer=null,this.lastSentValue=void 0,this.done=!1,this.nextResolver=null,this.onInputInput=e=>{this.value=e,null===this.sendTimer&&(this.sendValue(),this.sendTimer=setTimeout(()=>this.sendValue(),1e3/30))},this.onInputChange=e=>{this.value=e,this.sendValue()},this.input=t,this.contentEl.appendChild(t.el),this.value=this.input.value}onDidMount(){this.input.on("change",this.onInputChange),this.input.on("input",this.onInputInput),this.input.onMountDOM()}onDidUnmount(){this.input.onUnmountDOM(),this.input.removeListener("change",this.onInputChange),this.input.removeListener("input",this.onInputInput),this.done=!0,this.sendValue()}sendValue(){clearTimeout(this.sendTimer),this.sendTimer=null,(this.done||this.nextResolver&&this.value!==this.lastSentValue)&&(this.lastSentValue=this.value,this.nextResolver&&(this.nextResolver({value:this.lastSentValue,done:this.done}),this.nextResolver=null))}enqueueResolver(e){this.nextResolver&&(console.warn("[scripter] enqueueResolver while this.nextResolver != null"),this.nextResolver({value:this.lastSentValue,done:this.done})),this.nextResolver=e}}class te extends s{constructor(e){super(),this.lineToZoneId=new Array,this.viewZones=new Map,this.count=0,this.onConfigChange=e=>{"uiScale"==e.key&&this.editor.editor.changeViewZones(e=>{for(let t of this.viewZones.values())t.prepareForLayout(),e.layoutZone(t.id)})},this.editor=e}clearAll(){this.lineToZoneId.length>0&&(this.clear(this.lineToZoneId),this.lineToZoneId=[],this.count=0,this.triggerEvent("update"))}clearAllUIInputs(){let e=[];for(let[t,n]of this.viewZones.entries())n instanceof ee&&e.push(t);e.length>0&&this.clear(e)}clear(e){this._clear(e)>0&&this.triggerEvent("update")}_clear(e){let t=this.count;return this.editor.editor.changeViewZones(t=>{for(let n of e)t.removeZone(this._removeZone(n))}),t>0&&0==this.count&&this.stopObservingChanges(),t-this.count}_removeZone(e){let t=this.viewZones.get(e);t&&(t.onWillRemoveFromEditor(),this.viewZones.delete(e),t.onDidRemoveFromEditor(),this.count--);let n=this.lineToZoneId.indexOf(e);return-1!=n&&delete this.lineToZoneId[n],e}updateAfterEdit(e,t,n,r,i,o){let s=n;if(o&fe.LAST_LINE_INTACT){if(s--,o&fe.ADD_LINE){let e=this.viewZones.get(this.lineToZoneId[n]);e&&this.editor.editor.changeViewZones(t=>{e.moveToLine(e.sourceLine+i),t.layoutZone(e.id)})}else if(o&fe.REMOVE_LINE){let r=this.viewZones.get(this.lineToZoneId[e]);r&&r.sourceLineLen<t&&(s++,void 0===this.lineToZoneId[n]&&e++)}}else if(o&fe.ADD_LINE){let r=this.viewZones.get(this.lineToZoneId[n]);r&&r.sourceLineLen<t&&(s--,e++)}let a=[],l=[],u=!1;for(let t in this.lineToZoneId){let n=Number(t),r=this.lineToZoneId[t];if(!u){if(n<e){a[t]=r;continue}u=!0}if(n<=s)l.push(r);else{let e=n+i;a[e]=r;let t=this.viewZones.get(r);t&&t.onMovedSourceLine(e)}}this.lineToZoneId=a,l.length>0&&this.clear(l)}get(e){return this.viewZones.get(this.lineToZoneId[e.line])||null}set(e){return this._set(e,!0)}add(e){return this._set(e,!1)}_set(e,t){let n=this.lineToZoneId[e.afterLineNumber];if(!t&&void 0!==n)return"";let r="";return this.editor.editor.changeViewZones(t=>{let i="";if(void 0!==n){const e=this.viewZones.get(n);e&&e.constructor&&e.constructor.name&&(i=e.constructor.name),t.removeZone(this._removeZone(n)),n=void 0}e.onWillAddToEditor(this.editor),r=t.addZone(e),this.viewZones.set(r,e),this.lineToZoneId[e.afterLineNumber]=r,e.onDidAddToEditor(r,i)}),this.count++,this.triggerEvent("update"),1==this.count&&this.startObservingChanges(),r}delete(e){this.clear([e])}startObservingChanges(){this.editor.startObservingChanges(),x.addListener("change",this.onConfigChange)}stopObservingChanges(){this.editor.stopObservingChanges(),x.removeListener("change",this.onConfigChange)}}function ne(e,t,...n){let r=document.createElement(e);if(t)for(let e in t)"style"==e?Object.assign(r.style,t[e]):"className"==e?r.className=t[e]:r.setAttribute(e,t[e]);for(let e of n)e instanceof Node?r.appendChild(e):null!=e&&r.appendChild(document.createTextNode(String(e)));return r}function re(e,t){e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),t()},{passive:!1,capture:!0})}var ie=new class{constructor(){this.stopCallbacks=new Set,this.isRunning=!1,this.isFadedOut=!1,this.pointerInsideAt=0,this.waitCount=0,this.waitTimer=null,this.waitSpinnerEl=null}addStopCallback(e){this.stopCallbacks.add(e),this.isRunning||(this.isRunning=!0,this.updateUI())}removeStopCallback(e){this.stopCallbacks.delete(e),0==this.stopCallbacks.size&&(this.isRunning=!1,this.updateUI())}incrWaitCount(){this.waitCount++,1==this.waitCount&&this.scheduleWaitIndicator()}decrWaitCount(){this.waitCount--,0==this.waitCount&&this.cancelWaitIndicator()}scheduleWaitIndicator(){if(null!==this.waitTimer)return console.warn("race error in toolbar/scheduleWaitIndicator");this.waitTimer=setTimeout(()=>{this.runButton.classList.toggle("hide-icon",!0)&&this.runButton.appendChild(ne("div",{className:"progress-spinner on"}))},100)}cancelWaitIndicator(){this.runButton.firstChild&&(this.runButton.classList.remove("hide-icon"),this.runButton.removeChild(this.runButton.firstChild)),clearTimeout(this.waitTimer),this.waitTimer=null}updateUI(){this.runButton.classList.toggle("running",this.isRunning),this.runButton.title=this.isRunning?_?"Stop  ⇧⌘⏎":"Stop  (Ctrl+Shift+Return)":_?"Run  ⌘⏎":"Run  (Ctrl+Return)"}fadeOut(){if(!this.isFadedOut){if(ft.isVisible||this.pointerInsideAt>0&&Date.now()-this.pointerInsideAt<3e4)return;this.isFadedOut=!0,this.el.classList.add("faded")}}fadeIn(){this.isFadedOut&&(this.isFadedOut=!1,this.el.classList.remove("faded"))}init(){this.el=document.getElementById("toolbar"),this.el.addEventListener("pointerenter",()=>{this.pointerInsideAt=Date.now(),this.fadeIn()}),this.el.addEventListener("pointerleave",()=>{this.pointerInsideAt=0}),this.menuButton=this.el.querySelector(".button.menu");let e=()=>{let e=ft.isVisible?"Hide":"Show",t=_?"⌃M":"(Ctrl+M)";this.menuButton.title=`${e} menu  ${t}`};e(),this.menuButton.addEventListener("click",t=>{ft.toggle(),e(),t.preventDefault(),t.stopPropagation()},{passive:!1,capture:!0});ft.on("visibility",()=>{this.el.classList.toggle("menuVisible",ft.isVisible),this.menuButton.classList.toggle("on",ft.isVisible)}),this.el.querySelector(".button.new").addEventListener("click",e=>{me.newScript({name:at.nextNewScriptName()}),e.preventDefault(),e.stopPropagation()},{passive:!1,capture:!0}),this.saveButton=this.el.querySelector(".button.save"),this.saveButton.addEventListener("click",e=>{me.saveScriptToFigma(),e.preventDefault(),e.stopPropagation()},{passive:!1,capture:!0});const t=()=>{let e=!1;me.currentScript&&me.currentScript.id>=0&&(e=!D.hasGUID(me.currentScript.guid)),this.saveButton.classList.toggle("hidden",!e)};t(),D.on("change",t),this.backButton=this.el.querySelector(".button.history-back"),this.backButton.addEventListener("click",e=>{me.historyBack(),me.focus(),e.preventDefault(),e.stopPropagation()},{capture:!0}),this.fwdButton=this.el.querySelector(".button.history-forward"),this.fwdButton.addEventListener("click",e=>{me.historyForward(),me.focus(),e.preventDefault(),e.stopPropagation()},{capture:!0});const n=()=>{this.backButton.classList.toggle("unavailable",!me.navigationHistory.canGoBack()),this.fwdButton.classList.toggle("unavailable",!me.navigationHistory.canGoForward())};me.navigationHistory.on("change",n),n(),this.clearButton=this.el.querySelector(".button.clear"),this.clearButton.title="Clear messages  "+(_?"⌘K":"(Ctrl+L)"),re(this.clearButton,()=>{ge(),me.clearMessages()});const r=()=>{let e=this.clearButton.classList,t=!me.currentScript||me.currentScript.isROLib;e.toggle("hidden",t),t||e.toggle("unavailable",0==me.viewZones.count&&0==me.editorDecorationIds.length)};r(),me.viewZones.on("update",r),me.on("decorationchange",r),this.runButton=this.el.querySelector(".button.run"),re(this.runButton,()=>{if(this.isRunning)for(let e of this.stopCallbacks)try{e()}catch(e){console.error(`[toolbar] error in stopCallback: ${e.stack||e}`)}else me.runCurrentScript()});const i=()=>{let e=!me.currentScript||me.currentScript.isROLib;this.runButton.classList.toggle("hidden",e)};i(),at.on("change",()=>{t(),r(),i()}),function(e){let t=e.querySelector(".title"),n=t.querySelector("input");const r=new class{constructor(){this.active=!1,this.restoreValue="",this.scriptID=0}begin(){k("title/editSession/begin"),this.active=!0,this.restoreValue=n.value,this.scriptID=me.currentScript.id,n.select(),requestAnimationFrame(()=>n.select())}cancel(){k("title/editSession/cancel"),n.value=this.restoreValue,this.active=!1,me.focus()}commit(){k("title/editSession/commit"),this._commit(),me.focus()}end(){k("title/editSession/end"),this.active&&this._commit(),this.restoreValue=""}_commit(){this.active=!1,this.scriptID==me.currentScript.id&&(me.currentScript.name=n.value,me.currentScript.save())}};n.onfocus=()=>{t.classList.add("focus"),n.readOnly||r.begin()},n.onblur=()=>{t.classList.remove("focus"),r.end()},n.addEventListener("keydown",e=>{switch(e.key){case"Escape":r.cancel();break;case"Enter":r.commit();break;default:return}e.stopPropagation(),e.preventDefault()},{capture:!0,passive:!1}),n.addEventListener("pointerdown",e=>{e.stopPropagation()},{capture:!0,passive:!1}),t.onpointerdown=e=>{r.active||n.focus()};at.on("change",()=>{if(!me.currentScript)return;let e=me.currentScript.name;r.active?r.restoreValue=e:n.value=e,n.readOnly=!me.currentScript.isUserScript})}(this.el),this.updateUI()}};class oe extends s{constructor(){super(...arguments),this.stack=[],this.cursor=-1}get currentEntry(){return this.stack[this.cursor]}backCount(){return this.cursor}forwardCount(){return this.stack.length-(this.cursor+1)}canGoBack(){return this.backCount()>0}canGoForward(){return this.forwardCount()>0}goBack(){if(this.cursor<=0)throw new Error("empty history stack");return this.cursor--,this.triggerEvent("change"),this.stack[this.cursor]}goForward(){if(this.cursor==this.stack.length-1)throw new Error("at end of history stack");return this.cursor++,this.triggerEvent("change"),this.stack[this.cursor]}push(e){this.cursor++,this.stack.length>this.cursor?(this.stack[this.cursor]=e,this.stack.length=this.cursor+1):(this.stack.push(e),this.stack.length>100&&(this.stack.shift(),this.cursor--)),this.triggerEvent("change")}createSnapshot(){return{stack:this.stack.slice(),cursor:this.cursor}}restoreSnapshot(e){this.stack.length=0,this.stack.splice(0,0,...e.stack),this.cursor=Math.min(e.cursor,e.stack.length),this.triggerEvent("change")}}const se=!1,ae=Z.languages.typescript,le=(Symbol("Locked"),Symbol("OnUnlock"),12),ue="iaw-quattro-var, iaw-quattro, monospace, 'Inter var'",ce="jbmono, monospace, 'Inter var'",de={lineDecorationsWidth:16,lineNumbers:"off",lineNumbersMinChars:3,wordWrap:"off",wrappingIndent:"same",scrollBeyondLastLine:!1,scrollBeyondLastColumn:2,smoothScrolling:!0,useTabStops:!0,showUnused:!1,folding:!1,cursorBlinking:"smooth",renderLineHighlight:"none",renderWhitespace:"selection",renderControlCharacters:!1,multiCursorModifier:_?"ctrlCmd":"alt",dragAndDrop:!0,fontSize:le,fontFamily:ue,disableMonospaceOptimizations:!1,extraEditorClassName:"scripter-light",links:!1,codeLens:!1,lightbulb:{enabled:!1},quickSuggestions:!0,quickSuggestionsDelay:800,acceptSuggestionOnEnter:"smart",suggestSelection:"recentlyUsedByPrefix",tabCompletion:"on",hover:{enabled:!0,delay:1e3},suggest:{localityBonus:!0,shareSuggestSelections:!0,hideStatusBar:!1},scrollbar:{useShadows:!1,verticalScrollbarSize:9,verticalSliderSize:5,horizontalScrollbarSize:9,horizontalSliderSize:5},minimap:{enabled:!1}},pe={allowNonTsExtensions:!0,target:ae.ScriptTarget.ES2019,allowUnreachableCode:!0,allowUnusedLabels:!0,removeComments:!0,module:ae.ModuleKind.ES2015,sourceMap:!0,strictNullChecks:!0,newLine:ae.NewLineKind.LineFeed,noImplicitAny:!1,suppressImplicitAnyIndexErrors:!0,jsx:ae.JsxEmit.React,jsxFactory:"DOM.createElement"};var fe;!function(e){e[e.NONE=0]="NONE",e[e.ADD_LINE=1]="ADD_LINE",e[e.REMOVE_LINE=2]="REMOVE_LINE",e[e.LAST_LINE_INTACT=4]="LAST_LINE_INTACT"}(fe||(fe={}));const he=Symbol("script");const me=new class extends s{constructor(){super(),this.defaultFontSize=le,this.options=Object.assign({},de),this.viewZones=new te(this),this._currentScriptId=-1,this._nextModelId=0,this._saveViewStateTimer=null,this._lineNumberOffset=0,this.hiddenAreas=[],this.editorDecorationIds=[],this.decorationCallbacks=new Map,this.changeObservationEnabled=!1,this.changeObservationActive=!1,this.changeObservationLastLineCount=0,this.isInitialized=!1,this.onCurrentScriptSave=e=>{if(k("script saved"),this._currentScriptId=this._currentScript.id,x.lastOpenScriptGUID=this._currentScript.guid,0==this._currentScript.modelVersion){let e=this._currentScriptId;this.editorPromise.then(()=>{e==this._currentScriptId&&this._currentModel.setValue(this._currentScript.body)})}},this._isSwitchingModel=!1,this.runDebounceTimer=null,this.currentEvalPromise=null,this._changeObservationRefCount=0,this._semdiag=new Map,this._measureEl=null,this.navigationHistory=new oe,this.historyLoadVersion=0,this.editorPromise=new Promise(e=>{this._editorPromiseResolve=e})}fmtLineNumber(e){return(e-this._lineNumberOffset).toString(10)}get currentModel(){return this._currentModel}get currentScript(){return this._currentScript}get currentScriptId(){return this._currentScript?this._currentScript.id:-1}getModel(e){if(this._currentScript===e)return this._currentModel;let t=this.modelURIForScript(e),n=Z.editor.getModel(t);if(n)return k(`editor/getModel: using exising model for ${t}`),n;k(`editor/getModel: creating new model for ${t}`),n=Z.editor.createModel(e.body,"typescript",t),n.updateOptions({tabSize:x.tabSize,indentSize:x.tabSize,insertSpaces:!x.useTabs,trimAutoWhitespace:!0}),n[he]=e;let r=e=>{this.disposeModel(e),e.removeListener("delete",r)};return e.on("delete",r),this.initEditorModel(n),n}disposeModel(e){let t=this.modelURIForScript(e),n=Z.editor.getModel(t);n?this._currentModel!==n?(k(`editor/disposeModel ${e}`),n.dispose()):console.warn("editor/disposeModel attempting to dispose active model (ignoring)"):console.warn(`editor/disposeModel ${e}: no active model`)}modelURIForScript(e){let t=e.guid;return t.endsWith(".d.ts")||(t="scripter."+t+".tsx"),Z.Uri.file(t)}setCurrentScriptFromUserAction(e){this.setCurrentScript(e),this.historyPush()}setCurrentScript(e){let t=this.getModel(e);if(t===this._currentModel)return t;if(e.isLoaded||console.warn("editor/setCurrentScript with not-yet-loaded script",e),this._currentScript&&this._currentScript.removeListener("save",this.onCurrentScriptSave),this._currentModel=t,this.editor){this.clearAllMetaInfo(),this.setModel(t),this.updateOptions({readOnly:e.isROLib});let n=()=>{this.editor.layout(),this.editor.focus()};n(),requestAnimationFrame(()=>{n(),this.restoreViewState(),setTimeout(n,1),setTimeout(n,100),this.updateHiddenAreas()}),this.updateHiddenAreas()}return this._currentScript=e,this._currentScriptId=e.id,this._currentScript.on("save",this.onCurrentScriptSave),x.lastOpenScriptGUID=e.guid,t}setModel(e){this.editor.getModel()!==e&&this.editor.setModel(e),this._currentModel=e,this.editor&&this.updateHiddenAreas()}async switchToScript(e){await this.editorPromise;return this.stopCurrentScript(),this.setCurrentScriptFromUserAction(e),this._currentScript}async newScript(e,t=""){let n=rt.create(e,t);return this.switchToScript(n)}async openScript(e){return this._currentScript.guid==e.guid||this._currentScriptId==e.id?(this.editor.focus(),this._currentScript):(k(`open script ${e}`),this._currentScriptId=e.id,this.stopCurrentScript(),this._currentScriptId!=e.id?null:this.switchToScript(e))}async openScriptByID(e){if(this._currentScript&&this._currentScript.id==e)return this.editor.focus(),this._currentScript;let t=await at.getScript(e);return t?this.openScript(t):(console.error(`openScriptByID(${e}) failed (not found)`),null)}async openScriptByGUID(e){if(!e)return null;if("string"!=typeof e)throw new Error("invalid guid");if(this._currentScript&&this._currentScript.guid==e)return this.editor.focus(),this._currentScript;let t=await at.getScriptByGUID(e);return t?this.openScript(t):null}async saveScriptToFigma(){this.currentScript.saveToFigma({createIfMissing:!0}),me.focus(),requestAnimationFrame(()=>me.focus())}async loadScriptFromFigma(e){let t=e.script;k("editor.loadScriptFromFigma",t.guid,t.name);let n=await this.openScriptByGUID(t.guid);n?(k("editor.loadScriptFromFigma found local version of script"),n.body!=t.body&&n.body.trim()!=t.body.trim()&&(""==n.body.trim()||confirm("Replace script?\nThe script in the Figma file differs from the script stored locally. Would you like to update your local version with the script?"))&&(n.body=t.body)):(k("editor.loadScriptFromFigma no local version; creating new"),n=await this.newScript({guid:t.guid,name:t.name},t.body))}restoreViewState(){let e=this._currentScript.editorViewState;e&&this.editor.restoreViewState(e)}saveViewState(){clearTimeout(this._saveViewStateTimer),this._saveViewStateTimer=null,this._currentScript.editorViewState=this.editor.saveViewState()}setNeedsSaveViewState(){null===this._saveViewStateTimer&&(this._saveViewStateTimer=setTimeout(()=>this.saveViewState(),200))}getEffectiveOptions(){let e={lineNumbers:x.showLineNumbers?this.fmtLineNumber.bind(this):"off",wordWrap:x.wordWrap?"on":"off",quickSuggestions:x.quickSuggestions,quickSuggestionsDelay:x.quickSuggestionsDelay,renderWhitespace:x.showWhitespace?"all":"selection",renderControlCharacters:x.showWhitespace,renderIndentGuides:x.indentGuides,fontSize:le*x.uiScale};return e.minimap=Object.assign(Object.assign({},this.options.minimap),{enabled:x.minimap}),e.hover=Object.assign(Object.assign({},this.options.hover),{enabled:x.hoverCards}),x.monospaceFont?(e.fontFamily=ce,e.disableMonospaceOptimizations=!1,document.body.classList.toggle("font-ligatures",x.fontLigatures)):(e.fontFamily=ue,e.disableMonospaceOptimizations=!0,document.body.classList.add("font-ligatures")),e}updateOptionsFromConfig(){this.updateOptions(this.getEffectiveOptions()),this.currentModel.updateOptions({tabSize:x.tabSize,indentSize:x.tabSize,insertSpaces:!x.useTabs})}updateOptions(e){let t=!1;for(let n in e){let r=e[n];"extraEditorClassName"==n&&(r=`scripter-light ${r}`.trim()),this.options[n]!==r&&(this.options[n]=r,t=!0)}return t&&this.editor&&this.editor.updateOptions(this.options),t}focus(){this.editor.focus()}async runCurrentScript(){if(null!==this.runDebounceTimer)return;if(this.runDebounceTimer=setTimeout(()=>{this.runDebounceTimer=null},100),this._currentScript.isROLib)return;this.stopCurrentScript(),this.clearAllMetaInfo();let e,t=()=>{this.stopCurrentScript()};ie.addStopCallback(t),ie.incrWaitCount();try{e=await this.compileCurrentScript()}finally{ie.decrWaitCount()}if(e.code.length>0){try{this.currentEvalPromise=function(e,t){e=e.replace(/\n\/\/#\s*sourceMappingURL=.+/,"");let n=(xe++).toString(36),r=new Promise(async(r,i)=>{Ee.set(n,{resolve:r,reject:i,sourceMapJSON:t}),k(`send eval request ${n}\n${e}`),ke.send({type:"eval",id:n,js:e})});return r.id=n,r.cancel=e=>(function(e,t){let n=Ce(e);if(!n)return!1;ke.send({type:"eval-cancel",id:e}),t?n.reject(t):n.resolve(void 0);return!0})(n,e),r}(e.code,e.sourceMap),await this.currentEvalPromise}catch(e){}this.currentEvalPromise=null,this.viewZones.clearAllUIInputs()}ie.removeStopCallback(t),clearTimeout(this.runDebounceTimer),this.runDebounceTimer=null,this.editor.focus()}isScriptRunning(){return!!this.currentEvalPromise}stopCurrentScript(){k("stopCurrentScript"),this.currentEvalPromise&&this.currentEvalPromise.cancel(),this.viewZones.clearAllUIInputs()}async compileCurrentScript(){let e,t=this.currentModel;try{let n=await Z.languages.typescript.getTypeScriptWorker(),r=await n(t.uri);e=await r.getEmitOutput(t.uri.toString())}finally{}let n={code:"",sourceMap:""};if(e.outputFiles&&e.outputFiles.length)for(let t of e.outputFiles)/\.map$/.test(t.name)?n.sourceMap=t.text:n.code=t.text;return n}clearAllMetaInfo(){ge(),this.clearAllDecorations(),this.viewZones.clearAll(),this.clearHoverCards()}clearMessages(){this.clearAllDecorations(),this.viewZones.clearAll(),this.editor.focus()}clearHoverCards(){if(this.options.hover.enabled){let e=Object.assign(Object.assign({},this.options),{hover:{enabled:!1}});this.editor.updateOptions(e),requestAnimationFrame(()=>this.editor.updateOptions(this.options))}}clearAllDecorations(){this.decorationCallbacks.clear(),this.editor.deltaDecorations(this.editorDecorationIds,[]),this.editorDecorationIds=[],this.triggerEvent("decorationchange")}removeDecorations(e){let t=new Set(e);this.editorDecorationIds=this.editorDecorationIds.filter(e=>!t.has(e));for(let t of e)this.decorationCallbacks.delete(t);this.editor.deltaDecorations(e,[]),this.triggerEvent("decorationchange")}addDecorations(e,t){let n=this.editor.deltaDecorations([],e);if(this.editorDecorationIds.length>0?this.editorDecorationIds=this.editorDecorationIds.concat(n):(this.editorDecorationIds=n,this.startObservingChanges()),t)for(let e of n)this.decorationCallbacks.set(e,t);this.triggerEvent("decorationchange")}decorateError(e,t){setTimeout(()=>{this.editor.revealLineInCenterIfOutsideViewport(e.line,Z.editor.ScrollType.Smooth)},1),this.addDecorations([{range:new Z.Range(e.line,e.column+1,e.line,e.column+999),options:{className:"runtimeErrorDecoration",stickiness:Z.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,hoverMessage:{value:"**Runtime error:** `"+t+"`",isTrusted:!0},overviewRuler:{position:Z.editor.OverviewRulerLane.Full,color:"rgba(255,200,0,0.5)"}}}],e=>{this.removeDecorations([e.id]),ge()})}stopObservingChanges(){if(0==this._changeObservationRefCount)throw new Error("unbalanced call to stopObservingChanges");this._changeObservationRefCount--,0==this._changeObservationRefCount&&(this.changeObservationActive=!1,this.changeObservationLastLineCount=0)}startObservingChanges(){this._changeObservationRefCount++,this._changeObservationRefCount>1||(this.changeObservationActive||(this.changeObservationActive=!0,this.changeObservationLastLineCount=this.currentModel.getLineCount()),this.changeObservationEnabled||(this.changeObservationEnabled=!0,this.editor.onDidChangeModelContent(e=>{if(this.updateHiddenAreas(),e.isFlush)return void this.clearAllMetaInfo();if(!this.changeObservationActive)return;let t=this.currentModel.getLineCount(),n=t-this.changeObservationLastLineCount;this.changeObservationLastLineCount=t;let r=1/0,i=0,o=0,s=999999;for(let t of e.changes)t.range.startLineNumber<r&&(r=t.range.startLineNumber,i=t.range.startColumn),t.range.endLineNumber>o&&(o=t.range.endLineNumber,s=t.range.endColumn);let a=fe.NONE;if(1==e.changes.length){let t=e.changes[0];t.range;if(""==t.text)1==s&&(a|=fe.REMOVE_LINE,a|=fe.LAST_LINE_INTACT,o==r&&console.warn("[scripter] unexpected condition: endLine == startLine"));else{let e=t.text.charCodeAt(t.text.length-1);10!=e&&13!=e||(a|=fe.ADD_LINE,1==s&&(a|=fe.LAST_LINE_INTACT))}}this.viewZones.updateAfterEdit(r,i,o,s,n,a);for(let t of e.changes){let e={startLineNumber:t.range.startLineNumber,startColumn:0,endLineNumber:t.range.endLineNumber,endColumn:99999},n=this.currentModel.getDecorationsInRange(e);for(let e of n){let t=this.decorationCallbacks.get(e.id);t&&t(e)}}})))}async getSemanticDiagnostics(e){let t=this._semdiag.get(e);if(!t)try{let n=await Z.languages.typescript.getTypeScriptWorker(),r=await n(e.uri);t=await r.getSemanticDiagnostics(e.uri.toString()),this._semdiag.set(e,t)}finally{}return t}async invalidateDiagnostics(e){this._semdiag.delete(e)}measureHTMLElement(e){let t=this._measureEl;t||(t=document.createElement("div"),t.style.position="absolute",t.style.visibility="hidden",t.style.pointerEvents="none",document.getElementById("editor").appendChild(t),this._measureEl=t),t.children.length>0&&(t.innerText="");let n=e.style.position;e.style.position="absolute",t.appendChild(e);let r={width:e.clientWidth,height:e.clientHeight};return t.removeChild(e),e.style.position=n,r}async initHistory(){const e=await w.get("history","navigationHistory");e&&(k("editor restoring navigationHistory",e),this.navigationHistory.restoreSnapshot(e));let t=null,n=()=>{clearTimeout(t),t=null;const e=this.navigationHistory.createSnapshot();w.put("history",e,"navigationHistory").then(()=>{k("editor saved navigationHistory")})};xt.on("close",n),this.navigationHistory.on("change",()=>{null===t&&(t=setTimeout(n,300))})}historySwitchToScript(e){let t=at.scriptsByGUID.get(e);if(!t)return!1;let n=++this.historyLoadVersion;return t.whenLoaded(()=>{this.historyLoadVersion==n&&this.setCurrentScript(t)}),!0}historyBack(){if(this.navigationHistory.canGoBack())for(;;){let e=this.navigationHistory.goBack();if(k("editor/historyBack; this.navigationHistory.goBack() =>",e),!e)break;if(this.historySwitchToScript(e.scriptGUID))break}}historyForward(){if(this.navigationHistory.canGoForward())for(;;){let e=this.navigationHistory.goForward();if(k("editor/historyForward; this.navigationHistory.goForward() =>",e),!e)break;if(this.historySwitchToScript(e.scriptGUID))break}}historyPush(){let e=this.navigationHistory.currentEntry;e&&e.scriptGUID==this._currentScript.guid?k("editor/historyPush ignore (script already current)"):(e={scriptGUID:this._currentScript.guid},k("editor/historyPush =>",e),this.navigationHistory.push(e))}async monacoOpenCodeEditor(e,t){if(t!==this.editor)return k("monacoOpenCodeEditor got unexpected editor object (!== this.editor)",t),null;if(!e.resource)return null;let n=Z.editor.getModel(e.resource);if(!n)return null;let r=n[he];if(!r)return null;this.setCurrentScriptFromUserAction(r);let i=e.options&&e.options.selection||null;if(i){let e=()=>{if("number"==typeof i.endLineNumber&&"number"==typeof i.endColumn)t.setSelection(i),t.revealRangeInCenter(i,Z.editor.ScrollType.Immediate);else{let e={lineNumber:i.startLineNumber,column:i.startColumn};t.setPosition(e),t.revealPositionInCenter(e,Z.editor.ScrollType.Immediate)}};e(),setTimeout(e,1)}return t}async init(){this.initTypescript();const e=this.initHistory();let t=await async function(){let e=null,t=x.lastOpenScriptGUID;try{""!=t?e=await at.getScriptByGUID(t):0!=x.lastOpenScript&&(e=await at.getScript(x.lastOpenScript))}catch(e){console.error("failed to reopen last open script:",e.stack)}if(!e&&at.scripts.length){let t=0;for(let e of at.scripts)if(0!=e.id){t=e.id;break}0!=t&&(e=await at.getScript(t))}e||(e=at.defaultSampleScript);return e}(),n=this.setCurrentScript(t);e.then(()=>this.historyPush()),this.updateOptionsFromConfig(),__scripterMonaco.patchEditorService(this.monacoOpenCodeEditor.bind(this)),__scripterMonaco.patchEditorModelResolverService((e,t)=>Z.editor.getModel(t)),__scripterMonaco.patchUriLabelService((e,t)=>{let n=Z.editor.getModel(e);if(n){let e=n[he];if(e)return e.name}return"file"===e.scheme?e.fsPath:e.path}),__scripterMonaco.patchBasenameOrAuthority(e=>{if(e&&-1!=e.path.indexOf("scripter.")){let t=Z.editor.getModel(e)[he];if(t)return t.name}}),this.editor=Z.editor.create(document.getElementById("editor"),Object.assign(Object.assign({model:n,theme:"scripter-light"},this.options),{readOnly:t.isROLib})),this.updateHiddenAreas(),this.initEditorActions(),this.restoreViewState(),this.initEditorModel(n);const r=()=>{Z.editor.remeasureFonts(),this.editor.layout(),this.editor.focus()};r(),setTimeout(r,100),setTimeout(r,500),this.initEditorEventHandlers(),await at.libLoadPromise;for(let e of at.referenceScripts)this.getModel(e);x.on("change",()=>{this.updateOptionsFromConfig()}),ft.menuUIMountPromise.then(()=>{ft.scrollToActiveItem(),requestAnimationFrame(()=>{ft.scrollToActiveItem()})}),this.isInitialized=!0,this.triggerEvent("init"),this.triggerEvent("modelchange"),this._editorPromiseResolve(this.editor),this._editorPromiseResolve=null}updateHiddenAreas(){let e=[];if(this._lineNumberOffset=0,!this._currentScript.isROLib){let t=this._currentModel.getLineCount();e=[new Z.Range(1,1,1,1),new Z.Range(t,1,t,1)],this._lineNumberOffset=1}this.hiddenAreas=e,se||this.editor.setHiddenAreas(e),this.adjustSelection()}ensureTrailingNewline(){const e=this.currentModel.getLineCount()-1,t=this.currentModel.getLineContent(e);if(t.trim().length>0){console.log({lastVisibleLineContent:t});const n=this.editor.saveViewState();this.currentModel.applyEdits([{range:new Z.Range(e,1/0,e,1/0),text:"\n",forceMoveMarkers:!1}]),this.editor.restoreViewState(n)}}initEditorActions(){this.editor.addAction({id:"scripter-run-script",label:"Run Script",keybindings:[Z.KeyMod.CtrlCmd|Z.KeyCode.Enter],contextMenuGroupId:"navigation",contextMenuOrder:0,run:e=>(this.runCurrentScript(),null)})}adjustSelection(){const e=this.hiddenAreas;if(0==e.length||!this.editor)return;let t=this.editor.getSelections();if(!t||0==t.length)return;let[n]=e,r=!1,i=this._currentModel.getLineCount();for(let e=0;e<t.length;e++){let o=t[e];o.startLineNumber<=n.endLineNumber&&(se&&k("sel.startLineNumber <= header.endLineNumber",o.startLineNumber,"<=",n.endLineNumber),t[e]=o=o.setStartPosition(n.endLineNumber+1,1),r=!0),o.endLineNumber>=i&&(se&&k("sel.endLineNumber >= footerLine",o.endLineNumber,"<=",i),t[e]=o=o.setEndPosition(i-1,1),r=!0)}r&&(se?k("patch selection (DEBUG_HIDDEN_AREAS)",this.editor.getSelections(),"=>",t):k("patch selection (set DEBUG_HIDDEN_AREAS=true to debug)",t),this.editor.setSelections(t))}initEditorEventHandlers(){const e=this.editor;let t=!1,n=!1;e.onDidChangeModelContent(t=>{if(!n&&!this._isSwitchingModel){const t=this._currentScript;if(t.isUserScript)t.updateBody(this._currentModel.getValue(),this._currentModel.getAlternativeVersionId());else{let r=t.duplicate({name:"Copy of "+t.name});r.updateBodyNoDirty(this._currentModel.getValue(),this._currentModel.getAlternativeVersionId()),n=!0,e.trigger("","undo",{}),n=!1,this.setCurrentScriptFromUserAction(r)}}t.isFlush&&this.updateHiddenAreas()}),e.onDidChangeCursorSelection(e=>{this.adjustSelection(),t||n||this.setNeedsSaveViewState()}),e.onDidChangeModel(e=>{e.newModelUrl&&this.triggerEvent("modelchange")});const r={[Z.KeyCode.Alt]:1,[Z.KeyCode.Shift]:1,[Z.KeyCode.Ctrl]:1,[Z.KeyCode.Meta]:1,[Z.KeyCode.ContextMenu]:1};e.onKeyDown(e=>{e.keyCode in r||ie.fadeOut()}),e.addCommand(Z.KeyMod.CtrlCmd|Z.KeyMod.Shift|Z.KeyCode.KEY_P,t=>{e.trigger("","editor.action.quickCommand",{})}),e.addCommand(Z.KeyCode.F1,t=>{e.trigger("","editor.action.quickCommand",{})}),e.addCommand(Z.KeyMod.CtrlCmd|Z.KeyCode.KEY_P,t=>{e.trigger("","editor.action.quickOutline",{})}),e.addCommand(Z.KeyCode.F12,t=>{e.trigger("","editor.action.revealDefinition",{})}),e.addCommand(Z.KeyCode.F11,t=>{e.trigger("","editor.action.peekDefinition",{})}),e.addCommand(Z.KeyMod.CtrlCmd|Z.KeyMod.Alt|Z.KeyCode.US_SLASH,t=>{e.trigger("","editor.action.blockComment",{})}),w.on("remotechange",async r=>{if("update"==r.type)if("scriptViewState"==r.store&&r.key==this._currentScript.id){let n=await this._currentScript.reloadEditorViewState();t=!0,e.restoreViewState(n),t=!1}else"scriptBody"==r.store&&r.key==this._currentScript.id?(await this._currentScript.load(),n=!0,t=!0,this._currentModel.setValue(this._currentScript.body),e.restoreViewState(this._currentScript.editorViewState),n=!1,t=!1):"scripts"==r.store&&at.refresh()}),window.addEventListener("resize",()=>{this.editor.layout(),setTimeout(()=>this.editor.layout(),100)})}async initTypescript(){let e=Z.languages.typescript.typescriptDefaults;e.setMaximumWorkerIdleTime(864e5),e.setCompilerOptions(pe),e.setEagerModelSync(!0)}initEditorModel(e){let t=[],n=!1;e.onWillDispose(()=>{e.onDidChangeDecorations(()=>{}),e.onWillDispose(()=>{}),me.invalidateDiagnostics(e)}),e.onDidChangeDecorations(async r=>{if(!n){n=!0;try{let r=Z.editor.getModelMarkers({owner:"typescript"});if(0==r.length||r===t)return;if(r.length==t.length){let e=!1;for(let n=0;n<r.length;n++)if(r[n]!==t[n]){e=!0;break}if(!e)return}t=r;const i=/['"]?return['"]? statement can only be used within a function body/i;let o=r.length,s=null,a=0;for(let t=0;t<r.length;a++){let n=r[t];if(i.test(n.message))r.splice(t,1);else{if(-1!=n.message.indexOf("'await'")){let i;null===s&&(s=await me.getSemanticDiagnostics(e));for(let e of s)if(e.messageText==n.message){i=e;break}if(i&&1308==i.code&&!i.relatedInformation){r.splice(t,1);continue}}else if(-1!=n.message.indexOf("'for-await-of'")){r.splice(t,1);continue}t++}}o!=r.length&&Z.editor.setModelMarkers(e,"typescript",r)}finally{n=!1}}})}};function ge(){document.body.classList.remove("showMessage"),me.editor.layout(),me.focus()}const{SourceMapConsumer:ye,BasicSourceMapConsumer:ve,IndexedSourceMapConsumer:we,SourceMapGenerator:be,SourceNode:_e}=function(e,t){var r,i;return r="undefined"!=typeof self?self:this,i=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};const n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function i(e){const t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){let t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}t.urlParse=i,t.urlGenerate=o;const s=function(e){const n=[];return function(e){for(let t=0;t<n.length;t++)if(n[t].input===e){const e=n[0];return n[0]=n[t],n[t]=e,n[0].result}const r=function(e){let n=e;const r=i(e);if(r){if(!r.path)return e;n=r.path}const s=t.isAbsolute(n),a=[];let l=0,u=0;for(;;){if(l=u,-1===(u=n.indexOf("/",l))){a.push(n.slice(l));break}for(a.push(n.slice(l,u));u<n.length&&"/"===n[u];)u++}let c=0;for(u=a.length-1;u>=0;u--){const e=a[u];"."===e?a.splice(u,1):".."===e?c++:c>0&&(""===e?(a.splice(u+1,c),c=0):(a.splice(u,2),c--))}return""===(n=a.join("/"))&&(n=s?"/":"."),r?(r.path=n,o(r)):n}(e);return n.unshift({input:e,result:r}),n.length>32&&n.pop(),r}}();function a(e,t){""===e&&(e="."),""===t&&(t=".");const n=i(t),a=i(e);if(a&&(e=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),o(n);if(n||t.match(r))return t;if(a&&!a.host&&!a.path)return a.host=t,o(a);const l="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=l,o(a)):l}t.normalize=s,t.join=a,t.isAbsolute=function(e){return"/"===e.charAt(0)||n.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");let n=0;for(;0!==t.indexOf(e+"/");){const r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};const l=!("__proto__"in Object.create(null));function u(e){return e}function c(e){if(!e)return!1;const t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(let n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function d(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=l?u:function(e){return c(e)?"$"+e:e},t.fromSetString=l?u:function(e){return c(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){let r=d(e.source,t.source);return 0!==r?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)||n?r:0!=(r=e.generatedColumn-t.generatedColumn)?r:0!=(r=e.generatedLine-t.generatedLine)?r:d(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){let r=e.generatedLine-t.generatedLine;return 0!==r?r:0!=(r=e.generatedColumn-t.generatedColumn)||n?r:0!==(r=d(e.source,t.source))?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)?r:d(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){let n=e.generatedLine-t.generatedLine;return 0!==n?n:0!=(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=d(e.source,t.source))?n:0!=(n=e.originalLine-t.originalLine)?n:0!=(n=e.originalColumn-t.originalColumn)?n:d(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){const e=i(n);if(!e)throw new Error("sourceMapURL could not be parsed");if(e.path){const t=e.path.lastIndexOf("/");t>=0&&(e.path=e.path.substring(0,t+1))}t=a(o(e),t)}return s(t)}},function(e,t,n){const r=n(2),i=n(0),o=n(3).ArraySet,s=n(7).MappingList;class a{constructor(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._skipValidation=i.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new s,this._sourcesContents=null}static fromSourceMap(e){const t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping((function(e){const r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=i.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)})),e.sources.forEach((function(r){let o=r;null!==t&&(o=i.relative(t,r)),n._sources.has(o)||n._sources.add(o);const s=e.sourceContentFor(r);null!=s&&n.setSourceContent(r,s)})),n}addMapping(e){const t=i.getArg(e,"generated"),n=i.getArg(e,"original",null);let r=i.getArg(e,"source",null),o=i.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})}setSourceContent(e,t){let n=e;null!=this._sourceRoot&&(n=i.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[i.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[i.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))}applySourceMap(e,t,n){let r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}const s=this._sourceRoot;null!=s&&(r=i.relative(s,r));const a=this._mappings.toArray().length>0?new o:this._sources,l=new o;this._mappings.unsortedForEach((function(t){if(t.source===r&&null!=t.originalLine){const r=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=r.source&&(t.source=r.source,null!=n&&(t.source=i.join(n,t.source)),null!=s&&(t.source=i.relative(s,t.source)),t.originalLine=r.line,t.originalColumn=r.column,null!=r.name&&(t.name=r.name))}const o=t.source;null==o||a.has(o)||a.add(o);const u=t.name;null==u||l.has(u)||l.add(u)}),this),this._sources=a,this._names=l,e.sources.forEach((function(t){const r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=i.join(n,t)),null!=s&&(t=i.relative(s,t)),this.setSourceContent(t,r))}),this)}_validateMapping(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!t&&!n&&!r);else if(!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))}_serializeMappings(){let e,t,n,o,s=0,a=1,l=0,u=0,c=0,d=0,p="";const f=this._mappings.toArray();for(let h=0,m=f.length;h<m;h++){if(e="",(t=f[h]).generatedLine!==a)for(s=0;t.generatedLine!==a;)e+=";",a++;else if(h>0){if(!i.compareByGeneratedPositionsInflated(t,f[h-1]))continue;e+=","}e+=r.encode(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=r.encode(o-d),d=o,e+=r.encode(t.originalLine-1-u),u=t.originalLine-1,e+=r.encode(t.originalColumn-l),l=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-c),c=n)),p+=e}return p}_generateSourcesContent(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=i.relative(t,e));const n=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)}toJSON(){const e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e}toString(){return JSON.stringify(this.toJSON())}}a.prototype._version=3,t.SourceMapGenerator=a},function(e,t,n){const r=n(6);t.encode=function(e){let t,n="",i=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&i,(i>>>=5)>0&&(t|=32),n+=r.encode(t)}while(i>0);return n}},function(e,t){class n{constructor(){this._array=[],this._set=new Map}static fromArray(e,t){const r=new n;for(let n=0,i=e.length;n<i;n++)r.add(e[n],t);return r}size(){return this._set.size}add(e,t){const n=this.has(e),r=this._array.length;n&&!t||this._array.push(e),n||this._set.set(e,r)}has(e){return this._set.has(e)}indexOf(e){const t=this._set.get(e);if(t>=0)return t;throw new Error('"'+e+'" is not in the set.')}at(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)}toArray(){return this._array.slice()}}t.ArraySet=n},function(e,t,n){(function(t){if("function"==typeof fetch){let t=null;e.exports=function(){if("string"!=typeof t)throw new Error("You must provide the URL of lib/mappings.wasm by calling SourceMapConsumer.initialize({ 'lib/mappings.wasm': ... }) before using SourceMapConsumer");return fetch(t).then(e=>e.arrayBuffer())},e.exports.initialize=e=>t=e}else{const r=n(10),i=n(11);e.exports=function(){return new Promise((e,n)=>{const o=i.join(t,"mappings.wasm");r.readFile(o,null,(t,r)=>{t?n(t):e(r.buffer)})})},e.exports.initialize=e=>{console.debug("SourceMapConsumer.initialize is a no-op when running in node.js")}}}).call(t,"/")},function(e,t,n){t.SourceMapGenerator=n(1).SourceMapGenerator,t.SourceMapConsumer=n(8).SourceMapConsumer,t.SourceNode=n(13).SourceNode},function(e,t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)}},function(e,t,n){const r=n(0);t.MappingList=class{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(e,t){this._array.forEach(e,t)}add(e){!function(e,t){const n=e.generatedLine,i=t.generatedLine,o=e.generatedColumn,s=t.generatedColumn;return i>n||i==n&&s>=o||r.compareByGeneratedPositionsInflated(e,t)<=0}(this._last,e)?(this._sorted=!1,this._array.push(e)):(this._last=e,this._array.push(e))}toArray(){return this._sorted||(this._array.sort(r.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}}},function(e,t,n){const r=n(0),i=n(9),o=n(3).ArraySet,s=(n(2),n(4)),a=n(12),l=Symbol("smcInternal");class u{constructor(e,t){return e==l?Promise.resolve(this):function(e,t){let n=e;"string"==typeof e&&(n=r.parseSourceMapInput(e));const i=null!=n.sections?new d(n,t):new c(n,t);return Promise.resolve(i)}(e,t)}static initialize(e){s.initialize(e["lib/mappings.wasm"])}static fromSourceMap(e,t){return function(e,t){return c.fromSourceMap(e,t)}(e,t)}static with(e,t,n){let r=null;return new u(e,t).then(e=>(r=e,n(e))).then(e=>(r&&r.destroy(),e),e=>{throw r&&r.destroy(),e})}_parseMappings(e,t){throw new Error("Subclasses must implement _parseMappings")}eachMapping(e,t,n){throw new Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(e){throw new Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw new Error("Subclasses must implement destroy")}}u.prototype._version=3,u.GENERATED_ORDER=1,u.ORIGINAL_ORDER=2,u.GREATEST_LOWER_BOUND=1,u.LEAST_UPPER_BOUND=2,t.SourceMapConsumer=u;class c extends u{constructor(e,t){return super(l).then(n=>{let i=e;"string"==typeof e&&(i=r.parseSourceMapInput(e));const s=r.getArg(i,"version");let l=r.getArg(i,"sources");const u=r.getArg(i,"names",[]);let c=r.getArg(i,"sourceRoot",null);const d=r.getArg(i,"sourcesContent",null),p=r.getArg(i,"mappings"),f=r.getArg(i,"file",null);if(s!=n._version)throw new Error("Unsupported version: "+s);return c&&(c=r.normalize(c)),l=l.map(String).map(r.normalize).map((function(e){return c&&r.isAbsolute(c)&&r.isAbsolute(e)?r.relative(c,e):e})),n._names=o.fromArray(u.map(String),!0),n._sources=o.fromArray(l,!0),n._absoluteSources=n._sources.toArray().map((function(e){return r.computeSourceURL(c,e,t)})),n.sourceRoot=c,n.sourcesContent=d,n._mappings=p,n._sourceMapURL=t,n.file=f,n._computedColumnSpans=!1,n._mappingsPtr=0,n._wasm=null,a().then(e=>(n._wasm=e,n))})}_findSourceIndex(e){let t=e;if(null!=this.sourceRoot&&(t=r.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);for(let t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1}static fromSourceMap(e,t){return new c(e.toString())}get sources(){return this._absoluteSources.slice()}_getMappingsPtr(){return 0===this._mappingsPtr&&this._parseMappings(this._mappings,this.sourceRoot),this._mappingsPtr}_parseMappings(e,t){const n=e.length,r=this._wasm.exports.allocate_mappings(n),i=new Uint8Array(this._wasm.exports.memory.buffer,r,n);for(let t=0;t<n;t++)i[t]=e.charCodeAt(t);const o=this._wasm.exports.parse_mappings(r);if(!o){const e=this._wasm.exports.get_last_error();let t=`Error parsing mappings (code ${e}): `;switch(e){case 1:t+="the mappings contained a negative line, column, source index, or name index";break;case 2:t+="the mappings contained a number larger than 2**32";break;case 3:t+="reached EOF while in the middle of parsing a VLQ";break;case 4:t+="invalid base 64 character while parsing a VLQ";break;default:t+="unknown error code"}throw new Error(t)}this._mappingsPtr=o}eachMapping(e,t,n){const i=t||null,o=n||u.GENERATED_ORDER,s=this.sourceRoot;this._wasm.withMappingCallback(t=>{null!==t.source&&(t.source=this._sources.at(t.source),t.source=r.computeSourceURL(s,t.source,this._sourceMapURL),null!==t.name&&(t.name=this._names.at(t.name))),e.call(i,t)},()=>{switch(o){case u.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case u.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw new Error("Unknown order of iteration.")}})}allGeneratedPositionsFor(e){let t=r.getArg(e,"source");const n=r.getArg(e,"line"),i=e.column||0;if((t=this._findSourceIndex(t))<0)return[];if(n<1)throw new Error("Line numbers must be >= 1");if(i<0)throw new Error("Column numbers must be >= 0");const o=[];return this._wasm.withMappingCallback(e=>{let t=e.lastGeneratedColumn;this._computedColumnSpans&&null===t&&(t=1/0),o.push({line:e.generatedLine,column:e.generatedColumn,lastColumn:t})},()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),t,n-1,"column"in e,i)}),o}destroy(){0!==this._mappingsPtr&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(e){const t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")};if(t.generatedLine<1)throw new Error("Line numbers must be >= 1");if(t.generatedColumn<0)throw new Error("Column numbers must be >= 0");let n,i=r.getArg(e,"bias",u.GREATEST_LOWER_BOUND);if(null==i&&(i=u.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback(e=>n=e,()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),t.generatedLine-1,t.generatedColumn,i)}),n&&n.generatedLine===t.generatedLine){let e=r.getArg(n,"source",null);null!==e&&(e=this._sources.at(e),e=r.computeSourceURL(this.sourceRoot,e,this._sourceMapURL));let t=r.getArg(n,"name",null);return null!==t&&(t=this._names.at(t)),{source:e,line:r.getArg(n,"originalLine",null),column:r.getArg(n,"originalColumn",null),name:t}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e}))}sourceContentFor(e,t){if(!this.sourcesContent)return null;const n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];let i,o=e;if(null!=this.sourceRoot&&(o=r.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(i=r.urlParse(this.sourceRoot))){const e=o.replace(/^file:\/\//,"");if("file"==i.scheme&&this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];if((!i.path||"/"==i.path)&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(t)return null;throw new Error('"'+o+'" is not in the SourceMap.')}generatedPositionFor(e){let t=r.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};const n={source:t,originalLine:r.getArg(e,"line"),originalColumn:r.getArg(e,"column")};if(n.originalLine<1)throw new Error("Line numbers must be >= 1");if(n.originalColumn<0)throw new Error("Column numbers must be >= 0");let i,o=r.getArg(e,"bias",u.GREATEST_LOWER_BOUND);if(null==o&&(o=u.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback(e=>i=e,()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),n.source,n.originalLine-1,n.originalColumn,o)}),i&&i.source===n.source){let e=i.lastGeneratedColumn;return this._computedColumnSpans&&null===e&&(e=1/0),{line:r.getArg(i,"generatedLine",null),column:r.getArg(i,"generatedColumn",null),lastColumn:e}}return{line:null,column:null,lastColumn:null}}}c.prototype.consumer=u,t.BasicSourceMapConsumer=c;class d extends u{constructor(e,t){return super(l).then(n=>{let i=e;"string"==typeof e&&(i=r.parseSourceMapInput(e));const s=r.getArg(i,"version"),a=r.getArg(i,"sections");if(s!=n._version)throw new Error("Unsupported version: "+s);n._sources=new o,n._names=new o,n.__generatedMappings=null,n.__originalMappings=null,n.__generatedMappingsUnsorted=null,n.__originalMappingsUnsorted=null;let l={line:-1,column:0};return Promise.all(a.map(e=>{if(e.url)throw new Error("Support for url field in sections not implemented.");const n=r.getArg(e,"offset"),i=r.getArg(n,"line"),o=r.getArg(n,"column");if(i<l.line||i===l.line&&o<l.column)throw new Error("Section offsets must be ordered and non-overlapping.");return l=n,new u(r.getArg(e,"map"),t).then(e=>({generatedOffset:{generatedLine:i+1,generatedColumn:o+1},consumer:e}))})).then(e=>(n._sections=e,n))})}get _generatedMappings(){return this.__generatedMappings||this._sortGeneratedMappings(),this.__generatedMappings}get _originalMappings(){return this.__originalMappings||this._sortOriginalMappings(),this.__originalMappings}get _generatedMappingsUnsorted(){return this.__generatedMappingsUnsorted||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappingsUnsorted}get _originalMappingsUnsorted(){return this.__originalMappingsUnsorted||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappingsUnsorted}_sortGeneratedMappings(){const e=this._generatedMappingsUnsorted;e.sort(r.compareByGeneratedPositionsDeflated),this.__generatedMappings=e}_sortOriginalMappings(){const e=this._originalMappingsUnsorted;e.sort(r.compareByOriginalPositions),this.__originalMappings=e}get sources(){const e=[];for(let t=0;t<this._sections.length;t++)for(let n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}originalPositionFor(e){const t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=i.search(t,this._sections,(function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn})),o=this._sections[n];return o?o.consumer.originalPositionFor({line:t.generatedLine-(o.generatedOffset.generatedLine-1),column:t.generatedColumn-(o.generatedOffset.generatedLine===t.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))}sourceContentFor(e,t){for(let t=0;t<this._sections.length;t++){const n=this._sections[t].consumer.sourceContentFor(e,!0);if(n)return n}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')}generatedPositionFor(e){for(let t=0;t<this._sections.length;t++){const n=this._sections[t];if(-1===n.consumer._findSourceIndex(r.getArg(e,"source")))continue;const i=n.consumer.generatedPositionFor(e);if(i)return{line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)}}return{line:null,column:null}}_parseMappings(e,t){const n=this.__generatedMappingsUnsorted=[],i=this.__originalMappingsUnsorted=[];for(let e=0;e<this._sections.length;e++){const t=this._sections[e],o=[];t.consumer.eachMapping(e=>o.push(e));for(let e=0;e<o.length;e++){const s=o[e];let a=r.computeSourceURL(t.consumer.sourceRoot,null,this._sourceMapURL);this._sources.add(a),a=this._sources.indexOf(a);let l=null;s.name&&(this._names.add(s.name),l=this._names.indexOf(s.name));const u={source:a,generatedLine:s.generatedLine+(t.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(t.generatedOffset.generatedLine===s.generatedLine?t.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:l};n.push(u),"number"==typeof u.originalLine&&i.push(u)}}}eachMapping(e,t,n){const i=t||null;let o;switch(n||u.GENERATED_ORDER){case u.GENERATED_ORDER:o=this._generatedMappings;break;case u.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}const s=this.sourceRoot;o.map((function(e){let t=null;return null!==e.source&&(t=this._sources.at(e.source),t=r.computeSourceURL(s,t,this._sourceMapURL)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,i)}_findMapping(e,t,n,r,o,s){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return i.search(e,t,o,s)}allGeneratedPositionsFor(e){const t=r.getArg(e,"line"),n={source:r.getArg(e,"source"),originalLine:t,originalColumn:r.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];if(n.originalLine<1)throw new Error("Line numbers must be >= 1");if(n.originalColumn<0)throw new Error("Column numbers must be >= 0");const o=[];let s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,i.LEAST_UPPER_BOUND);if(s>=0){let n=this._originalMappings[s];if(void 0===e.column){const e=n.originalLine;for(;n&&n.originalLine===e;){let e=n.lastGeneratedColumn;this._computedColumnSpans&&null===e&&(e=1/0),o.push({line:r.getArg(n,"generatedLine",null),column:r.getArg(n,"generatedColumn",null),lastColumn:e}),n=this._originalMappings[++s]}}else{const e=n.originalColumn;for(;n&&n.originalLine===t&&n.originalColumn==e;){let e=n.lastGeneratedColumn;this._computedColumnSpans&&null===e&&(e=1/0),o.push({line:r.getArg(n,"generatedLine",null),column:r.getArg(n,"generatedColumn",null),lastColumn:e}),n=this._originalMappings[++s]}}}return o}destroy(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.destroy()}}t.IndexedSourceMapConsumer=d},function(e,t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,r,i){if(0===n.length)return-1;let o=function e(n,r,i,o,s,a){const l=Math.floor((r-n)/2)+n,u=s(i,o[l],!0);return 0===u?l:u>0?r-l>1?e(l,r,i,o,s,a):a==t.LEAST_UPPER_BOUND?r<o.length?r:-1:l:l-n>1?e(n,l,i,o,s,a):a==t.LEAST_UPPER_BOUND?l:n<0?-1:n}(-1,n.length,e,n,r,i||t.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&0===r(n[o],n[o-1],!0);)--o;return o}},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){const r=n(4);let i=null;e.exports=function(){if(i)return i;const e=[];return i=r().then(t=>WebAssembly.instantiate(t,{env:{mapping_callback(t,n,r,i,o,s,a,l,u,c){const d=new function(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null};d.generatedLine=t+1,d.generatedColumn=n,r&&(d.lastGeneratedColumn=i-1),o&&(d.source=s,d.originalLine=a+1,d.originalColumn=l,u&&(d.name=c)),e[e.length-1](d)},start_all_generated_locations_for(){console.time("all_generated_locations_for")},end_all_generated_locations_for(){console.timeEnd("all_generated_locations_for")},start_compute_column_spans(){console.time("compute_column_spans")},end_compute_column_spans(){console.timeEnd("compute_column_spans")},start_generated_location_for(){console.time("generated_location_for")},end_generated_location_for(){console.timeEnd("generated_location_for")},start_original_location_for(){console.time("original_location_for")},end_original_location_for(){console.timeEnd("original_location_for")},start_parse_mappings(){console.time("parse_mappings")},end_parse_mappings(){console.timeEnd("parse_mappings")},start_sort_by_generated_location(){console.time("sort_by_generated_location")},end_sort_by_generated_location(){console.timeEnd("sort_by_generated_location")},start_sort_by_original_location(){console.time("sort_by_original_location")},end_sort_by_original_location(){console.timeEnd("sort_by_original_location")}}})).then(t=>({exports:t.instance.exports,withMappingCallback:(t,n)=>{e.push(t);try{n()}finally{e.pop()}}})).then(null,e=>{throw i=null,e})}},function(e,t,n){const r=n(1).SourceMapGenerator,i=n(0),o=/(\r?\n)/,s=10,a="$$$isSourceNode$$$";class l{constructor(e,t,n,r,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==i?null:i,this[a]=!0,null!=r&&this.add(r)}static fromStringWithSourceMap(e,t,n){const r=new l,s=e.split(o);let a=0;const u=function(){return e()+(e()||"");function e(){return a<s.length?s[a++]:void 0}};let c,d=1,p=0,f=null;return t.eachMapping((function(e){if(null!==f){if(!(d<e.generatedLine)){const t=(c=s[a]||"").substr(0,e.generatedColumn-p);return s[a]=c.substr(e.generatedColumn-p),p=e.generatedColumn,h(f,t),void(f=e)}h(f,u()),d++,p=0}for(;d<e.generatedLine;)r.add(u()),d++;p<e.generatedColumn&&(c=s[a]||"",r.add(c.substr(0,e.generatedColumn)),s[a]=c.substr(e.generatedColumn),p=e.generatedColumn),f=e}),this),a<s.length&&(f&&h(f,u()),r.add(s.splice(a).join(""))),t.sources.forEach((function(e){const o=t.sourceContentFor(e);null!=o&&(null!=n&&(e=i.join(n,e)),r.setSourceContent(e,o))})),r;function h(e,t){if(null===e||void 0===e.source)r.add(t);else{const o=n?i.join(n,e.source):e.source;r.add(new l(e.originalLine,e.originalColumn,o,t,e.name))}}}add(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this}prepend(e){if(Array.isArray(e))for(let t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this}walk(e){let t;for(let n=0,r=this.children.length;n<r;n++)(t=this.children[n])[a]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})}join(e){let t,n;const r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this}replaceRight(e,t){const n=this.children[this.children.length-1];return n[a]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this}setSourceContent(e,t){this.sourceContents[i.toSetString(e)]=t}walkSourceContents(e){for(let t=0,n=this.children.length;t<n;t++)this.children[t][a]&&this.children[t].walkSourceContents(e);const t=Object.keys(this.sourceContents);for(let n=0,r=t.length;n<r;n++)e(i.fromSetString(t[n]),this.sourceContents[t[n]])}toString(){let e="";return this.walk((function(t){e+=t})),e}toStringWithSourceMap(e){const t={code:"",line:1,column:0},n=new r(e);let i=!1,o=null,a=null,l=null,u=null;return this.walk((function(e,r){t.code+=e,null!==r.source&&null!==r.line&&null!==r.column?(o===r.source&&a===r.line&&l===r.column&&u===r.name||n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name}),o=r.source,a=r.line,l=r.column,u=r.name,i=!0):i&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,i=!1);for(let a=0,l=e.length;a<l;a++)e.charCodeAt(a)===s?(t.line++,t.column=0,a+1===l?(o=null,i=!1):i&&n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name})):t.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:t.code,map:n}}}t.SourceNode=l}])},"object"==typeof t&&"object"==typeof e?e.exports=i({},{}):"function"==typeof define&&n(10)?define(["fs","path"],i):"object"==typeof t?t.sourceMap=i({},{}):r.sourceMap=i(r.fs,r.path),e.exports}({exports:{}},{});async function Se(e,t,n){if(!n)return{line:0,column:0};ye.initialize({"lib/mappings.wasm":"source-map-0.7.3-mappings.wasm"});let r=JSON.parse(n),i=await new ye(r);if(0==t){let t=i.originalPositionFor(e);return i.destroy(),t}let o=new be({file:"script.js"});i.eachMapping(e=>{o.addMapping({original:{line:e.originalLine,column:e.originalColumn},generated:{line:e.generatedLine+t,column:e.generatedColumn},source:e.source,name:e.name})});let s,a=await ye.fromSourceMap(o);if(e.column>0)s=a.originalPositionFor(e);else{let t=Object.assign({},e);for(let e=0;e<50&&(t.column+=e,s=a.originalPositionFor(t),null===s.line);e++);null===s.line&&(s.line=0,s.column=0)}return i.destroy(),a.destroy(),s}let ke=new class{send(e){}};var Ee=new Map,xe=(new Date).getTime();function Ce(e){let t=Ee.get(e);return t&&Ee.delete(e),t}function Te(e){switch(e.type){case"eval-response":!async function(e){let t=Ce(e.id);if(!t)return;if(e.error){if(k("received error response:",e),t.sourceMapJSON&&e.srcPos)for(let n of e.srcPos){let r=await Se(n,e.srcLineOffset,t.sourceMapJSON);if(r.line>0){me.decorateError(r,e.error);break}}!function(e){let t=document.querySelector("#message");t.querySelector(".close-button").onclick=ge,t.querySelector(".message > p").innerText=e.trim(),document.body.classList.add("showMessage"),me.editor.layout()}(e.error),t.reject(new Error(e.error))}else t.resolve(e.result)}(e);break;case"print":!async function(e){let t=Ee.get(e.reqId);if(!t)return;let n=e.srcPos;if(0==n.line||!t.sourceMapJSON)return void k("handlePrintMsg: ignoring print with zero srcPos",e);if(n=await Se(n,e.srcLineOffset,t.sourceMapJSON),0==n.line)return;me.ensureTrailingNewline();let r="",i="",o=!1;if(e.args){let t=!1;for(let n=0;n<e.args.length;n++){let s=e.args[n],a=s&&"object"==typeof s;if(a&&"__scripter_image_marker__"in s){let e="";if("string"==typeof s.source)e=s.source;else{let t=s.source instanceof Uint8Array?s.source:new Uint8Array(s.source);e="data:"+s.type+";base64,"+K(t)}r+=`<img src="${e}" referrerpolicy="no-referrer"`;let n=Math.max(0,s.width||0),i=Math.max(0,s.height||0);if(n<=0&&i<=0){let e=window.devicePixelRatio||1;s.pixelWidth<=0&&s.pixelHeight<=0?i=32:(n<=0&&s.pixelWidth&&(n=s.pixelWidth/e),i<=0&&s.pixelHeight&&(i=s.pixelHeight/e))}n&&(r+=` width="${n}"`),i&&(r+=` height="${i}"`),r+=">",t=!1}else t&&(r+=" "),r+=Le(j(s)),t=!0,a&&"__scripter_error__"in s&&(o=!0);i+=j(s)+"\n"}i="_ = "+i.trim()}else r=Le(e.message),i=e.message;me.viewZones.set(new Y(n,r,i,{isError:o}))}(e);break;default:console.warn(`eval received unexpected message ${e.type} from runtime`)}}let Me=null;function Le(e){return Me||(Me=document.createElement("div")),Me.innerText=e,Me.innerHTML}const Pe={passive:!1,capture:!0};class Ie extends s{constructor(e){super(),this.min=0,this.max=100,this.step=0,this._prec=0,this.knobSize=8,this.overshoot=Math.round(this.knobSize/4),this.snapThreshold=this.knobSize/2,this.minOffset=-this.overshoot,this.maxOffset=0,this.displayScale=1,this.dragged=!1,this._lastInputTimestamp=0,this._pointerDownX=0,this._trackPageXOffset=0,this._knobPointerXOffset=0,this.knobX=0,this._value=0,this._startValue=0,this._bigJumpTimer=null,this.onConfigChange=e=>{e.key in{windowSize:1,uiScale:1,showLineNumbers:1,codeFolding:1,menuVisible:1}&&this.layout()},this.onPointerDown=e=>{e.stopPropagation(),e.preventDefault(),S.hasPointerEvents?(this.track.onpointermove=this.onPointerMove,this.track.setPointerCapture(e.pointerId)):(document.onmousemove=this.onPointerMove,document.onmouseup=this.onPointerUp),this.maxOffset=this.track.clientWidth-(this.knobSize-this.overshoot),this.displayScale=window.devicePixelRatio||1,this.dragged=!1,this._lastInputTimestamp=e.timeStamp,this._pointerDownX=this.knobX,this._startValue=this._value,this.moveKnob(e),this.knob.classList.add("changing")},this.onPointerMove=e=>{this.dragged||(this.dragged=!0,this.knob.classList.add("dragging"),this.knob.classList.add("dragging-fine")),this.moveKnob(e),this._lastInputTimestamp=e.timeStamp},this.onPointerUp=e=>{S.hasPointerEvents?(this.track.onpointermove=null,this.track.releasePointerCapture(e.pointerId)):(document.onmousemove=null,document.onmouseup=null),e.stopPropagation(),e.preventDefault(),this.dragged&&(this.dragged=!1,this.knob.classList.remove("dragging"),this.knob.classList.remove("dragging-fine"));let t=e.timeStamp-this._lastInputTimestamp,n=Math.abs(this._pointerDownX-this.knobX),r=!1;t<200&&n>=this.snapThreshold&&(this.knobX-this.minOffset<this.snapThreshold?(this.setValue(this.min),r=!0):this.maxOffset-this.knobX<this.snapThreshold&&(this.setValue(this.max),r=!0)),r||this.moveKnob(e),this.knob.classList.remove("changing"),this._startValue!=this._value&&this.triggerEvent("change",this._value)};let t=this.el=document.createElement("div");t.className="rangeControl uninit";let n=this.track=document.createElement("div");n.className="track",t.appendChild(n);let r=this.knob=document.createElement("div");r.className="knob",n.appendChild(r);let i=document.createElement("div");i.className="tooltip",r.appendChild(i);let o=this.tooltipLabel=document.createElement("div");if(i.appendChild(o),S.hasPointerEvents?(t.addEventListener("pointerdown",this.onPointerDown,Pe),t.addEventListener("pointerup",this.onPointerUp,Pe)):(t.addEventListener("mousedown",this.onPointerDown,Pe),t.addEventListener("mouseup",this.onPointerUp,Pe)),e&&(void 0!==e.min&&(this.min=e.min),void 0!==e.max&&(this.max=e.max),void 0!==e.step&&(this.step=Math.abs(e.step)),void 0!==e.value&&(this._value=Math.min(this.max,Math.max(this.min,Number(e.value))))),this._scale=this.max-this.min,0==this.step){let e=Math.abs(this._scale)/1e3;this.step=e<1e-4?1e-4:e<.001?.001:e<.01?.01:e<.1?.1:1}else this.step=Math.min(this.step,Math.round(this._scale/2));let s=e=>{let t=(""+e).split(".",2);return 2==t.length?t[1].length:0};this._prec=Math.max(s(this.step),s(this.min),s(this.max)),o.innerText=this._value.toFixed(this._prec)}get value(){return this._value}set value(e){this.setValue(e)}layout(){let e=t=>t.offsetLeft-t.scrollLeft+t.clientLeft+(t.offsetParent&&t.offsetParent!==document.documentElement?e(t.offsetParent):0);this._trackPageXOffset=e(this.track),this._knobPointerXOffset=Math.round((this.knobSize+this.knob.clientWidth)/3),this.maxOffset=this.track.clientWidth-(this.knobSize-this.overshoot);let t=(this._value-this.min)/this._scale*(this.maxOffset-this.minOffset);this.knobX=t,this.knob.style.transform=`translate(${t}px, 0)`}onMountDOM(){requestAnimationFrame(()=>{this.layout(),requestAnimationFrame(()=>this.el.classList.remove("uninit"))}),x.addListener("change",this.onConfigChange)}onUnmountDOM(){x.removeListener("change",this.onConfigChange)}moveKnob(e){let t=(Math.min(this.maxOffset,Math.max(this.minOffset,e.pageX-this._trackPageXOffset-this._knobPointerXOffset))-this.minOffset)/(this.maxOffset-this.minOffset);this.setValue(t*this._scale+this.min,e.shiftKey)}setValueUnscaled(e,t){return this.setValue(e*this._scale+this.min,t)}setValue(e,t){let n=this._prec;if(e!=this.max&&e!=this.min){let r;t?(n=Math.max(0,this._prec-1),r=.1/this.step):r=1/this.step,e=Math.round(e*r)/r,e=Math.max(this.min,Math.min(this.max,Number(e.toFixed(this._prec))))}if(this._value==e)return!1;this._value=e,this.tooltipLabel.innerText=e.toFixed(n);let r=(e-this.min)/this._scale*(this.maxOffset-this.minOffset)+this.minOffset;return this._setKnobX(r),this.triggerEvent("input",this._value),!0}_setKnobX(e){e=Math.round(e*this.displayScale)/this.displayScale,this.dragged&&(Math.abs(this.knobX-e)>10?(clearTimeout(this._bigJumpTimer),this.knob.classList.remove("dragging-fine"),this._bigJumpTimer=setTimeout(()=>{this._bigJumpTimer=null,this.knob.classList.add("dragging-fine")},100)):null!==this._bigJumpTimer&&(clearTimeout(this._bigJumpTimer),this.knob.classList.add("dragging-fine"))),this.knobX=e,this.knob.style.transform=`translate(${e}px, 0)`}}const Oe=['(function(_postMessage,_close,globalObj,_amd){const requestIdProp="__scripterRequestId";const requestErrProp="__scripterRequestError";let recvp,recvres,recvrej;let msgq=[];let requestq=[];let workerInitialized=!1;function recv(){if(!recvp){if(msgq.length>0){return Promise.resolve(msgq.shift())}recvp=new Promise((res,rej)=>{recvres=res;recvrej=rej})}return recvp}let onrequest=void 0;Object.defineProperty(globalObj,"onrequest",{get(){return onrequest},set(f){onrequest=f;if(onrequest&&workerInitialized&&requestq.length>0){requestqFlush()}},enumerable:!0});function requestqFlush(){requestq.forEach(r=>handleRequest(r));requestq.length=0}function onInit(err){workerInitialized=!0;if(onrequest&&requestq.length>0){requestqFlush()}}function handleRequest(data){const requestId=data[requestIdProp];const f=globalObj.onrequest;const response={[requestIdProp]:requestId};let r=null;if(f){try{r=f({id:requestId,data:data.data})}catch(err){response[requestErrProp]=String(err.stack||err)}}else{response[requestErrProp]="No onrequest handler registered in worker"}const reply=r2=>{response.data=r2;postMessage(response)};if(r instanceof Promise){r.then(reply).catch(err=>{console.warn("[worker] error in promise: "+(err.stack||err));response[requestErrProp]=String(err?err.stack||err:"error");reply(null)})}else{reply(r)}}globalObj.addEventListener("message",ev=>{if(ev.data&&typeof ev.data=="object"&&requestIdProp in ev.data){if(!workerInitialized||!onrequest){requestq.push(ev.data)}else{handleRequest(ev.data)}ev.stopPropagation();ev.preventDefault();return}if(recvp){recvp=null;recvres(ev.data)}else if(!workerInitialized||msgq.length<10){msgq.push(ev.data)}},{capture:!0});globalObj.addEventListener("messageerror",ev=>{if(recvp){recvp=null;recvrej(ev.data)}});function postMessage(data,transfer){try{return _postMessage({data,transfer},transfer)}catch(err){if(data&&typeof data=="object"&&typeof data.toJSON=="function"){transfer=void 0;return _postMessage({data:data.toJSON(),transfer},transfer)}throw err}}function send(data,transfer){return postMessage(data,transfer)}function close(){if(requestq.length>0&&!onrequest){__onerror("request() was called but no onrequest handler was registered")}postMessage({type:"__scripter_close"});_close()}function print(...msg){console.log(...msg)}function timer(timeout){let timer=null;const p=new Promise((resolve,reject2)=>{timer=setTimeout(()=>{timer=null;resolve()},timeout)});p.cancel=()=>{if(timer!==null){clearTimeout(timer);reject(new Error("timer cancelled"))}};return p}function __onerror(err){postMessage({type:"__scripter_toplevel_err",message:err?String(err):"unknown error",stack:err&&err.stack||""})}try{let r=eval((','))((()=>{let w=globalObj;w.send=w.postMessage=postMessage;w.recv=recv;w.close=close;w.print=print;w.importCommonJS=url=>{globalObj.exports={};globalObj.module={id:"scripter",exports:globalObj.exports};return w.importScripts(url).then(()=>{let exports=globalObj.module.exports;delete globalObj.module;delete globalObj.exports;return exports})};return w})());onInit(null);if(r instanceof Promise){r.catch(__onerror)}}catch(err){console.warn("error in worker-template",err);onInit(err);__onerror(err)}})(typeof __scripterPostMessage!="undefined"?__scripterPostMessage:self.postMessage.bind(self),typeof __scripterClose!="undefined"?__scripterClose:self.close.bind(self),typeof window!="undefined"?window:self,(globalObj=>{const CHECK_CYCLES=!1;const DEBUG=!1;function emptyFunction(){}const assert=DEBUG?cond=>{if(!cond){throw new Error("assertion failure")}}:emptyFunction;const logdebug=DEBUG?function(){console.log.apply(console,["[define]"].concat([].slice.call(arguments)))}:emptyFunction;let modules=new Map();let waiting=new Map();function define_require(id){let m=modules.get(id);if(!m){throw new Error(`unknown module "${id}"`)}return m.init?void 0:m["exports"]}function Module(id,exports,deps,fn){this["id"]=id;this["exports"]=exports;this.deps=deps;this.fn=fn;this.init=null;this.waitdeps=null}function deppath(m,id){if(m.waitdeps){for(let wdepid of m.waitdeps){if(wdepid==id){return[m["id"]]}let wdepm=modules.get(wdepid);if(wdepm){let path=deppath(wdepm,id);if(path){return[m["id"]].concat(path)}}}}return null}function mfinalize(m){m.init=null;let waitingDependants=waiting.get(m["id"]);waiting.delete(m["id"]);if(m.fn){let res=m.fn.apply(m["exports"],m.deps);if(res){m["exports"]=res}m.fn=null}m.deps=null;m.waitdeps=null;if(waitingDependants){for(let depid of waitingDependants){let depm=modules.get(depid);if(depm.init){if(depm.waitdeps.size==1){depm.init()}else{depm.waitdeps.delete(m["id"])}}}assert(typeof m["id"]!="symbol")}else if(typeof m["id"]=="symbol"){modules.delete(m["id"])}}function*minitg(m,deps){while(!0){for(let i=0,L=deps.length;i!=L;++i){let depid=deps[i];if(m.deps[i]!==void 0){continue}if(depid=="require"){m.deps[i]=define_require}else if(depid=="exports"){m.deps[i]=m["exports"]}else if(depid=="module"){m.deps[i]=m}else{let depm=modules.get(depid);if(depm&&!depm.init){m.deps[i]=depm["exports"];if(m.waitdeps){m.waitdeps.delete(depid)}}else{if(!m.waitdeps){m.waitdeps=new Set([depid])}else if(!m.waitdeps.has(depid)){m.waitdeps.add(depid)}else{continue}if(CHECK_CYCLES&&depm){let cycle=deppath(depm,m["id"]);if(cycle){if(cycle[cycle.length-1]!=m["id"]){cycle.push(m["id"])}throw new Error(`Cyclic module dependency: ${m["id"]} -> ${cycle.join(" -> ")}`)}}}}}if(!m.waitdeps||m.waitdeps.size==0){break}yield m.waitdeps}mfinalize(m)}function minit(m,deps){let initg=minitg(m,deps);return function init(){logdebug("attempting to resolve dependencies for",m["id"]);let v=initg.next();if(v.done){logdebug("completed initialization of",m["id"]);return!0}for(let depid of v.value){let waitset=waiting.get(depid);if(waitset){waitset.add(m["id"])}else{waiting.set(depid,new Set([m["id"]]))}}return!1}}let timeoutTimer=null;let timeoutReached=!1;function timeout(){clearTimeout(timeoutTimer);timeoutTimer=null;timeoutReached=!0;if(waiting&&waiting.size>0){let v=[];for(let id of waiting.keys()){if(!modules.has(id)){v.push(id)}}if(v.length){throw new Error(`Module load timeout -- still waiting on "${v.join(\'", "\')}"`)}}}let _currentScriptURL="";const getCurrentScriptURL=globalObj.document?()=>globalObj.document.currentScript?globalObj.document.currentScript.src:"":()=>_currentScriptURL;function define(id,deps,fn){logdebug("define",id,deps,typeof fn);if(define.timeout&&define.timeout>0){if(timeoutReached){logdebug("define bailing out since timeout has been reached");return}clearTimeout(timeoutTimer);timeoutTimer=setTimeout(timeout,define.timeout)}let objfact=1;switch(typeof id){case"function":fn=id;id=null;deps=[];objfact=0;break;case"object":fn=deps;deps=id;id=null;if(typeof fn!="function"){throw new Error("object module without id")}break;default:objfact=0;if(typeof deps=="function"){fn=deps;deps=[]}else if(!fn){fn=deps;deps=[];objfact=2}break}if(!id){id=getCurrentScriptURL()||null;if(modules.has(id)){id=null}}if(!deps||deps.length==0){logdebug("taking a shortcut becase",id,"has no dependencies");if(objfact==1&&typeof fn!="function"){objfact=2}let m2=new Module(id,objfact?fn:{},null,objfact?null:fn);if(id){modules.set(id,m2);mfinalize(m2)}else{fn.apply(m2["exports"]);m2.fn=null}return!0}if(typeof fn!="function"){throw new Error("object module with dependencies")}let m=new Module(id||Symbol(""),{},new Array(deps.length),fn);modules.set(m["id"],m);m.init=minit(m,deps);return m.init()}const _importScripts=typeof __scripterImportScripts!="undefined"?__scripterImportScripts:(f=>(...urls)=>Promise.resolve(f(...urls)))(self.importScripts.bind(self));let importScriptsLegacyNest=0;async function importScriptsLegacy(...urls){importScriptsLegacyNest++;if(importScriptsLegacyNest==1){globalObj["define"]=null}try{await _importScripts(...urls)}finally{importScriptsLegacyNest--;if(importScriptsLegacyNest==0){globalObj["define"]=define}}}const awaitImportAll=urls=>{return new Promise((resolve,reject2)=>{let defined=!1;let tryingCommonJs=!1;define("_",urls,(...apis)=>{if(!tryingCommonJs){defined=!0;resolve(apis)}});if(!defined){logdebug("some modules did not call amd define(); falling back to commonjs emulation");tryingCommonJs=!0;let i=0;let apis=[];function next(){const cleanUp=()=>{globalObj["module"]=void 0;globalObj["exports"]=void 0};let url=urls[i++];if(!url){cleanUp();return resolve(apis)}let m=modules.get(url);if(m){logdebug(`[cjs] ${url} did call define() [shortcut]`);apis.push(m.exports);return next()}logdebug(`[cjs] ${url} did not call define() -- loading in commonjs env...`);globalObj["exports"]=(globalObj["module"]={id:url,exports:{}})["exports"];_importScripts(url).then(()=>{apis.push(globalObj["module"].exports);next()}).catch(err=>{cleanUp();reject2(err)})}next()}})};const urlre=/^https?:\\/\\/[^\\r\\n]+$/;const filterUrls=urls=>urls.map(url=>urlre.test(url)?url:`https://unpkg.com/${url}`);const importAll=globalObj.importScripts&&globalObj.document===void 0?(importScripts=>function importAll2(...urls){urls=filterUrls(urls);for(let url of urls){_currentScriptURL=url;try{importScripts(url)}finally{_currentScriptURL=""}}return awaitImportAll(urls)})(globalObj.importScripts.bind(globalObj)):function importAll2(...urls){urls=filterUrls(urls);return _importScripts(...urls).then(()=>awaitImportAll(urls))};define["timeout"]=0;define["require"]=define_require;define["amd"]={};globalObj["define"]=define;globalObj["importAll"]=importAll;globalObj["importScripts"]=importScriptsLegacy;globalObj["import"]=url=>importAll(url).then(v=>v[0])})(typeof window!="undefined"?window:self));\n'],Ae=['(scriptfn=>{function importScripts(...urls){return Promise.all(urls.map(url=>new Promise((resolve,reject)=>{let s=document.createElement("script");s.src=url;s.type="text/javascript";s.async=!0;s.onload=resolve;s.onerror=reject;document.head.appendChild(s)})))}let postMessage=window.parent.postMessage.bind(window.parent);function _postMessage(msg,transfer){postMessage(msg,"*",transfer)}_postMessage("__scripter_iframe_ready");function close(){_postMessage("__scripter_iframe_close")}window["__scripterPostMessage"]=window.postMessage;window["createElement"]=function createElement(name,attrs,...children){let el=document.createElement(name);if(attrs)for(let k in attrs){const v=attrs[k];if(k=="style"){Object.assign(el.style,v)}else if(k=="className"){el.className=v}else if(typeof v=="function"){el[k]=v}else{el.setAttribute(k,v)}}for(let n of children){if(n instanceof Node){el.appendChild(n)}else if(n!==void 0&&n!==null){el.appendChild(document.createTextNode(String(n)))}}return el};scriptfn(window,_postMessage,importScripts,close)})((self,__scripterPostMessage,__scripterImportScripts,__scripterClose)=>{',"});\n"],Re=new class{constructor(){this._focusListeners=new Map,this.current=document.activeElement;const e=e=>{const t=document.activeElement;if(this.current===t)return;const n=this.current;this.current=t;const r=this._focusListeners.get(n),i=this._focusListeners.get(t);if(r||i){const o=new Set(r||i);if(r&&i)for(let e of i)o.add(e);for(let r of o)r(t,n,e)}};window.addEventListener("focus",e,{capture:!0}),window.addEventListener("blur",e,{capture:!0})}addFocusListener(e,t){let n=this._focusListeners.get(e);n?n.add(t):this._focusListeners.set(e,new Set([t]))}removeFocusListener(e,t){let n=this._focusListeners.get(e);n&&n.delete(t)}},Ne={capture:!0},De={bottom:0,height:0,left:0,right:0,top:0,width:0};function Fe(e,t,n){return e>=n.left&&e<n.right&&t>=n.top&&t<n.bottom}let Ue=0;const ze=new class{constructor(){this.windows=[],this._initCalled=!1}_init(){this._initCalled=!0,xt.addKeyEventHandler(e=>{if(this.windows.length>0&&((e.ctrlKey||e.metaKey)&&"w"==e.key||e.altKey&&"F4"==e.key)){const e=this.top();if(e.inFocus)return e.close(),!0}})}top(){return this.windows[this.windows.length-1]||null}has(e){for(let t of this.windows)if(t===e)return!0;return!1}add(e){this._initCalled||this._init(),e._setZIndex(this.windows.length),this.windows.push(e)}remove(e){let t=this.windows.indexOf(e);for(this.windows.splice(t,1);t<this.windows.length;t++)this.windows[t]._setZIndex(t);0==this.windows.length?document.body.focus():e.inFocus&&this.top().focus()}focus(e){if(this.top()===e)return;let t=this.windows.indexOf(e),n=this.windows.length;for(let e=t+1;e<n;){let n=this.windows[e];this.windows[t]=n,n._setZIndex(t),t++,e++}this.windows[t]=e,e._setZIndex(t)}};class je extends s{constructor(e,t){super(),this.id=Ue++,this.closeButton=null,this.inFocus=!1,this.isClosed=!1,this._x=0,this._y=0,this._width=300,this._height=200,this._zIndex=0,this._onFocusChange=(e,t,n)=>{k(`${this} focus changed`,{inFocus:e,lostFocus:t}),this._setInFocus(e===this.body)},this._isPointerDownInTitle=!1,this._closeButtonRect=De,this._onClosePointerDown=e=>{this._closeButtonRect=this.closeButton.getBoundingClientRect(),this.titlebar.addEventListener("pointermove",this._onTitlePointerMove,Ne),e.preventDefault()},this._onTitlePointerDown=e=>{this._isPointerDownInTitle=!0,e.metaKey||e.ctrlKey||this.focus(),this.titlebar.setPointerCapture&&this.titlebar.setPointerCapture(e.pointerId),e.preventDefault()},this._onTitlePointerMove=e=>{this.closeButton.classList.toggle("active",Fe(e.x,e.y,this._closeButtonRect))},this._onTitlePointerUp=e=>{this._isPointerDownInTitle&&(this._isPointerDownInTitle=!1,this.titlebar.releasePointerCapture&&this.titlebar.releasePointerCapture(e.pointerId),Fe(e.x,e.y,this._closeButtonRect)?this.close():e.metaKey||e.ctrlKey||this.focus(),e.preventDefault()),this._closeButtonRect.width>0&&(this._closeButtonRect=De,this.closeButton.classList.remove("active"),this.titlebar.removeEventListener("pointermove",this._onTitlePointerMove,Ne))},this.config=t||(t={}),t.preventClose||(this.closeButton=ne("div",{className:"close-button"}),this.closeButton.onclick=()=>{this.close()}),void 0!==t.width&&(this._width=Math.round(t.width)),void 0!==t.height&&(this._height=Math.round(t.height));const n=ze.top();this._x=void 0!==t.x?Math.round(t.x):n?n._x+16:this._centerOnScreenX(),this._y=void 0!==t.y?Math.round(t.y):n?n._y+16:this._centerOnScreenY(),this._clampBounds(),void 0===t.x&&this._x<0&&(this._x=0),this.body=e,this.domRoot=ne("div",{className:"UIWindow focus",tabIndex:"-1",style:{transform:`translate3d(${this._x}px,${this._y}px,0)`,width:this._width+"px",height:this._height+"px"}},this.titlebar=ne("div",{className:"titlebar"},this.title=ne("div",{className:"title"},t.title||""),this.closeButton),this.bodyCover=ne("div",{className:"body-cover"}),e),ze.add(this),t.preventMove||this._enableMove(),Re.addFocusListener(this.body,this._onFocusChange),this.closeButton&&this.closeButton.addEventListener("pointerdown",this._onClosePointerDown,Ne),this.titlebar.addEventListener("pointerdown",this._onTitlePointerDown,Ne),this.titlebar.addEventListener("pointerup",this._onTitlePointerUp,Ne),this.bodyCover.addEventListener("pointerdown",e=>{k(`${this} click on body-cover => focus`),this.focus(),e.preventDefault(),e.stopPropagation()},Ne),document.body.appendChild(this.domRoot),this.focus()}_disconnect(){Re.removeFocusListener(this.body,this._onFocusChange),this.closeButton&&this.closeButton.removeEventListener("pointerdown",this._onClosePointerDown,Ne),this.titlebar.removeEventListener("pointerdown",this._onTitlePointerDown,Ne),this.titlebar.removeEventListener("pointerup",this._onTitlePointerUp,Ne),this._debugMutationObserver&&(this._debugMutationObserver.disconnect(),this._debugMutationObserver=void 0),ze.remove(this)}get x(){return this._x}get y(){return this._y}set x(e){this.setPosition(e,this._y)}set y(e){this.setPosition(this._x,e)}get width(){return this._width}get height(){return this._height}set width(e){this.setSize(e,this._height)}set height(e){this.setSize(this._width,e)}setPosition(e,t){this.config.preventMove||this._setPositionWithEvent(e,t)}setSize(e,t){this._setSize(e,t)&&this.triggerEvent("resize")}setBounds(e,t,n,r){this.setPosition(e,t),this.setSize(n,r)}centerOnScreen(){this._setPositionWithEvent(this._centerOnScreenX(),this._centerOnScreenY())}focus(){this.body.focus(),this.body.focus()}close(){this.isClosed||(this.isClosed=!0,this._disconnect(),document.body.removeChild(this.domRoot),this.triggerEvent("close"))}toString(){return`UIWindow#${this.id}`}_setZIndex(e){k(`${this} set zindex`,e),this._zIndex=e,this._updateZIndex()}_updateZIndex(){this.domRoot.style.zIndex=String(100+this._zIndex)}_setInFocus(e){k(`${this} ${e?"received":"lost"} focus`),this.inFocus!=e&&(this.inFocus=e,e?(this.inFocus=!0,this.triggerEvent("focus"),ze.focus(this)):(this.inFocus=!1,this.triggerEvent("blur")),this.domRoot.classList.toggle("focus",this.inFocus),this._updateZIndex())}_enableMove(){let e=0,t=0,n=0,r=0,i=0,o=0;const s=i=>{i.preventDefault(),e=i.clientX-n,t=i.clientY-r,this._setPosition(e,t)};this.title.addEventListener("pointerdown",e=>{i=this._x,o=this._y,n=e.clientX-this._x,r=e.clientY-this._y,this.title.setPointerCapture&&this.title.setPointerCapture(e.pointerId),document.addEventListener("pointermove",s,{capture:!0})},!1),this.title.addEventListener("pointerup",e=>{this.title.releasePointerCapture&&this.title.releasePointerCapture(e.pointerId),document.removeEventListener("pointermove",s,{capture:!0}),i==this._x&&o==this._y||this.triggerEvent("move")},!1)}_clampBounds(){const e=window.innerWidth-50,t=window.innerHeight-je.TitleHeight;this._width=Math.min(window.innerWidth-8,this._width),this._height=Math.min(window.innerHeight-8,this._height),this._x=Math.min(e,Math.max(-(this._width-50),this._x)),this._y=Math.min(t,Math.max(0,this._y))}_setPosition(e,t){const n=window.devicePixelRatio||1;e=Math.round(e*n)/n,t=Math.round(t*n)/n;let r=this._x,i=this._y;return this._x=e,this._y=t,this._clampBounds(),(r!=this._x||i!=this._y)&&(this.domRoot.style.transform=`translate3d(${this._x}px, ${this._y}px, 0)`,!0)}_setSize(e,t){let n=this._width,r=this._height;return this._width=e,this._height=t,this._clampBounds(),(this._width!=n||this._height!=r)&&(this.domRoot.style.width=this._width+"px",this.domRoot.style.height=this._height+"px",!0)}_setPositionWithEvent(e,t){this._setPosition(e,t)&&this.triggerEvent("move")}_centerOnScreenX(){return Math.round(.5*(window.innerWidth-this._width))}_centerOnScreenY(){return Math.round(.4*(window.innerHeight-this._height))}}function Be(e,t){parent.postMessage(e,"*",t)}je.TitleHeight=24;class Ve{send(e){parent.postMessage(e,"*")}}function We(){let e={type:"window-config",width:x.windowSize[0],height:x.windowSize[1]};parent.postMessage(e,"*")}async function qe(e,t,n){let r={};try{r=await n(),parent.postMessage(Object.assign({type:t,id:e},r),"*")}catch(n){k(`rpc error: ${n.stack||n}`);let r={type:"rpc-error-response",responseType:t,id:e,name:n.name||"Error",message:n.message||"error",stack:String(n.stack)||"error"};parent.postMessage(r,"*")}}const Ge=new Map;let $e=!1;class He{constructor(e,t,n){this.window=null,this.recvq=[],this.ready=!1,this.closed=!1,$e||($e=!0,window.addEventListener("message",e=>{let t=Ge.get(e.source);t&&(t._onmessage(e),e.stopPropagation(),e.preventDefault())}),window.addEventListener("messageerror",e=>{let t=Ge.get(e.source);t&&(t.onmessageerror(e),e.stopPropagation(),e.preventDefault())})),this.workerId=e,this.frame=document.createElement("iframe");const r=this.frame,i=this.iframeUrl=/^https?:\/\/[^\r\n]+$/.test(t)?t:"";r.setAttribute("sandbox","allow-scripts allow-modals allow-pointer-lock"+(i?"":" allow-same-origin")),r.onerror=e=>{this.onerror(e instanceof ErrorEvent?e:new ErrorEvent(String(e))),r.onerror=null};const o=window.document.getElementById("editor").getBoundingClientRect();let s=0,a=0;if(void 0!==n.width?(s=Math.round(n.width),a=void 0!==n.height?Math.round(n.height):n.height=s):void 0!==n.height?s=a=n.width=Math.round(n.height):(s=Math.round(.9*o.width),a=Math.round(.8*s)),n.visible){void 0!==n.height&&(a+=je.TitleHeight);let t=n.title||"Worker";0;const o=new je(r,{x:n.x,y:n.y,width:s,height:a,title:t});o.on("close",()=>{this.close()}),r.onload=()=>{if(k(`worker#${e} iframe loaded`),i)this.onReady();else try{r.contentWindow.document.addEventListener("keydown",xt.handleKeyDownEvent,{capture:!0})}catch(e){console.warn(`IFrameWorker error while accessing frame document: ${e.stack||e}`)}r.onload=null},this.window=o}else Object.assign(r.style,{position:"fixed",zIndex:"-1",left:"0px",top:"0px",width:s+"px",height:a+"px",visibility:"hidden",pointerEvents:"none"}),document.body.appendChild(r),i&&(r.onload=()=>{this.onReady()});if(Ge.set(r.contentWindow,this),i)r.src=i;else{let e=["<html><head></head><body><script type='text/javascript'>",Ae[0],Oe[0],JSON.stringify(t),Oe[1],Ae[1],,"<\/script></body></html>"];k("running worker script",e.join(""));let n=URL.createObjectURL(new Blob(e,{type:"text/html;charset=utf8"}));r.src=n,setTimeout(()=>{URL.revokeObjectURL(n)},1)}}onReady(){if(k("iframe ready. recvq:",this.recvq),this.iframeUrl)this.postMessage=(e,t)=>{this.frame.contentWindow.postMessage(e,"*",t)};else{const e=this.frame.contentWindow.__scripterPostMessage;this.postMessage=e?(t,n)=>{e.call(this.frame.contentWindow,t,"*",n)}:(e,t)=>{this.frame.contentWindow.postMessage(e,"*",t)}}this.ready=!0;for(let{message:e,transfer:t}of this.recvq)this.postMessage(e,t);this.recvq.length=0}_onmessage(e){"__scripter_iframe_ready"===e.data?this.ready||this.onReady():"__scripter_iframe_close"===e.data?this.terminate():this.onmessage(e)}postMessage(e,t){this.recvq.push({message:e,transfer:t})}close(){Xe(this.workerId),this.terminate()}terminate(){k("figma-plugin-bridge/IFrameWorker.terminate. this.closed:",this.closed),this.closed||(this.closed=!0,Ge.delete(this.frame.contentWindow),this.window?this.window.close():this.frame.parentElement.removeChild(this.frame),this.frame.src="about:blank",this.frame=null)}}let Ke=new Map;function Ze(e){qe(e.id,"worker-create-res",async()=>{k("rpc_worker_create",e);let t,n=e.workerId;if(e.iframe){let r="object"==typeof e.iframe?e.iframe:{};t=new He(n,e.js,r)}else t=function(e){let t=[Oe[0],e,Oe[1]],n=URL.createObjectURL(new Blob(t,{type:"application/javascript"})),r=new Worker(n);return URL.revokeObjectURL(n),r}(e.js);return Ke.set(n,t),t.onmessage=e=>{k(`app got message from worker#${n}`,e.data);let r=e.data.data;if(r&&"object"==typeof r){const e=r.type;if("__scripter_close"==e)return Xe(n);if("__scripter_toplevel_err"==e){let e=r.stack;return""!=e&&(e=e.replace(/\sblob:.+:(\d+):(\d+)/g," <worker-script>:$1:$2")),Be({type:"worker-error",workerId:n,error:{error:r.message,message:e||r.message}}),t.terminate(),Xe(n)}}Be({type:"worker-message",evtype:"message",workerId:n,data:e.data.data,transfer:e.data.transfer},e.data.transfer)},t.onmessageerror=e=>{Be({type:"worker-message",evtype:"messageerror",workerId:n,data:e.data})},t.onerror=e=>{console.error("worker error event",e),t.terminate(),Be({type:"worker-error",workerId:n,error:{colno:e.colno,error:String(e.error),filename:e.filename,lineno:e.lineno,message:e.message}}),Xe(n)},{workerId:n}})}function Xe(e){k("worker_onclose",e),Ke.has(e)&&(k("worker_onclose",e,"FOUND"),Ke.delete(e),Be({type:"worker-ctrl",workerId:e,signal:"close"}))}function Qe(e){let t=Ke.get(e.workerId);return t||(k(`ignoring message for non-existing worker#${e.workerId||""}`,{msg:e}),null)}let Je=new Map;function Ye(e){qe(e.id,"ui-input-response",async()=>{let t=Je.get(e.instanceId);if(!t){let n=e.srcPos;if(0==n.line)return k("[rpc ui-input-response]: ignoring; zero srcPos",e),{value:0,done:!0};let r=function(e){let t=Ee.get(e);return t?t.sourceMapJSON:null}(e.scriptReqId);if(!r)throw new Error("no source map found for script invocation #"+e.scriptReqId);if(n=await Se(n,e.srcLineOffset,r),!n.line)return{value:0,done:!0};let i=function(e){if("range"==e.controllerType){if(e.init&&"value"in e.init){let t=e.init.value;"number"!=typeof t&&(t=parseFloat(t),isNaN(t)?delete e.init.value:e.init.value=t)}return new Ie(e.init)}throw new Error(`unknown input type "${e.controllerType}"`)}(e);if(t=new ee(n.line,i),""==me.viewZones.add(t))return{value:i.value,done:!0};Je.set(e.instanceId,t),t.addListener("remove",()=>{Je.delete(e.instanceId)})}return new Promise(e=>{t.enqueueResolver(e)})})}function et(){let e=new Ve,t=(ke=e,Te);window.onmessage=e=>{if(e.source!==parent)return;let n=e.data;if(n&&"object"==typeof n)switch(n.type){case"eval-response":case"print":t(n);break;case"ui-confirm":!function(e){qe(e.id,"ui-confirm-response",async()=>{return{answer:confirm(e.question)}})}(n);break;case"fetch-request":!function(e){qe(e.id,"fetch-response",async()=>{let t=await fetch(e.input,e.init),n={};t.headers.forEach((e,t)=>{n[t]=e});let r=t.body?new Uint8Array(await t.arrayBuffer()):null,i={headers:n,redirected:t.redirected,status:t.status,statusText:t.statusText,resType:t.type,url:t.url,body:r};return k("fetch response",i),i})}(n);break;case"ui-input-request":Ye(n);break;case"worker-create-req":Ze(n);break;case"worker-message":!function(e){let t=Qe(e);t&&t.postMessage(e.data,e.transfer)}(n);break;case"worker-ctrl":!function(e){if("terminate"!=e.signal)return void console.warn(`worker_ctrl unexpected signal ${e.signal}`);let t=Qe(e);t&&(t.terminate(),Xe(e.workerId))}(n);break;case"worker-setFrame":!function(e){let t=Qe(e);t&&t.window.setBounds(e.x,e.y,e.width,e.height)}(n);break;case"load-script":me.loadScriptFromFigma(n);break;case"update-save-scripts-index":D.updateFromPlugin(n.index)}k("ui received message",e.data&&e.data.type,{origin:e.origin,data:e.data})},x.on("change",e=>{"windowSize"==e.key&&We()});let n=!1;xt.addKeyEventHandler(t=>{if("KeyP"==t.code&&(t.metaKey||t.ctrlKey)&&t.altKey)return function(){if(n)return;n=!0;let t=()=>{e.send({type:"close-plugin"})};me.isScriptRunning()?(me.stopCurrentScript(),setTimeout(t,50)):t()}(),!0})}function tt(e){return Object.assign({id:0,guid:"",name:"Untitled",tags:[],createdAt:new Date,modifiedAt:new Date},e)}var nt;!function(e){e[e.Clean=0]="Clean",e[e.Dirty=1]="Dirty",e[e.DirtyImplicit=2]="DirtyImplicit"}(nt||(nt={}));class rt extends s{constructor(e,t,n,r){super(),this.isROLib=!1,this._editorViewState=null,this._saveTimer=null,this._savedModelVersion=0,this._currModelVersion=0,this._metaDirty=nt.Clean,this._bodyDirty=nt.Clean,this.meta=e,this._body=t,this._editorViewState=n,this.isROLib=!!r}get id(){return this.meta.id}get guid(){return this.meta.guid}get createdAt(){return this.meta.createdAt}get modifiedAt(){return this.meta.modifiedAt}get modelVersion(){return this._currModelVersion}get isUserScript(){return!this.isROLib&&this.id>=0}get isMutable(){return this.isUserScript}get isLoaded(){return this.meta&&this.meta.name&&""!=this.body}get body(){return this._body}set body(e){this._body=e,this._bodyDirty=nt.Dirty,this._currModelVersion=0,this._onAfterLoadBody(),this.scheduleSave()}updateBody(e,t){this._body=e,this._currModelVersion=t,this._bodyDirty=this._currModelVersion!=this._savedModelVersion?nt.Dirty:nt.Clean,this.scheduleSave()}updateBodyNoDirty(e,t){this._body=e,this._currModelVersion=t}get name(){return this.meta.name}set name(e){""==(e=e.trim())&&(e="Untitled"),this.meta.name!==e&&(this.meta.name=e,this._metaDirty=nt.Dirty,this.scheduleSave())}get editorViewState(){return this._editorViewState}set editorViewState(e){this._editorViewState=e,this.id>0&&w.put("scriptViewState",e,this.id)}async reloadEditorViewState(){return this._editorViewState=await w.get("scriptViewState",this.id)}isSavedInFigma(){return this.guid&&D.hasGUID(this.guid)}requireValidGUID(){return this.meta.guid||(this.meta.guid=N(),this._metaDirty=nt.Dirty,this.scheduleSave()),this.meta.guid}scheduleSave(){new Error;clearTimeout(this._saveTimer),this._saveTimer=setTimeout(()=>{this.save()},this.meta.id<=0?0:500)}save(){let e;if(clearTimeout(this._saveTimer),this._saveTimer=null,this._savedModelVersion=this._currModelVersion,k(`Script.save ID=${this.meta.id} GUID=${this.meta.guid}`,this),this.meta.id<=0){if(""==this._body)return k("Script.save canceled because _body is empty"),Promise.resolve();this.meta.guid||(console.warn("unsaved script missing GUID; generating & assigning one"),this.meta.guid=N()),b(`save/create script ${JSON.stringify(this.meta.name)}`),this.meta.modifiedAt=new Date,this.meta.createdAt=this.meta.modifiedAt,e=w.modify(["scripts","scriptBody"],async(e,t)=>{delete this.meta.id;let n=e.add(this.meta);this.meta.id=0;let r=await n;this.meta.id=r,t.put(this._body,r)})}else{if(this._bodyDirty==nt.Clean&&this._metaDirty==nt.Clean)return Promise.resolve();{this.meta.guid||(console.warn(`existing script#${this.meta.id} missing GUID; generating & assigning one`),this.meta.guid=N(),this._metaDirty=nt.DirtyImplicit);let t=this._metaDirty!=nt.Clean,n=this._bodyDirty!=nt.Clean;n||t?(this._bodyDirty!=nt.Dirty&&this._metaDirty!=nt.Dirty||(this.meta.modifiedAt=new Date,t=!0),e=w.modify(["scripts","scriptBody"],async(e,r)=>{t&&e.put(this.meta),n&&r.put(this._body,this.id)})):e=Promise.resolve(),this.saveToFigma({createIfMissing:!1})}}return this._bodyDirty=nt.Clean,this._metaDirty=nt.Clean,e.then(()=>{this.triggerEvent("save",this)}).catch(e=>{console.error(`failed to save ${this} in indexeddb: ${e.stack||e}`)})}saveToFigma(e){this.requireValidGUID(),0==this.id&&(0==this._body.length&&(this._body=" "),this.save(),this._body=""),Be({type:"save-script",create:e.createIfMissing,script:{guid:this.guid,name:this.name,body:this.body}})}_onAfterLoadBody(){if(this.isROLib)return;const e="(/*SCRIPTER*/async function __scripter_script_main(){\n";this._body.startsWith(e)||(this._body=e+this._body),this._body.endsWith("\n})()/*SCRIPTER*/")||(this._body=this._body+"\n})()/*SCRIPTER*/")}async load(){let[e,t,n]=await w.read(["scripts","scriptBody","scriptViewState"],(e,t,n)=>e.get(this.id),(e,t,n)=>t.get(this.id),(e,t,n)=>n.get(this.id));return!!e&&(this.meta=e,this._body=t,this._editorViewState=n||null,this._onAfterLoadBody(),!0)}async loadIfEmpty(){if(!this.meta||!this.meta.name)return this.load();if(""!=this.body)return!0;let[e,t]=await w.read(["scriptBody","scriptViewState"],(e,t)=>e.get(this.id),(e,t)=>t.get(this.id));return this._body=e,this._editorViewState=t||null,this._onAfterLoadBody(),!0}whenLoaded(e){if(this.isLoaded)return e();this.loadIfEmpty().then(e)}async delete(){await w.modify(["scripts","scriptBody","scriptViewState"],async(e,t,n)=>{e.delete(this.id),t.delete(this.id),n.delete(this.id)}),this.triggerEvent("delete",this),this.meta=tt({}),this._body="",this._editorViewState=null}mutableCopy(){return new rt(Object.assign(Object.assign({},this.meta),{tags:[].concat(this.meta.tags)}),this._body,this._editorViewState,this.isROLib)}duplicate(e={}){return new rt(Object.assign(Object.assign(Object.assign({},this.meta),{tags:[].concat(this.meta.tags),id:0,guid:N()}),e),this._body,this._editorViewState,this.isROLib)}mergeApply(e){let t=this;t.meta.modifiedAt>e.meta.modifiedAt||(t.body=e.body,t.name=e.name,0==t.meta.id&&(t.meta.id=e.meta.id))}toString(){return`script#${this.meta.id}`+(this.meta.guid?`/${this.meta.guid}`:"")}static create(e={},t="",n){e.guid||(e=Object.assign(Object.assign({},e),{guid:N()}));const r=new rt(tt(e),t,null,n);return r._onAfterLoadBody(),r}static async load(e){let t=new rt({id:e},"",null);return await t.load()?t:null}}function it(e,t,n){return{guid:"examples/"+e,name:t,code:n.replace(/^\s*\n|\n\s*$/,"")+"\n"}}function ot(e,t){return _?e:t}var st=(e=>{let t={};for(let n of e){let[e,r]=n.name.split("/",2);r?n.name=r:(r=e,e="");let i=t[e];i?i.push(n):t[e]=[n]}return t})([it("intro","Introduction",`\n/**\nHello hi and welcome to Scripter.\n\nScripts are written in relaxed TypeScript.\nThis grey text here is a comment.\n\nTry running this script using the ► button in the toolbar, or by pressing ${ot("⌘↩︎","Ctrl+Return")}\n*/\nprint(\`Today is \${Date()}\`)\nprint("Your viewport:", viewport.bounds)\n\n/**\nThere are more examples in the menu ☰.\nOpen the menu using the ☰ button in the bottom left corner.\nCreate a new script using the + button in the top toolbar.\n\nThis editor provides automatic completions of all available functionality, including the Figma API.\nType "figma." to start exploring the API.\n\nScripts are automatically saved locally and securely.\nYou can also load and save scripts to the current Figma file.\nTo save a script, press the "Save to Figma File" button in the toolbar.\nChanges to the script are not automatically saved both to the Figma file\nas well as locally to your computer.\nTo remove a script from a Figma file, simply delete the frame in the Figma file's page.\nTo share a script with someone else, save it to a Figma file and invite others to the file.\nTo load a script from a Figma file, select the script's frame in Figma and then start Scripter.\n\nEditor basics\n• Scripts are automatically saved locally\n• Scripts can optionally by saved to the Figma file\n• Manage your scripts in the menu.\n• Double-click a script in the menu to rename,\n  pressing RETURN to commit a name change or\n  ESC to cancel.\n• Rename a script "" (nothing) to delete it.\n\nKeyboard shortcuts\n\tRuns the current script                ${ot("⌘↩","Ctrl+Return")}\n\tStop a running script                  ${ot("⇧⌘↩","Ctrl+Shift+Return")}\n\tCloses Scripter                        ${ot("⌥⌘P","Ctrl+Alt+P")}\n\tToggle the menu                        ${ot("⌃M","Ctrl+M")}\n\tIncreases text size                    ${ot("⌘+","Ctrl+Plus")}\n\tDecreases text size                    ${ot("⌘−","Ctrl+Minus")}\n\tResets text size                       ${ot("⌘0","Ctrl+0")}\n\tOpens quick commander                  ${ot("F1 ","F1")} or ${ot(" ⇧⌘P","Ctrl+Shift+P")}\n\tGoes to defintion of selected symbol   ${ot("⌘F12 ","Ctrl+F12")} or ${ot(" F12","F12")}\n\tPeek definitions of selected symbol    F11\n\tShow references to selected symbol     ${ot("⇧F12","Shift+F12")}\n\tQuick navigator                        ${ot("⇧⌘O ","Ctrl+Shift+O")} or ${ot(" ⌘P","Ctrl+P")}\n\tGo back in history                     ${ot("⇧⌘[ ","Ctrl+Shift+[")} or ${ot(" ⌃-","Alt+←")}\n\tGo forward in history                  ${ot("⇧⌘] ","Ctrl+Shift+]")} or ${ot(" ⌃⇧-","Alt+→")}\n\n*/\n`),it("figma/rects","Figma/Create rectangles","\n// Create some rectangles on the current page\nlet rectangles = range(0, 5).map(i =>\n\tRectangle({ x: i * 150, fills: [ ORANGE.paint ] }))\n\n// select our new rectangles and center the viewport\nviewport.scrollAndZoomIntoView(setSelection(rectangles))\n"),it("figma/trim-ws","Figma/Trim whitespace","\n// Select some text and run this script to trim away linebreaks and space.\nfor (let n of selection()) {\n\tif (isText(n)) {\n\t\tn.characters = n.characters.trim()\n\t}\n}\n"),it("figma/trim-line-indent","Figma/Trim line indentation",'\n// Select some text and run this script to trim away whitespace from the beginning of lines\nfor (let n of selection()) {\n\tif (isText(n)) {\n\t\tn.characters = n.characters.replace(/\\n\\s+/g, "\\n")\n\t}\n}\n'),it("figma/select-all-images","Figma/Select all images","\nlet images = await find(n => isImage(n) && n)\nsetSelection(images)\n\n// More node type filters:\n//   isDocument, isPage\n//   isFrame, isGroup, isSlice\n//   isRect, isRectangle\n//   isLine\n//   isEllipse, isPolygon, isStar\n//   isVector\n//   isText\n//   isBooleanOperation\n//   isComponent, isInstance\n//   isSceneNode, isContainerNode, isShape\n//\n// These can also be used as type guards:\n//\nlet n = selection(0)\n// here, n's type is the generic BaseNode\nif (isRect(n)) {\n\t// but here n's type is RectangleNode\n}\n"),it("figma/set-images-fit","Figma/Set images to fit",'\n// Loop over images in the selection\nfor (let shape of await find(selection(), n => isImage(n) && n)) {\n\t// Update image paints to use "FIT" scale mode\n\tshape.fills = shape.fills.map(p =>\n\t\tisImage(p) ? {...p, scaleMode: "FIT"} : p)\n}\n'),it("figma/viewport-intro","Figma/Viewport","\n// This demonstrates use of the viewport API\n\n// Helper pause function\nconst pause = () => timer(1000)\n\n// Save current viewport and then change it\nviewport.save()\nviewport.center = {x:1000,y:0}\n\n// wait for a little while so we can see the effect\nawait pause()\n\n// restore the last saved viewport\nviewport.restore()\nawait pause()\n\n\n// Viewports are saved on a stack. We can save multiple:\nviewport.save() // viewport 1\nviewport.center = {x:1000,y:0}\nawait pause()\nviewport.save() // viewport 2\nviewport.center = {x:-1000,y:0}\nawait pause()\nviewport.restore() // restore viewport 2\nawait pause()\nviewport.restore() // restore viewport 1\n\n\n// save() returns a handle to a specific viewport\nlet vp1 = viewport.save() // viewport 1\nviewport.center = {x:1000,y:0}\nviewport.save(false) // viewport 2\nviewport.center = {x:-1000,y:0}\nawait pause()\nviewport.restore(vp1) // restore viewport 1\n\n\n// We can also animate viewport changes.\n// This makes use of animate.transition()\nviewport.save()\nawait viewport.setAnimated({x:0,y:0}, 2.0, 0.5)\nawait pause()\nawait viewport.restoreAnimated(0.5, animate.easeInOutExpo)\nawait pause()\n\n// Finally, the first saved viewport is automatically\n// restored when a script ends:\nviewport.save()\nviewport.center = {x:1000,y:0}\nawait pause()\n// viewport.restore() called automatically\n"),it("basics/paths","Basics/Working with paths",'\n// The Path library provides functions for working\n// with pathnames.\nlet path = "/foo/bar/baz.png"\nprint(Path.ext(path))\nprint(Path.dir(path))\nprint(Path.base(path))\nprint(Path.clean("a/c//b/../k"))\nprint(Path.isAbs(path))\nprint(Path.join("foo", "//bar/", "baz", "internet"))\nprint(Path.split(path))\n'),it("basics/files","Basics/Working with files",'\n// Scripter doesn\'t support interfacing with your file system,\n// but it does provide functions for working with file data.\n\n// fileType can be used to investigate what type of file a\n// filename represents:\nprint(fileType("foo/bar.zip"))\n\n// fileType can even guess the file type based on the first\n// few bytes of some file data:\nprint(fileType([0xFF, 0xD8, 0xFF])) // JPEG image data\n'),it("basics/images","Basics/Showing images",'\n// The Img function and class can be used to describe images\n// and load image data for a few common image types.\n// Passing an Img to print vizualizes the image.\n\n// Img can take a URL which is then loaded by the web browser\nprint(Img("https://scripter.rsms.me/icon.png"))\n\n// We can specify the size if we want\nprint(Img("https://scripter.rsms.me/icon.png", {width:128, height:16}))\n\n// Img.load() allows us to load the image data\nlet icon = await Img("https://scripter.rsms.me/icon.png").load()\nprint(icon.data)\n// A loaded image may also have information that was read from\n// the image data itself, like mime type and bitmap dimensions:\nprint(icon, icon.type, icon.meta)\n\n// fetchImg is a shorthand function for loading an Img\nlet loadedIcon = await fetchImg("https://scripter.rsms.me/icon.png")\nprint(loadedIcon, loadedIcon.meta)\n\n// Img also accepts image data as its input,\n// in common image formats like png, gif and jpeg.\nlet gifData = Bytes(`\n\t47 49 46 38 39 61\n\t0A 00 0A 00 91 00 00\n\tFF FF FF FF 00 00 00 00 FF 00 00 00\n\t21 F9 04 00 00 00 00 00\n\t2C 00 00 00 00 0A 00 0A 00 00\n\t02 16 8C 2D 99 87 2A 1C DC 33 A0 02 75\n\tEC 95 FA A8 DE 60 8C 04 91 4C 01 00\n\t3B\n`)\nprint(Img(gifData, 32))\n\n// Img also supports JPEG in addition to PNG and GIF\nlet im1 = Img("https://scripter.rsms.me/sample/colors.jpg")\nawait im1.load()\nprint(im1, [im1])\n'),it("basics/timers","Basics/Timers",'\n// Timers allows waiting for some time to pass\n// or to execute some code after a delay.\nawait timer(200)\nprint("200ms passed")\n\n// Timers are promises with a cancel() function\nlet t = timer(200)\nprint("timer started")\n// cancel the timer before it expires.\n// Comment this line out to see the effect.\nt.cancel()\n// wait for timer\ntry {\n\tawait t\n\tprint("Rrrriiiiing!")\n} catch (_) {\n\tprint("timer canceled")\n}\n\n// Timers accept an optional handler function:\ntimer(200, canceled => {\n\tprint("timer expired.", {canceled})\n})\n// .cancel() // uncomment to try canceling\n'),it("basics/range","Basics/Ranges",'\n// The range() function creates a sequence of numbers in the\n// range [start–end), incrementing in steps. Steps defaults to 1.\nprint(range(1, 10))\nprint(range(1, 10, 3))\nprint(range(100, 0, 20))\n\n// Ranges are iterable\nfor (let n of range(1,4)) {\n\tprint(n) ; await timer(200)\n}\n\n// If we want a pre-allocated array, we can call the array() function\nprint(range(10).array())\n// or use Array.from, since ranges are iterables\nprint(Array.from(range(1, 10)))\n\n// range is often useful for graphics. We can represent columns or\n// rows similar to the Layout Grids feature in Figma:\nlet columns = range(80, 512, 64)\nprint(`64dp wide columns with 80dp offset: ${columns}`)\n\n// range() returns a LazySeq, which has several functions commonly\n// found for Array, like for instance map():\nprint(range(-4, 4).map(v => `0x${(v*10).toString(16)}`))\n\n// Since the sequence created by range() is lazy, values are allocated\n// only as needed, making range() feasible to represent very large\n// imaginary ranges.\n// For instance, the following only uses very little memory:\nprint(range(0, 90000000, 2).at(1234567))\n\n// We can even use Inifite to descrive never-ending sequences.\nprint(range(0, Infinity, 3).at(1234567918383))\n// Be careful when iterating over an infinite sequence since it\'s easy\n// to lock Figma if you forget to explicitly stop iteration.\n// Scripter will do its best to stop you from doing this: passing an\n// infinite sequence to print() or calling toString() on the sequence\n// will only show the first 50 entries followed by "... ∞" to indicate\n// that it goes on forever:\nprint(range(0, Infinity, 3))\n\n// Calling functions which only makes sense on finite sequences—like\n// map(), array() or join()—on an infinite sequence throws an error:\ntry {\n\trange(0, Infinity).array()\n} catch (e) {\n\tprint(e)\n}\n'),it("basics/jsx","Basics/JSX",'\n/**\n * Scripter supports JSX for creating nodes.\n * JSX tags map 1:1 to Scripter\'s node constructor functions,\n * like for instance Rectangle() and Frame().\n **/\n\n<Rectangle fills={[ RED.paint ]} />\n\n/**\n * You may notice that the above line does not actually add a\n * rectangle to the current page. This is an intentional\n * difference between the regular constructor form:\n *   Rectangle(...)\n * and the JSX form:\n *   <Rectangle ... />\n * The regular constructor form adds the object to the current\n * page automatically, while the JSX form does not add the node\n * to the page on creation. Instead you call appendChild or\n * addToScene explicitly.\n **/\n\nlet frame :FrameNode =\n<Frame height={130} fills={[ WHITE.paint ]}>\n\t<Rectangle fills={[ RED.paint ]} />\n\t<Text characters="Hello" x={8} y={110} />\n</Frame>\n\n// Try uncommenting this to see the frame added to the page\n// addToPage(frame)\n\n// Here is an example of using the regular node constructors:\nlet g = Group(\n\tRectangle(),\n\tText({characters:"Hello", y:110}),\n)\n\n// remove the group since the regular constructor form automatically\n// adds nodes to the current page.\ng.remove()\n'),it("basics/animate.transition","Basics/Animated transitions","\n// This demonstrates use of animate.transition()\n// See Misc/Animation for custom animation examples.\n\n// First, save & set the viewport to 0,0\nviewport.setSave({x:0,y:0}, 1)\n\n// Create a temporary circle\nlet n = Ellipse({ width:200, height:200, fills:[RED.paint] })\nscripter.onend = () => n.remove()\n\n// Animate the circle moving from left to right by 400dp\nawait animate.transition(2.0, progress => {\n\tn.x = progress * -400\n})\n\n// Pause for a little while\nawait timer(500)\n\n// Animate the circle back to 0,using a different timing function\nawait animate.transition(1.0, animate.easeOutElastic, progress => {\n\tn.x = -400 + (progress * 400)\n})\n\n// Pause for a little while before ending\nawait timer(500)\n"),it("ui/dialogs","UI input/Dialogs & Messaging",'\nconst { notify } = libui\n\n// alert(message) shows a message dialog.\n// Blocks the UI. Useful for important messages.\nalert("Something very important")\n\n// confirm(question) asks the user a yes or no\n// question via a message dialog. Blocks the UI.\n// Returns true if the user answered "yes".\nprint(await confirm("Would you like a kitten?"))\n\n// notify(message, options?) shows a message in\n// the bottom of the user\'s screen.\n// Does not block the UI.\nnotify("Notification", { timeout: 2000 })\n'),it("ui/range-slider","UI input/Range sliders","\n// Example of using interactive range slider to move a rectangle\nconst { rangeInput } = libui\n\n// Save viewport and create a red rectangle\nlet origViewport = { zoom: viewport.zoom, center: viewport.center }\nlet r = addToPage(Rectangle({ fills: [ORANGE.paint], cornerRadius: 10 }))\ntry {\n\t// Set viewport to focus on the rectangle\n\tviewport.zoom = 1\n\tviewport.center = {y: r.y, x: r.x}\n\n\t// Show a slider and move rectangle as it changes\n\tfor await (let v of rangeInput({min:-300, max:300})) {\n\t\tr.x = Math.sin(v * 0.03) * 200\n\t\tr.y = Math.cos(v * 0.05) * 80\n\t}\n} finally {\n\t// Remove the rectangle and restore viewport\n\tr.remove()\n\tviewport.center = origViewport.center\n\tviewport.zoom = origViewport.zoom\n}\n"),it("ui/async-gen","UI input/Async generators",'\n// Async generator functions allows creation of iterators which\n// may take some amount of time to produce their results.\n//\n// In this example we use a range input control to generate lists\n// of strings upon user moving the slider\nasync function* meowGenerator(max :number) {\n\tfor await (let count of libui.rangeInput({max, value:1, step:1})) {\n\t\tyield range(0, count).map(() => "Meow")\n\t}\n}\n\n// We can now use our meow generator like this:\nfor await (const meows of meowGenerator(10)) {\n\tprint(meows)\n}\n'),it("http/fetch","HTTP/Fetch",'\n// fetch can be used to fetch resources across the interwebs.\n// It\'s the standard fetch API you might already be used to.\nlet r = await fetch("https://jsonplaceholder.typicode.com/users/1")\nprint(await r.json())\n\n// Scripter provides a few shorthand functions for common tasks:\nprint(await fetchJson("https://jsonplaceholder.typicode.com/users/1"))\nprint(await fetchText("https://jsonplaceholder.typicode.com/users/1"))\nprint(await fetchImg("https://scripter.rsms.me/icon.png"))\nprint(await fetchData("https://scripter.rsms.me/icon.png"))\n'),it("http/figma","HTTP/Figma REST API",'\n// This script demonstrates accessing the Figma HTTP API\n//\n// First, generate an access token for yourself using the\n// "+ Get personal access token" function on this page:\n// https://www.figma.com/developers/api#access-tokens\nconst figmaHttpApiToken = "your_access_token_here"\n\n// We can now fetch JSON representations of files via the HTTP API\nlet file = await fetchFigmaFile("jahkK3lhzuegZBQXz5BbL7")\nprint(Img(file.thumbnailUrl), file)\n\n// Simple helper function for GETing files from Figma servers\nasync function fetchFigmaFile(fileKey :string) :Promise<any> {\n\tlet json = await fetchJson(\n\t\t"https://api.figma.com/v1/files/" + encodeURIComponent(fileKey),\n\t\t{ headers: { "X-FIGMA-TOKEN": figmaHttpApiToken } }\n\t)\n\tif (json.status && json.err) {\n\t\tthrow new Error(`API error: ${json.err}`)\n\t}\n\treturn json\n}\n'),it("worker/basics","Workers/Worker Basics",'\n/**\nWorkers are new in Scripter since July 2020. Workers is a way to execute code in parallel inside a full WebWorker environment, with access to features like script loading and OffscreenCanvas. There are also iframe-based workers as an option when you need a full complete web DOM with access to the full Web API.\n\nLet\'s get started with a simple worker:\n*/\n\nlet w = createWorker(async w => {\n  let r = await w.recv()  // wait for input\n  let result = "Hello ".repeat(r).trim()  // compute some stuff\n  w.send(result)  // send the result\n  w.close()  // close the worker\n})\nw.send(4)  // send some input\nprint(await w.recv())  // wait for a reply\n\n/**\nThe above worker is written in idiomatic Scripter style using send() and recv() calls.\n\nIf that\'s not your jam, you can alternatively use the event-based WebWorker API. The following example also shows how you can pass a worker script as a string:\n*/\n\nlet w2 = createWorker(`w => {\n  w.onmessage = ev => {\n    let result = "Bye ".repeat(ev.data).trim()\n    w.postMessage(result)\n    w.close()\n  }\n}`)\nw2.postMessage(4)\nw2.onmessage = ev => {\n  print(ev.data)\n}\n// We must await the worker or it will be closed immediately\n// as the script ends.\nawait w2\n\n/**\nSince Scripter is fully async-await capable, it\'s usually easier to use the send() and recv() functions instead of postMessage & onmessage events.\n\nsend() and recv() are optionally typed, which can be useful when you are writing more complicated scripts or simply prefer to have stricter types:\n*/\nlet w3 = createWorker(async w => {\n  let r = await w.recv<number>()  // r is a number\n  let result = "Hej ".repeat(r).trim()\n  w.send(result)  // type inferred from result\n  w.close()\n})\nw3.send<number>(4)  // this call now only accepts numbers\nprint(await w3.recv<string>())\n\n/**\nOne final example: worker requests\nThe request-response patterns is common with many worker uses and so there is a function-and-event pair to save you time from managing your own request IDs over send & recv:\n*/\n\nlet w4 = createWorker(async w => {\n  w.onrequest = req => {\n    return "Hi ".repeat(req.data).trim()  // compute some stuff\n  }\n})\nconst r1 = w4.request(/* input: */ 4, /* timeout: */ 1000)\nconst r2 = w4.request(/* input: */ 9, /* timeout: */ 1000)\nprint(await r1)\nprint(await r2)\n'),it("worker/import","Workers/Importing libraries",'\n/**\nWorkers can import scripts from the Internet and NPM, using w.import().\nThis opens up a world of millions of JavaScript libraries to Scripter!\nBrowse libraries at https://www.npmjs.com/\n\nLet\'s import the lru_map package:\n*/\nlet w = createWorker(async w => {\n\tlet { LRUMap } = await w.import("lru_map")\n\tlet c = new LRUMap(3)\n\tc.set(\'sam\', 42)\n\tc.set(\'john\', 26)\n\tc.set(\'angela\', 24)\n\tw.send(c.toString())\n\tc.get(\'john\') // touch entry to make it "recently used"\n\tw.send(c.toString())\n})\nprint(await w.recv())\nprint(await w.recv())\n\n/**\nYou can import any URL; you are not limited to NPM. Additionally, using the importAll function we can import multiple packages at once:\n*/\nw = createWorker(async w => {\n\tlet [{ LRUMap }, d3] = await w.importAll(\n\t\t"https://unpkg.com/lru_map@0.4.0/dist/lru.js",\n\t\t"d3@5",\n\t)\n\tw.send(`d3: ${typeof d3}, LRUMap: ${typeof LRUMap}`)\n})\nprint(await w.recv())\n\n// Note that TypeScript types are not supported for imported modules.\n// Scripter considers the API exposed by an imported library as "any".\n'),it("worker/iframe-d3-density-contours","Workers/IFrame workers",'\n/**\nSometimes a worker needs a full Web DOM or access to a Web API only available in full-blown documents, like WebGL. That\'s when iframe-based workers comes in handy.\n\nThis example shows how to load an external library which manipulates SVG in a DOM to create complex graphs. Specifically, the chart generated shows the relationship between idle and eruption times for Old Faithful. (Source: https://observablehq.com/@d3/density-contours)\n*/\n\nlet w = createWorker({iframe:true}, async w => {\n  // load d3 library\n  const d3 = await w.import("d3@5")\n\n  // load dataset and add labels to the array\n  const data = Object.assign(\n    await w.recv<{x:number,y:number}[]>(),\n    {x: "Idle (min.)", y: "Erupting (min.)"}\n  )\n\n  const width = 800\n  const height = 800\n  const margin = {top: 20, right: 30, bottom: 30, left: 40}\n\n  const x = d3.scaleLinear()\n    .domain(d3.extent(data, d => d.x)).nice()\n    .rangeRound([margin.left, width - margin.right])\n\n  const y = d3.scaleLinear()\n    .domain(d3.extent(data, d => d.y)).nice()\n    .rangeRound([height - margin.bottom, margin.top])\n\n  const xAxis = g => g.append("g")\n    .attr("transform", `translate(0,${height - margin.bottom})`)\n    .call(d3.axisBottom(x).tickSizeOuter(0))\n    .call(g => g.select(".domain").remove())\n    .call(g => g.select(".tick:last-of-type text").clone()\n      .attr("y", -3)\n      .attr("dy", null)\n      .attr("font-weight", "bold")\n      .text(data.x))\n\n  const yAxis = g => g.append("g")\n    .attr("transform", `translate(${margin.left},0)`)\n    .call(d3.axisLeft(y).tickSizeOuter(0))\n    .call(g => g.select(".domain").remove())\n    .call(g => g.select(".tick:last-of-type text").clone()\n      .attr("x", 3)\n      .attr("text-anchor", "start")\n      .attr("font-weight", "bold")\n      .text(data.y))\n\n  const contours = d3.contourDensity()\n    .x(d => x(d.x))\n    .y(d => y(d.y))\n    .size([width, height])\n    .bandwidth(30)\n    .thresholds(30)\n    (data)\n\n  const svg = d3.create("svg")\n      .attr("viewBox", [0, 0, width, height]);\n\n  svg.append("g").call(xAxis);\n\n  svg.append("g").call(yAxis);\n\n  svg.append("g")\n      .attr("fill", "none")\n      .attr("stroke", "steelblue")\n      .attr("stroke-linejoin", "round")\n    .selectAll("path")\n    .data(contours)\n    .enter().append("path")\n      .attr("stroke-width", (d, i) => i % 5 ? 0.25 : 1)\n      .attr("d", d3.geoPath());\n\n  svg.append("g")\n      .attr("stroke", "white")\n    .selectAll("circle")\n    .data(data)\n    .enter().append("circle")\n      .attr("cx", d => x(d.x))\n      .attr("cy", d => y(d.y))\n      .attr("r", 2);\n\n  // respond with SVG code\n  w.send(svg.node().outerHTML)\n})\n\n// load sample data\nconst data = await fetchJson("https://scripter.rsms.me/sample/old-faithful.json")\n\n// Send data to the worker for processing.\n// The second argument causes data to be transferred\n// instead of copied.\nw.send(data, [data])\n\n// await a response, then add SVG to Figma document\nlet svg = await w.recv<string>()\nlet n = figma.createNodeFromSvg(svg)\nfigma.viewport.scrollAndZoomIntoView([n])\n'),it("worker/window-basics","Workers/Windows",'\n/**\nWorkers backed by an iframe can be made visible and interactive via the "visible" property passed to createWorker.\n*/\nconst w1 = createWorker({iframe:{visible:true,width:100}}, async w => {\n\tw.document.body.innerHTML = `<p>Hello</p>`\n})\n\n/**\ncreateWindow is a dedicated function for creating windows that house workers. To explore the options and the API, either place your pointer over createWindow below and press F12 or ALT-click the createWindow call to jump to the API documentation.\n*/\nconst w2 = createWindow({width:300,height:100}, async w => {\n\tlet time :any\n\tconst ui = w.createElement("div", {\n\t\tstyle: {\n\t\t\tdisplay: "flex",\n\t\t\t"flex-direction": "column",\n\t\t\tfont: "12px sans-serif",\n\t\t}},\n\t\tw.createElement("button", { onclick() { w.send("ping") } }, "Ping!"),\n\t\tw.createElement("button", { onclick() { w.close() } }, "Close window"),\n\t\ttime = w.createElement("p", {}, "")\n\t)\n\tw.document.body.appendChild(ui)\n\n\tfunction updateTime() {\n\t\ttime.innerText = `Time: ${(new Date).toTimeString()}`\n\t}\n\tupdateTime()\n\tsetInterval(updateTime, 1000)\n})\n\nw2.onmessage = ev => {\n\t// click the "Ping!" button in the window\n\tprint(ev.data)\n}\n\n// wait until both windows have been closed\nawait Promise.all([w1,w2])\n'),it("worker/window-advanced1","Workers/Windows advanced",'\n/**\nThis is a version of the "IFrame worker" example which uses the d3 library inside a window to create a data visualization. However, instead of adding the generating graph to the Figma document, its shown in an interactive window instead. (Source: https://observablehq.com/@d3/density-contours)\n\nA second window is opened as well, loading a Three.js WebGL via an external URL.\n*/\nconst w1 = createWindow({title:"d3",width:800}, async w => {\n  // load data\n  const datap = fetch("https://scripter.rsms.me/sample/old-faithful.json").then(r => r.json())\n\n  // load d3 library\n  const d3 = await w.import("d3@5")\n\n  // wait for dataset and add labels\n  const data = Object.assign(\n    await datap,\n    {x: "Idle (min.)", y: "Erupting (min.)"}\n  )\n\n  const width = 800\n  const height = 800\n  const margin = {top: 20, right: 30, bottom: 30, left: 40}\n\n  const x = d3.scaleLinear()\n    .domain(d3.extent(data, d => d.x)).nice()\n    .rangeRound([margin.left, width - margin.right])\n\n  const y = d3.scaleLinear()\n    .domain(d3.extent(data, d => d.y)).nice()\n    .rangeRound([height - margin.bottom, margin.top])\n\n  const xAxis = g => g.append("g")\n    .attr("transform", `translate(0,${height - margin.bottom})`)\n    .call(d3.axisBottom(x).tickSizeOuter(0))\n    .call(g => g.select(".domain").remove())\n    .call(g => g.select(".tick:last-of-type text").clone()\n      .attr("y", -3)\n      .attr("dy", null)\n      .attr("font-weight", "bold")\n      .text(data.x))\n\n  const yAxis = g => g.append("g")\n    .attr("transform", `translate(${margin.left},0)`)\n    .call(d3.axisLeft(y).tickSizeOuter(0))\n    .call(g => g.select(".domain").remove())\n    .call(g => g.select(".tick:last-of-type text").clone()\n      .attr("x", 3)\n      .attr("text-anchor", "start")\n      .attr("font-weight", "bold")\n      .text(data.y))\n\n  const contours = d3.contourDensity()\n    .x(d => x(d.x))\n    .y(d => y(d.y))\n    .size([width, height])\n    .bandwidth(30)\n    .thresholds(30)\n    (data)\n\n  const svg = d3.create("svg")\n      .attr("viewBox", [0, 0, width, height]);\n\n  svg.append("g").call(xAxis);\n\n  svg.append("g").call(yAxis);\n\n  svg.append("g")\n      .attr("fill", "none")\n      .attr("stroke", "steelblue")\n      .attr("stroke-linejoin", "round")\n    .selectAll("path")\n    .data(contours)\n    .enter().append("path")\n      .attr("stroke-width", (d, i) => i % 5 ? 0.25 : 1)\n      .attr("d", d3.geoPath());\n\n  svg.append("g")\n      .attr("stroke", "white")\n    .selectAll("circle")\n    .data(data)\n    .enter().append("circle")\n      .attr("cx", d => x(d.x))\n      .attr("cy", d => y(d.y))\n      .attr("r", 2);\n\n  // respond with SVG code\n  w.document.body.appendChild(svg.node())\n})\n\nconst w2 = createWindow(\n  {title:"Three.js"},\n  "https://threejs.org/examples/webgl_postprocessing_unreal_bloom.html")\n\n// wait until both windows have been closed\nawait Promise.all([w1,w2])\n'),it("advanced/timeout","Misc/Timeout",'\n// Example of using withTimeout for limiting the time\n// of a long-running process.\n\n// Try changing the delay here from 200 to 300:\nawait doSlowThing(200)\nasync function doSlowThing(timeout :number) {\n\tlet result = await withTimeout(getFromSlowInternet(), timeout)\n\tif (result == "TIMEOUT") {\n\t\tprint("network request timed out :-(")\n\t} else {\n\t\tprint("network request finished on time :-)", result)\n\t}\n}\n\n// Function that simulates a slow, cancellable network fetch.\n// In parctice, this would be some some actual long-running thing\n// like fetch call or timer.\nfunction getFromSlowInternet() :CancellablePromise<Object> {\n\treturn timer(250).catch(_=>{}).then(() => ({message: "Hello"}))\n}\n'),it("advanced/tick-tock","Misc/Tick tock, tick tock, tick tock",'\n// Demonstrates continously-running scripts.\n// This loops forever until you restart or\n// stop the script.\n\nfor (let i = 1; true; i++) {\n\tprint(i % 2 ? "Tick" : "Tock")\n\tawait timer(1000)  // wait for 1 second\n}\n'),it("advanced/animation","Misc/Animation","\n// Example of using animate() to create custom animations\n\n// Create a temporary rectangle\nlet r = Rectangle({ fills:[ORANGE.paint], rotation: 45 })\nscripter.onend = () => r.remove()\n\n// save viewport and focus on the rectangle\nviewport.focusSave(r, 1.0)\n\n// extent of motion in dp and shorthand functions\nconst size = viewport.bounds.width / 2 - r.width\nconst { cos, sin, abs, PI } = Math\n\n// animation loop\nawait animate(time => {\n\t// This function is called at a high frequency with\n\t// time incrementing for every call.\n\ttime *= 3 // alter speed\n\tlet scale = size / (3 - cos(time * 2))\n\tr.x = scale * cos(time) - (r.width / 2)\n\tr.y = scale * sin(3 * time) / 1.5 - (r.height / 2)\n\tr.rotation = cos(time) * 45\n})\n"),it("misc/timing-function-viz","Misc/Timing Functions",'\n// This generates a grid of graphs visualizing the different\n// timing functions available from animate.ease*\n// See Misc/Animation for examples of how to use these functions.\n\nviewport.focus(getTimingFunctions().map(createGraph))\n\nfunction createGraph(f :(n:number)=>number, index :int) {\n\tconst width = 200, height = 200, step = 2\n\tconst columns = 6\n\tconst spacing = Math.round(width * 0.75)\n\tconst xoffs = (index % columns) * (width + spacing)\n\tconst yoffs = Math.ceil((index + 1) / columns) * (height + spacing)\n\tlet n = buildVector({ width, height, strokeWeight: 2 }, c => {\n\t\tlet prevy = 0\n\t\tfor (let x of range(step, width, step)) {\n\t\t\tlet y = f(x / width) * height\n\t\t\tc.line(\n\t\t\t\t{x: xoffs + x,        y: yoffs + prevy},\n\t\t\t\t{x: xoffs + x + step, y: yoffs + y}\n\t\t\t)\n\t\t\tprevy = y\n\t\t}\n\t}) as SceneNode\n\tn = figma.flatten([n]) // merge into a line\n\tif (f.name) {\n\t\tlet t = createText({\n\t\t\tcharacters: f.name,\n\t\t\tx: xoffs,\n\t\t\ty: yoffs + height + 10,\n\t\t\twidth: width,\n\t\t})\n\t\tn = createGroup({expanded:false}, n, t)\n\t\tn.name = f.name\n\t}\n\treturn n\n}\n\nfunction getTimingFunctions() :SAnimationTimingFunction[] {\n\t// collect timing functions, using a set to ignore aliases\n\tlet v = new Set<SAnimationTimingFunction>()\n\tfor (let k of Object.keys(animate)) {\n\t\tif (k.startsWith("ease")) {\n\t\t\tv.add(animate[k])\n\t\t}\n\t}\n\treturn Array.from(v)\n}\n'),it("advanced/poisson-disc-gen","Misc/Poisson-disc generator",'\n/**\nProgressively generates Poisson-disc pattern.\nPoisson-disc sampling produces points that are tightly-packed, but no closer to each other than a specified minimum distance, resulting in a more natural pattern.\nThis implementation is based on https://bl.ocks.org/mbostock/dbb02448b0f93e4c82c3 and uses a worker which computes Poisson-disc samples using a generator. Samples are sent from the worker to the Scripter script which then creates discs on the Figma canvas.\n*/\n\n// Constants controlling the resulting graphic\nconst width  = 900\nconst height = 800\nconst density      = 8  // average distance between vertices\nconst circleRadius = 2  // radius of dots drawn for each vertex\n\n// Simple 2D vector used for vertices\ntype Vec = [number,number]\n\n// Request data that the Poisson-disc generator worker accepts\ninterface PoissonDiscGenRequest {\n\twidth  :number  // size of area to fill\n\theight :number  // size of area to fill\n\tradius :number  // density of vertices\n}\n\n// Poisson-disc generator worker\nconst w = createWorker({iframe:{visible:false}}, async w => {\n\n\tconst r = await w.recv<PoissonDiscGenRequest>()\n\n\tlet sendq :Vec[] = []\n\tfor (const v of poissonDiscSampler(r.width, r.height, r.radius)) {\n\t\tsendq.push(v)\n\t\tif (sendq.length >= 100) {\n\t\t\tawait w.recv()\n\t\t\tw.send(sendq)\n\t\t\tsendq.length = 0\n\t\t}\n\t}\n\t// send possibly last samples and finally an empty list,\n\t// which signals the end for the Scripter script.\n\tw.send(sendq)\n\tw.send([])\n\n\tfunction* poissonDiscSampler(width :int, height :int, radius :number) :Generator<Vec> {\n\t\t// Based on https://bl.ocks.org/mbostock/dbb02448b0f93e4c82c3\n\t\tconst k = 30, // maximum number of samples before rejection\n\t\t      radius2 = radius * radius,\n\t\t      radius2_3 = 3 * radius2,\n\t\t      cellSize = radius * Math.SQRT1_2,\n\t\t      gridWidth = Math.ceil(width / cellSize),\n\t\t      gridHeight = Math.ceil(height / cellSize),\n\t\t      grid = new Array<Vec>(gridWidth * gridHeight),\n\t\t      queue :Vec[] = []\n\n\t\t// Pick the first sample.\n\t\tyield sample(\n\t\t\twidth / 2 + Math.random() * radius,\n\t\t\theight / 2 + Math.random() * radius)\n\n\t\t// Pick a random existing sample from the queue.\n\t\tpick: while (queue.length) {\n\t\t\tconst i = Math.random() * queue.length | 0\n\t\t\tconst parent = queue[i]\n\n\t\t\t// Make a new candidate between [radius, 2 * radius] from the existing sample.\n\t\t\tfor (let j = 0; j < k; ++j) {\n\t\t\t\tconst a = 2 * Math.PI * Math.random(),\n\t\t\t\t      r = Math.sqrt(Math.random() * radius2_3 + radius2),\n\t\t\t\t      x = parent[0] + r * Math.cos(a),\n\t\t\t\t      y = parent[1] + r * Math.sin(a)\n\n\t\t\t\t// Accept candidates that are inside the allowed extent\n\t\t\t\t// and farther than 2 * radius to all existing samples.\n\t\t\t\tif (0 <= x && x < width && 0 <= y && y < height && far(x, y)) {\n\t\t\t\t\t//yield {add: sample(x, y), parent}\n\t\t\t\t\tyield sample(x, y)\n\t\t\t\t\tcontinue pick\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If none of k candidates were accepted, remove it from the queue.\n\t\t\tconst r = queue.pop()\n\t\t\tif (i < queue.length) queue[i] = r as Vec\n\t\t}\n\n\t\tfunction far(x :number, y :number) :bool {\n\t\t\tconst i = x / cellSize | 0,\n\t\t\t      j = y / cellSize | 0,\n\t\t\t      i0 = Math.max(i - 2, 0),\n\t\t\t      j0 = Math.max(j - 2, 0),\n\t\t\t      i1 = Math.min(i + 3, gridWidth),\n\t\t\t      j1 = Math.min(j + 3, gridHeight)\n\t\t\tfor (let j = j0; j < j1; ++j) {\n\t\t\t\tconst o = j * gridWidth\n\t\t\t\tfor (let i = i0; i < i1; ++i) {\n\t\t\t\t\tconst s = grid[o + i]\n\t\t\t\t\tif (s) {\n\t\t\t\t\t\tconst dx = s[0] - x\n\t\t\t\t\t\tconst dy = s[1] - y\n\t\t\t\t\t\tif (dx * dx + dy * dy < radius2) return false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true\n\t\t}\n\n\t\tfunction sample(x :number, y :number) :Vec {\n\t\t\tconst i = gridWidth * (y / cellSize | 0) + (x / cellSize | 0)\n\t\t\tconst s = grid[i] = [x, y]\n\t\t\tqueue.push(s)\n\t\t\treturn s\n\t\t}\n\t}\n\n})\n\n// Ask the worker to generate vertices with poisson-disc distribution\nw.send<PoissonDiscGenRequest>({\n\twidth,\n\theight,\n\tradius: density,\n})\n\n// make a frame to house the results\nconst frame = Frame({ width, height, expanded: false })\nfigma.viewport.scrollAndZoomIntoView([frame])\n\n// color spectrum\nconst colors :(t :number)=>RGB = rgbSpline([\n\t"#ff0000", "#d53e4f", "#f46d43",\n\t"#fdae61", "#fee08b", // "#ffffbf", "#e6f598",\n\t"#abdda4", "#66c2a5", "#3288bd", "#5e4fa2"\n])\n\n// add dots as they arrive from the worker\nconst center :Vec = [ width * 0.5, height * 0.5 ]\nconst farDistance = squareDistance([0,0], center)\nwhile (true) {\n\tw.send(1)\n\tconst vertices = await w.recv<Vec[]>()\n\tif (vertices.length == 0) {\n\t\tbreak\n\t}\n\tfor (let v of vertices) {\n\t\tframe.appendChild(\n\t\t\t// Create a shape.\n\t\t\t// Try changing "Ellipse" to "Star" or "Rectangle"\n\t\t\tEllipse({\n\t\t\t\tfills: [ {\n\t\t\t\t\ttype: "SOLID",\n\t\t\t\t\tcolor: colors(squareDistance(center, v) / farDistance)\n\t\t\t\t} ],\n\t\t\t\tx: v[0] - circleRadius,\n\t\t\t\ty: v[1] - circleRadius,\n\t\t\t\twidth: circleRadius * 2,\n\t\t\t\theight: circleRadius * 2,\n\t\t\t\tconstrainProportions: true\n\t\t\t})\n\t\t)\n\t}\n}\n\nfunction squareDistance(a :Vec, b :Vec) :number {\n\tlet x = a[0] - b[0]\n\tlet y = a[1] - b[1]\n\treturn Math.sqrt(x * x + y * y)\n}\n\n// little color gradient function for making interpolateable ramps\nfunction rgbSpline(colors :string[]) :(t:number)=>RGB {\n\tconst n = colors.length\n\tconst r = new Float64Array(n)\n\tconst g = new Float64Array(n)\n\tconst b = new Float64Array(n)\n\tlet color = { r:0, g:0, b:0 }\n\n\tfor (let i = 0; i < n; ++i) {\n\t\tparseColor(colors[i], color)\n\t\tr[i] = color.r || 0\n\t\tg[i] = color.g || 0\n\t\tb[i] = color.b || 0\n\t}\n\n\tconst rf = basisSpline(r),\n\t      gf = basisSpline(g),\n\t      bf = basisSpline(b)\n\n\treturn (t :number) :RGB => {\n\t\tcolor.r = Math.max(0, Math.min(1, rf(t) / 255.0))\n\t\tcolor.g = Math.max(0, Math.min(1, gf(t) / 255.0))\n\t\tcolor.b = Math.max(0, Math.min(1, bf(t) / 255.0))\n\t\treturn color  // borrow\n\t\t// return { r: rf(t), g: gf(t), b: bf(t) }  // alloc & copy\n\t}\n\n\tfunction basisSpline(values :ArrayLike<number>) :(t :number)=>number {\n\t\tconst n = values.length - 1\n\t\treturn (t :number) => {\n\t\t\tlet i = (\n\t\t\t\tt <= 0 ? (t = 0) :\n\t\t\t\tt >= 1 ? (t = 1, n - 1) :\n\t\t\t\tMath.floor(t * n)\n\t\t\t)\n\t\t\tlet v1 = values[i]\n\t\t\tlet v2 = values[i + 1]\n\t\t\tlet v0 = i > 0 ? values[i - 1] : 2 * v1 - v2\n\t\t\tlet v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1\n\t\t\tlet t1 = (t - i / n) * n\n\t\t\tlet t2 = t1 * t1, t3 = t2 * t1\n\t\t\treturn ((1 - 3 * t1 + 3 * t2 - t3) * v0\n\t\t\t     + (4 - 6 * t2 + 3 * t3) * v1\n\t\t\t     + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n\t\t\t     + t3 * v3) / 6;\n\t\t}\n\t}\n\n\tfunction parseColor(s :string, out :{ r :number, g :number, b :number }) {\n\t\tif (s[0] == \'#\') {\n\t\t\ts = s.substr(1)\n\t\t}\n\t\tlet n = parseInt(s, 16)\n\t\tout.r = n >> 16 & 0xff\n\t\tout.g = n >> 8 & 0xff\n\t\tout.b = n & 0xff\n\t}\n}\n')]);const at=new class extends s{constructor(e){super(),this.version=0,this.exampleScripts={},this.referenceScripts=[],this.scripts=[],this.scriptsById=new Map,this.scriptsByGUID=new Map,this.refreshPromise=null,this.refresh=()=>(this.refreshPromise||(this.refreshPromise=new Promise((e,t)=>{let n=()=>{this.refreshPromise=null};this._refresh().then(()=>{n(),e()}).catch(e=>{n(),t(e)})})),this.refreshPromise),this._refresh=async()=>{let[e]=await this.db.read(["scripts"],async e=>{return e.getIndex("modifiedAt").getAll()}),t=me.currentScript;t&&0==t.id&&(e.push(t.meta),this.scriptsById.set(0,t)),e.reverse();let n=new Map,r=new Map,i=[];for(let t of e){let e=this.scriptsById.get(t.id);if(e||(e=new rt(t,"",null),this.scriptsById.set(t.id,e)),e.meta=t,e.meta.guid){let t=n.get(e.meta.guid);if(t){let n=e;console.debug&&console.debug("[script-data] detected duplicate GUID",{"script A meta":t.meta,"script B meta":n.meta},"(merging)"),t.mergeApply(n),t.save();continue}n.set(e.meta.guid,e)}else e.requireValidGUID();let o=r.get(e.meta.id);o?console.warn("[script-data] detected duplicate local ID",{"script meta 1":o.meta,"script meta 2":t}):(r.set(e.meta.id,e),i.push(e))}this.scripts=i,this.finalizeChanges(!1)},this.db=e,me.on("modelchange",this.refresh),this.db.on("open",this.refresh),this.db.on("change",e=>{if("scripts"==e.store)if("update"==e.type){let t=e.value,n=this.scriptsById.get(t.id);n?(t.id<=0&&e.key&&("number"==typeof e.key?t.id=e.key:console.error("[ScriptsData] unexpected key type in db change event",{key:e.key})),n.meta=t,this.finalizeChanges()):this.refresh()}else if("delete"==e.type){let t=e.key;for(let e=0;e<this.scripts.length;e++){if(this.scripts[e].id===t){this.scripts.splice(e,1);break}}this.finalizeChanges()}else this.refresh()});let t=new Set,n=-1e5;const r=(e,r,i,o)=>{if(t.has(e))throw new Error(`duplicate example script guid:${e}`);return t.add(e),rt.create({id:n++,guid:e,name:r,modifiedAt:new Date("2000-01-01 00:00:00")},i,o)};for(let e of Object.keys(st)){let t=this.exampleScripts[e];t||(this.exampleScripts[e]=t=[]);for(let n of st[e]){let e=r(n.guid,n.name,n.code,!1);this.defaultSampleScript||(this.defaultSampleScript=e),t.push(e)}}this.db.isOpen?this.refresh():this.finalizeChanges(),this.libLoadPromise=Promise.all(o.a.map(e=>e.body)).then(e=>{for(let t=0;t<e.length;t++){let n=o.a[t],i=r(n.filename,n.name,e[t],!0);this.referenceScripts.push(i)}this.finalizeChanges()})}async getScript(e){let t=this.scriptsById.get(e);return t?(t.isMutable||(t=t.mutableCopy()),await t.loadIfEmpty(),t):rt.load(e)}async getScriptByGUID(e){let t=this.scriptsByGUID.get(e);return t?(t.isMutable||(t=t.mutableCopy()),await t.loadIfEmpty(),t):null}scriptBefore(e){for(let t=0,n=this.scripts.length;t<n;t++)if(this.scripts[t].id==e)return this.scripts[t-1]||null;return null}scriptAfter(e){for(let t=0,n=this.scripts.length;t<n;t++)if(this.scripts[t].id==e){let e=this.scripts[t+1];if(e)return e;break}return this.firstNonUserScript()}scriptAfterOrBefore(e){for(let t=0,n=this.scripts.length;t<n;t++)if(this.scripts[t].guid==e){let e=this.scripts[t+1]||this.scripts[t-1];if(e)return e;break}return this.firstNonUserScript()}firstNonUserScript(){return this.defaultSampleScript||this.referenceScripts[0]||null}finalizeChanges(e=!0){e&&this.scripts.sort((e,t)=>e.modifiedAt<t.modifiedAt?1:t.modifiedAt<e.modifiedAt?-1:0);let t=this.scripts.slice();for(let e of Object.keys(this.exampleScripts))t=t.concat(this.exampleScripts[e]);t=t.concat(this.referenceScripts),this.scriptsById=new Map(t.map(e=>[e.id,e])),this.scriptsByGUID=new Map;for(let e of t)e.guid&&this.scriptsByGUID.set(e.guid,e);this.version++,this.triggerEvent("change")}nextNewScriptName(){let e=-1;for(let t of this.scripts)if(t.name.startsWith("Untitled")){let n=0,r=/Untitled\s*(\d+)\s*$/.exec(t.name);r&&(n=parseInt(r[1])),isNaN(n)||(e=Math.max(e,n))}return-1==e?"Untitled":`Untitled ${e+1}`}}(w);let lt=null,ut=null;function ct(){return ut||(ut=new Promise((e,t)=>{let n=0,r=new Map;lt=new Worker("/zip/worker.js"),lt.onmessage=i=>{let o=i.data;switch(o[0]){case"result":!function(e){let t=r.get(e[1]);t&&(r.delete(e[1]),"ok"==e[2]?t.resolve(e[3]):t.reject(e[3]))}(o);break;case"ready":e(new class{create(e){return function(e,t){let i={resolve(){},reject(){}},o=new Promise((e,t)=>{i.resolve=e,i.reject=t});return o.id=(n++).toString(36),r.set(o.id,i),lt.postMessage([e,o.id,t]),o}("create",e)}});break;default:t(new Error(`[zip] unexpected message from worker: ${JSON.stringify(o)}`))}}}))}async function dt(){const e=at.scripts.filter(e=>e.isUserScript);let t=await Promise.all(e.map(async e=>(await e.loadIfEmpty(),{name:e.name+".ts",contents:e.body,mtime:e.modifiedAt}))),n=`Scripter Scripts ${(new Date).toLocaleString().replace(/\//g,"-").replace(/:/g,".")}`;await async function(e,t){let n=await ct(),r=await n.create(t),i="undefined"!=typeof File?new File([r],e,{type:"application/zip"}):new Blob([r],{type:"application/zip"}),o=URL.createObjectURL(i);if("undefined"==typeof window||"undefined"==typeof document)document.location.href=o;else{let t=document.createElementNS("http://www.w3.org/1999/xhtml","a");t.href=o,t.download=e;let n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}setTimeout(()=>{URL.revokeObjectURL(o)},10)}(`${n}.zip`,{name:n,files:t})}function pt(e){e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded():e.scrollIntoView()}const ft=new class extends s{constructor(){super(...arguments),this.isVisible=!1,this._uiel=document.getElementById("menu"),this.menuUIMountPromise=new Promise(e=>{this._resolveMenuUIMountPromise=e}),this.closeOnSelection=!1}toggle(e=!1){this.isVisible=this._uiel.classList.toggle("visible",!this.isVisible),document.body.classList.toggle("menuVisible",this.isVisible),this.closeOnSelection=e,this.isVisible?L.a.render(T.a.createElement(ht,null),this._uiel):me.editor&&me.editor.focus(),this.triggerEvent("visibility",this.isVisible),me.editor&&me.editor.layout(),x.menuVisible=this.isVisible}init(){x.menuVisible&&this.toggle()}scrollToActiveItem(){function e(){let e=document.querySelector("#menu .active");return!!e&&(pt(e),!0)}e()||requestAnimationFrame(e)}};class ht extends T.a.Component{constructor(e){super(e),this.scriptsDataChangeCallback=()=>{this.setState({scripts:at.scripts,currentScriptId:me.currentScriptId})},this.onEditorModelChange=()=>{this.setState({currentScriptId:me.currentScriptId})},this.onConfigChange=()=>{this.setState({configVersion:x.version})},this.onChangeSettingBool=e=>{e.persist();let t=e.target;if(t.name.startsWith("config.")){let e="checkbox"==t.type?t.checked:t.value;x[t.name.substr("config.".length)]=!!e}},this.onChangeSettingBoolNeg=e=>{e.persist();let t=e.target;if(t.name.startsWith("config.")){let e="checkbox"==t.type?t.checked:t.value;x[t.name.substr("config.".length)]=!e}},this.onChangeSettingPercent=e=>{e.persist();let t=e.target;if(t.name.startsWith("config.")){let e=parseFloat(t.value);isNaN(e)||(x[t.name.substr("config.".length)]=Math.round(e)/100)}},this.onChangeSettingNum=e=>{e.persist();let t=e.target;if(t.name.startsWith("config.")){let e=parseFloat(t.value);isNaN(e)||(x[t.name.substr("config.".length)]=e)}},this.onChangeWindowSize=e=>{let t=e.target.value.split(",");if(t.length>1){let e=[r[t[0]],r[t[1]]];e&&(x.windowSize=e)}},this.onExportAllScripts=e=>{k("onExportAllScripts"),this.setState({isExportingScripts:!0}),dt().then(()=>{this.setState({isExportingScripts:!1})}).catch(e=>{console.error(`failed to export scripts: ${e.stack||e}`),this.setState({isExportingScripts:!1})})},this.state={scripts:at.scripts,exampleScripts:at.exampleScripts,referenceScripts:at.referenceScripts,currentScriptId:me.currentScriptId,configVersion:x.version,isExportingScripts:!1}}componentDidMount(){at.on("change",this.scriptsDataChangeCallback),me.on("modelchange",this.onEditorModelChange),x.on("change",this.onConfigChange),ft._resolveMenuUIMountPromise(),ft._resolveMenuUIMountPromise=null}componentWillUnmount(){at.removeListener("change",this.scriptsDataChangeCallback),me.removeListener("modelchange",this.onEditorModelChange),x.removeListener("change",this.onConfigChange)}render(){const e=this.state;let t=e.currentScriptId,n=x.windowSize.map(e=>r[e]).join(","),i=T.a.createElement("div",{className:"examples"},Object.keys(e.exampleScripts).map(n=>T.a.createElement("div",{key:n,className:"category"},n?T.a.createElement("h4",null,n):T.a.createElement("h3",null,"Examples"),T.a.createElement("ul",null,e.exampleScripts[n].map(e=>T.a.createElement(mt,{key:e.id,script:e,isActive:t==e.id}))))));return T.a.createElement("div",null,e.scripts.length>0?T.a.createElement("ul",null,e.scripts.map(e=>T.a.createElement(mt,{key:e.id,script:e,isActive:t==e.id}))):null,i,T.a.createElement("h3",null,"API reference"),T.a.createElement("ul",null,e.referenceScripts.map(e=>T.a.createElement(mt,{key:e.id,script:e,isActive:t==e.id}))),T.a.createElement("h3",null,"Settings"),T.a.createElement("div",{className:"settings"},T.a.createElement("label",null,T.a.createElement("input",{type:"checkbox",name:"config.showLineNumbers",checked:x.showLineNumbers,onChange:this.onChangeSettingBool}),"Line numbers"),T.a.createElement("label",null,T.a.createElement("input",{type:"checkbox",name:"config.wordWrap",checked:x.wordWrap,onChange:this.onChangeSettingBool}),"Word wrap"),T.a.createElement("label",{title:"Use the font JetBrains Mono instead of iA Writer Quattro"},T.a.createElement("input",{type:"checkbox",name:"config.monospaceFont",checked:x.monospaceFont,onChange:this.onChangeSettingBool}),"Monospace font"),T.a.createElement("label",{className:"dependant"+(x.monospaceFont?"":" disabled"),title:"Enables fancy ligatures of the monospace font JetBrains Mono, like special glyphs for => and =="},T.a.createElement("input",{type:"checkbox",name:"config.fontLigatures",checked:x.fontLigatures,onChange:this.onChangeSettingBool}),"Font ligatures"),T.a.createElement("label",{title:"Visualize otherwise-invisible characters like spaces and tabs"},T.a.createElement("input",{type:"checkbox",name:"config.showWhitespace",checked:x.showWhitespace,onChange:this.onChangeSettingBool}),"Show whitespace"),T.a.createElement("label",{title:"Show vertical indentation guides"},T.a.createElement("input",{type:"checkbox",name:"config.indentGuides",checked:x.indentGuides,onChange:this.onChangeSettingBool}),"Indentation guides"),T.a.createElement("label",{title:"Enables a minimap for navigating large scripts"},T.a.createElement("input",{type:"checkbox",name:"config.minimap",checked:x.minimap,onChange:this.onChangeSettingBool}),"Minimap"),T.a.createElement("label",{title:"Enables information cards shown when hovering over code snippets"},T.a.createElement("input",{type:"checkbox",name:"config.hoverCards",checked:x.hoverCards,onChange:this.onChangeSettingBool}),"Hover cards"),T.a.createElement("label",{title:"Enables suggestions as you type"},T.a.createElement("input",{type:"checkbox",name:"config.quickSuggestions",checked:x.quickSuggestions,onChange:this.onChangeSettingBool}),"Quick suggestions"),T.a.createElement("label",{className:"dependant"+(x.quickSuggestions?"":" disabled")},T.a.createElement("div",{className:"icon delay",title:"Quick suggestions delay"}),T.a.createElement("input",{type:"number",step:"100",min:"0",max:"10000",readOnly:!x.quickSuggestions,name:"config.quickSuggestionsDelay",value:x.quickSuggestionsDelay,onChange:this.onChangeSettingNum}),T.a.createElement("span",null,"ms")),T.a.createElement("label",{title:"Pressing the TAB key inserts SPACE characters instead of TAB"},T.a.createElement("input",{type:"checkbox",name:"config.useTabs",checked:!x.useTabs,onChange:this.onChangeSettingBoolNeg}),"TAB inserts spaces"),T.a.createElement("label",null,"Tab size:",T.a.createElement("input",{type:"number",step:"1",min:"1",max:"8",name:"config.tabSize",value:x.tabSize,onChange:this.onChangeSettingNum})),T.a.createElement("label",{title:"Size of Scripter window"},T.a.createElement("div",{className:"icon window"}),T.a.createElement("select",{name:"config.windowSize",value:n,onChange:this.onChangeWindowSize},T.a.createElement("option",{disabled:!0},"Window W×H"),T.a.createElement("option",{value:"SMALL,SMALL"},"S×S  window"),T.a.createElement("option",{value:"SMALL,MEDIUM"},"S×M  window"),T.a.createElement("option",{value:"SMALL,LARGE"},"S×L  window"),T.a.createElement("option",{value:"SMALL,XLARGE"},"S×MAX window"),T.a.createElement("option",{value:"MEDIUM,SMALL"},"M×S  window"),T.a.createElement("option",{value:"MEDIUM,MEDIUM"},"M×M  window"),T.a.createElement("option",{value:"MEDIUM,LARGE"},"M×L  window"),T.a.createElement("option",{value:"MEDIUM,XLARGE"},"M×MAX window"),T.a.createElement("option",{value:"LARGE,SMALL"},"L×S  window"),T.a.createElement("option",{value:"LARGE,MEDIUM"},"L×M  window"),T.a.createElement("option",{value:"LARGE,LARGE"},"L×L  window"),T.a.createElement("option",{value:"LARGE,XLARGE"},"L×MAX window"),T.a.createElement("option",{value:"XLARGE,SMALL"},"XL×S   window"),T.a.createElement("option",{value:"XLARGE,MEDIUM"},"XL×M   window"),T.a.createElement("option",{value:"XLARGE,LARGE"},"XL×L   window"),T.a.createElement("option",{value:"XLARGE,XLARGE"},"XL×MAX window"))),T.a.createElement("label",{title:`Scale of the Scripter editor text size (${_?"⌘+/-":"Ctrl+/-"})`},T.a.createElement("div",{className:"icon text-size"}),T.a.createElement("input",{type:"number",step:"10",min:"50",max:"300",name:"config.uiScale",value:Math.round(100*x.uiScale),onChange:this.onChangeSettingPercent}),T.a.createElement("span",null,"%")),T.a.createElement("div",{className:"group extra-actions"},T.a.createElement("button",{disabled:e.isExportingScripts,onClick:e.isExportingScripts?()=>{}:this.onExportAllScripts},e.isExportingScripts?"Exporting...":"Export all scripts"))))}}function mt(e){let t=e.script;const[n,r]=Object(C.useState)(!1);let i={className:(e.isActive?"active":"")+(0==t.id?" unsaved":"")};if(!n){i.onMouseDown=function(e){ft.closeOnSelection&&ft.toggle(),k("menu/open-script",t),me.openScriptByGUID(t.guid),pt(e.target)},!t.isROLib&&t.id>=0&&(i.onDoubleClick=e=>{r(!0),e.preventDefault(),e.stopPropagation()},i.onContextMenu=e=>{r(!0),e.preventDefault(),e.stopPropagation()},i.title=`Last modified ${t.modifiedAt.toLocaleString()}`)}function o(){let e=`Delete script "${t.name}"?`;if(t.isSavedInFigma()&&(e=`Remove script "${t.name}" from menu? You can open later again from Figma.`),t.id>0&&confirm(e)){let e=at.scriptAfterOrBefore(t.guid);e?me.openScriptByGUID(e.guid):me.newScript(),t.delete()}}let s=!1;let a={name:t.name,isEditing:n,commitEditing:function(e){s||(s=!0,0==(e=e.trim()).length?o():t.name!=e&&(t.name=e,t.save()),r(!1))},cancelEditing:function(){r(!1)}},l=[];if(!n&&!t.isROLib){if(l=[T.a.createElement(gt,{key:"play",className:"play",title:" ▶",tooltip:e.isActive?"Run script":"Open & Run script",onClick:async function(e){e.preventDefault(),e.stopPropagation(),await me.openScriptByID(t.id),me.runCurrentScript()}})],t.id>0){l.unshift(T.a.createElement(gt,{key:"delete",className:"delete",title:"✗",tooltip:"Delete script",onClick:async function(e){o()}}))}}return T.a.createElement("li",Object.assign({},i),T.a.createElement(yt,Object.assign({},a)),l)}function gt(e){return T.a.createElement("div",{className:"button "+e.className,onClick:e.onClick,title:e.tooltip},e.title)}function yt(e){const[t,n]=Object(C.useState)(e.name),[r,i]=Object(C.useState)(!0),o=Object(C.useRef)(null);if(Object(C.useEffect)(()=>{if(!e.isEditing)return t!==e.name&&n(e.name),void(r||i(!0));r&&o.current&&(o.current.select(),i(!1))}),!e.isEditing)return T.a.createElement("span",{className:"name"},e.name);return T.a.createElement("input",Object.assign({type:"text",autoFocus:!0},{value:t,ref:o,onChange:function(e){n(e.target.value)},onBlur:function(){e.commitEditing(t)},onKeyDown:function(n){"Enter"==n.key?(e.commitEditing(t),n.preventDefault(),n.stopPropagation()):"Escape"==n.key&&(e.cancelEditing(),n.preventDefault(),n.stopPropagation())}}))}const vt=256;class wt{constructor(e){this.root=e}get(e){return function(e,t){for(;t;){const n=bt(e,t.k);if(-1==n)t=t.L;else{if(1!=n){if(e.length==t.k.length)return t.v;break}t=t.R}}return null}(e,this.root)}getPrefixMatch(e){return function(e,t){for(;t;){const n=_t(e,t.k);if(-1==n)t=t.L;else{if(1!=n)return t.v;t=t.R}}return null}(e,this.root)}getPrefixMatches(e){return function(e,t){let n=[];return function e(t,n,r){for(;n;){const i=_t(t,n.k);if(-1==i)n=n.L;else if(1==i)n=n.R;else if(r.push(n.v),n.L&&n.R)e(t,n.L,r),n=n.R;else if(n.L)n=n.L;else{if(!n.R)break;n=n.R}}}(e,t,n),n}(e,this.root)}}function bt(e,t){const n=e.length,r=t.length,i=n<r?n:r;for(let n=0;n!=i;++n)if(e[n]!=vt&&t[n]!=vt){if(e[n]<t[n])return-1;if(t[n]<e[n])return 1}return n<r?-1:r<n?1:0}function _t(e,t){const n=e.length,r=t.length,i=n<r?n:r;for(let n=0;n!=i;++n)if(e[n]!=vt&&t[n]!=vt){if(e[n]<t[n])return-1;if(t[n]<e[n])return 1}return n<r?-1:0}const[St,kt]=function(){const e={type:"image/png",exts:["png"],description:"PNG image"},t={type:"image/gif",exts:["gif"],description:"GIF image"},n={type:"image/jpeg",exts:["jpg","jpeg","jfif","jpe"],description:"JPEG image"},r={type:"image/jp2",exts:["jp2"],description:"JPEG2000 image"},i={type:"image/webp",exts:["webp"],description:"WebP image"},o={type:"image/tiff",exts:["tif","tiff"],description:"TIFF image"},s={type:"image/bmp",exts:["bmp"],description:"Bitmap image"},a={type:"image/x-icon",exts:["ico"],description:"Icon image"},l={type:"image/vnd.adobe.photoshop",exts:["psd"],description:"Photoshop image"},u={type:"audio/midi",exts:["mid","midi"],description:"MIDI audio"},c={type:"audio/mp3",exts:["mp3"],description:"MP3 audio"},d={type:"audio/ogg",exts:["ogg"],description:"OGG audio"},p={type:"audio/wav",exts:["wav"],description:"WAV audio"},f={type:"video/x-m4v",exts:["m4v"],description:"MPEG4 video"},h={type:"video/mp4",exts:["mp4"],description:"MPEG4 video"},m={type:"application/wasm",exts:["wasm"],description:"WebAssembly module"},g={type:"application/zip",exts:["zip"],description:"Zip archive"},y={type:"application/jar",exts:["jar"],description:"Java archive"},v={type:"application/gzip",exts:["gz"],description:"GZip archive"},w={type:"application/x-tar",exts:["tar"],description:"TAR archive"},b={type:"application/x-tar-compressed",exts:["tgz"],description:"Compressed TAR archive"},_={type:"application/x-bzip2",exts:["bz2"],description:"BZip2 archive"},S={type:"application/pdf",exts:["pdf"],description:"PDF document"};return[new wt({k:[256,256,256,256,102,116,121,112,70,52,80,32],v:h,L:{k:[73,68,51],v:c,L:{k:[37,80,68,70],v:S,L:{k:[0,0,1,0],v:a,L:{k:[0,0,0,192,106,80,32,32,208,160,135,160,0],v:r},R:{k:[0,97,115,109,1,0,0,0],v:m,R:{k:[31,139,8],v:v,R:{k:[31,157,144],v:b}}}},R:{k:[66,90,104],v:_,L:{k:[56,66,80,83],v:l,R:{k:[66,77],v:s}},R:{k:[71,73,70,56,55,97],v:t,R:{k:[71,73,70,56,57,97],v:t,R:{k:[73,32,73],v:o}}}}},R:{k:[80,75,3,4,20,0,8,0],v:y,L:{k:[77,77,0,43],v:o,L:{k:[73,73,42,0],v:o,R:{k:[77,77,0,42],v:o}},R:{k:[77,84,104,100],v:u,R:{k:[79,103,103,83],v:d,R:{k:[80,75,3,4],v:g}}}},R:{k:[82,73,70,70,256,256,256,256,87,65,86,69],v:p,L:{k:[80,75,5,6],v:g,R:{k:[80,75,7,8],v:g}},R:{k:[117,115,116,97,114],v:w,L:{k:[82,73,70,70,256,256,256,256,87,69,66,80],v:i},R:{k:[137,80,78,71,13,10,26,10],v:e,R:{k:[255,216,255],v:n}}}}}},R:{k:[256,256,256,256,102,116,121,112,78,68,88,80],v:h,L:{k:[256,256,256,256,102,116,121,112,78,68,83,67],v:h,L:{k:[256,256,256,256,102,116,121,112,77,52,65],v:{type:"audio/m4a",exts:[]},L:{k:[256,256,256,256,102,116,121,112,70,52,86,32],v:h},R:{k:[256,256,256,256,102,116,121,112,77,52,86],v:f,R:{k:[256,256,256,256,102,116,121,112,77,83,78,86],v:h,R:{k:[256,256,256,256,102,116,121,112,78,68,65,83],v:h}}}},R:{k:[256,256,256,256,102,116,121,112,78,68,83,80],v:h,L:{k:[256,256,256,256,102,116,121,112,78,68,83,72],v:h,R:{k:[256,256,256,256,102,116,121,112,78,68,83,77],v:h}},R:{k:[256,256,256,256,102,116,121,112,78,68,88,67],v:h,L:{k:[256,256,256,256,102,116,121,112,78,68,83,83],v:h},R:{k:[256,256,256,256,102,116,121,112,78,68,88,72],v:h,R:{k:[256,256,256,256,102,116,121,112,78,68,88,77],v:h}}}}},R:{k:[256,256,256,256,102,116,121,112,105,115,111,52],v:h,L:{k:[256,256,256,256,102,116,121,112,97,118,99,49],v:h,L:{k:[256,256,256,256,102,116,121,112,78,68,88,83],v:h,R:{k:[256,256,256,256,102,116,121,112,78,83,68,67],v:h}},R:{k:[256,256,256,256,102,116,121,112,100,97,115,104],v:h,R:{k:[256,256,256,256,102,116,121,112,105,115,111,50],v:h,R:{k:[256,256,256,256,102,116,121,112,105,115,111,51],v:h}}}},R:{k:[256,256,256,256,102,116,121,112,109,109,112,52],v:h,L:{k:[256,256,256,256,102,116,121,112,105,115,111,53],v:h,R:{k:[256,256,256,256,102,116,121,112,105,115,111,54],v:h,R:{k:[256,256,256,256,102,116,121,112,105,115,111,109],v:h}}},R:{k:[256,256,256,256,102,116,121,112,109,112,52,50],v:h,L:{k:[256,256,256,256,102,116,121,112,109,112,52,49],v:h},R:{k:[256,256,256,256,102,116,121,112,109,112,52,118],v:h,R:{k:[256,256,256,256,102,116,121,112,109,112,55,49],v:h}}}}}}}),new Map([["png",[e]],["gif",[t]],["jpg",[n]],["jpeg",[n]],["jfif",[n]],["jpe",[n]],["jp2",[r]],["webp",[i]],["tif",[o]],["tiff",[o]],["bmp",[s]],["ico",[a]],["psd",[l]],["mid",[u]],["midi",[u]],["mp3",[c]],["ogg",[d]],["wav",[p]],["m4v",[f]],["mp4",[h]],["wasm",[m]],["zip",[g]],["jar",[y]],["gz",[v]],["tar",[w]],["tgz",[b]],["bz2",[_]],["pdf",[S]]])]}();const Et=new class extends s{constructor(){super(),this._keyEventHandlers=new Set,this.handleKeyDownEvent=e=>{},window.addEventListener("unload",()=>{this.triggerEvent("close")})}addKeyEventHandler(e){this._keyEventHandlers.add(e)}removeKeyEventHandler(e){this._keyEventHandlers.delete(e)}zoomIn(){let e=x.uiScale;for(let t of Ct)if(e<=t[0]){x.uiScale=t[1];break}}zoomOut(){let e=x.uiScale;for(let t of Ct)if(e<=t[1]){x.uiScale=t[0];break}}resetZoom(){x.uiScale=1}};var xt=t.default=Et;const Ct=(e=>e.slice(0,e.length-1).map((t,n)=>[t,e[n+1]]))([.5,.75,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.75,2,2.5,3]);function Tt(){Et.handleKeyDownEvent=e=>{let t=!1;if((e.metaKey||e.ctrlKey)&&((e,t)=>{if("Enter"==t||"r"==t)return e.shiftKey?(me.stopCurrentScript(),!0):(me.runCurrentScript(),!0);if(("x"==t||"X"==t)&&e.ctrlKey&&e.shiftKey)return me.stopCurrentScript(),!0;if("l"==t&&e.ctrlKey||_&&e.metaKey&&"k"==t)return ge(),me.clearMessages(),!0;if(!("m"!=t||_&&e.metaKey))return ft.toggle(),!0;if(e.shiftKey){if("BracketLeft"==e.code)return me.historyBack(),!0;if("BracketRight"==e.code)return me.historyForward(),!0}if(_&&e.ctrlKey&&"Minus"==e.code)return e.shiftKey?(me.historyForward(),!0):(me.historyBack(),!0);"="==t||"+"==t?Et.zoomIn():"-"==t?Et.zoomOut():"0"==t&&Et.resetZoom()})(e,e.key)?t=!0:e.altKey&&((e,t)=>{if(!_){if("ArrowLeft"==t)return me.historyBack(),!0;if("ArrowRight"==t)return me.historyForward(),!0}})(0,e.key)&&(t=!0),!t)for(let n of Et._keyEventHandlers)if(n(e)){t=!0;break}t&&(e.preventDefault(),e.stopPropagation())},window.addEventListener("keydown",Et.handleKeyDownEvent,{capture:!0,passive:!1})}function Mt(){document.body.style.setProperty("--uiScale",String(x.uiScale))}(async function(){et(),Tt(),await async function(){await w.open(async e=>{if(v(`upgrade database ${e.prevVersion} -> ${e.nextVersion}`),e.prevVersion<1){e.createStore("config");let t=e.createStore("scripts",{keyPath:"id",autoIncrement:!0});t.createIndex("modifiedAt","modifiedAt",{unique:!1}),t.createIndex("createdAt","createdAt",{unique:!1}),t.createIndex("tags","tags",{unique:!1,multiEntry:!0}),t.createIndex("name","name",{unique:!1}),e.createStore("scriptBody"),e.createStore("scriptViewState")}e.prevVersion<2&&e.createStore("history")})}(),await x.load();let e=[];!function(){function e(){let[e,t]=x.windowSize,n=document.body.classList;switch(n.remove("windowWidthSmall"),n.remove("windowWidthMedium"),n.remove("windowWidthLarge"),n.remove("windowWidthXLarge"),n.remove("windowHeightSmall"),n.remove("windowHeightMedium"),n.remove("windowHeightLarge"),n.remove("windowHeightXLarge"),e){case r.SMALL:n.add("windowWidthSmall");break;case r.MEDIUM:n.add("windowWidthMedium");break;case r.LARGE:n.add("windowWidthLarge");break;case r.XLARGE:n.add("windowWidthXLarge")}switch(t){case r.SMALL:n.add("windowHeightSmall");break;case r.MEDIUM:n.add("windowHeightMedium");break;case r.LARGE:n.add("windowHeightLarge");break;case r.XLARGE:n.add("windowHeightXLarge")}}x.on("change",t=>{"windowSize"==t.key?e():"uiScale"==t.key&&Mt()}),e()}(),Mt(),ie.init(),e.push(me.init()),ft.init(),parent.postMessage({type:"ui-init"},"*"),We(),await Promise.all(e),document.documentElement.classList.remove("loading")})().catch(e=>console.error(e.stack||String(e)))}]);
//# sourceMappingURL=app.0d05de77f42a6f9ee3a1.js.map